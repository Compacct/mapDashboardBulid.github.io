(self.webpackChunkpiopiyAngular=self.webpackChunkpiopiyAngular||[]).push([[179],{7210:(Le,K,H)=>{"use strict";function Y(e){return"function"==typeof e}function k(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fe=k(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function v(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ie{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Y(r))try{r()}catch(a){t=a instanceof fe?a.errors:[a]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const a of s)try{m(a)}catch(u){t=t??[],u instanceof fe?t=[...t,...u.errors]:t.push(u)}}if(t)throw new fe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof ie){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&v(n,t)}remove(t){const{_finalizers:n}=this;n&&v(n,t),t instanceof ie&&t._removeParent(this)}}ie.EMPTY=(()=>{const e=new ie;return e.closed=!0,e})();const G=ie.EMPTY;function o(e){return e instanceof ie||e&&"closed"in e&&Y(e.remove)&&Y(e.add)&&Y(e.unsubscribe)}function m(e){Y(e)?e():e.unsubscribe()}const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C={setTimeout(e,t,...n){const{delegate:r}=C;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=C;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function E(e){C.setTimeout(()=>{const{onUnhandledError:t}=x;if(!t)throw e;t(e)})}function w(){}const d=L("C",void 0,void 0);function L(e,t,n){return{kind:e,value:t,error:n}}let $=null;function O(e){if(x.useDeprecatedSynchronousErrorHandling){const t=!$;if(t&&($={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=$;if($=null,n)throw r}}else e()}class N extends ie{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,o(t)&&t.add(this)):this.destination=Ce}static create(t,n,r){return new me(t,n,r)}next(t){this.isStopped?De(function F(e){return L("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?De(function T(e){return L("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?De(d,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function q(e,t){return W.call(e,t)}class se{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ne(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ne(r)}else ne(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ne(n)}}}class me extends N{constructor(t,n,r){let s;if(super(),Y(t)||!t)s={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&x.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&q(t.next,a),error:t.error&&q(t.error,a),complete:t.complete&&q(t.complete,a)}):s=t}this.destination=new se(s)}}function ne(e){x.useDeprecatedSynchronousErrorHandling?function M(e){x.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=e)}(e):E(e)}function De(e,t){const{onStoppedNotification:n}=x;n&&C.setTimeout(()=>n(e,t))}const Ce={closed:!0,next:w,error:function ae(e){throw e},complete:w},ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(e){return e}function V(e){return 0===e.length?de:1===e.length?e[0]:function(n){return e.reduce((r,s)=>s(r),n)}}let ce=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,s){const a=function ge(e){return e&&e instanceof N||function Ae(e){return e&&Y(e.next)&&Y(e.error)&&Y(e.complete)}(e)&&o(e)}(n)?n:new me(n,r,s);return O(()=>{const{operator:u,source:p}=this;a.add(u?u.call(a,p):p?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=te(r))((s,a)=>{const u=new me({next:p=>{try{n(p)}catch(_){a(_),u.unsubscribe()}},error:a,complete:s});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ee](){return this}pipe(...n){return V(n)(this)}toPromise(n){return new(n=te(n))((r,s)=>{let a;this.subscribe(u=>a=u,u=>s(u),()=>r(a))})}}return e.create=t=>new e(t),e})();function te(e){var t;return null!==(t=e??x.Promise)&&void 0!==t?t:Promise}const pe=k(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let A=(()=>{class e extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new J(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pe}next(n){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:s,observers:a}=this;return r||s?G:(this.currentObservers=null,a.push(n),new ie(()=>{this.currentObservers=null,v(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:s,isStopped:a}=this;r?n.error(s):a&&n.complete()}asObservable(){const n=new ce;return n.source=this,n}}return e.create=(t,n)=>new J(t,n),e})();class J extends A{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:G}}function we(e){return Y(e?.lift)}function _e(e){return t=>{if(we(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(e,t,n,r,s){return new Me(e,t,n,r,s)}class Me extends N{constructor(t,n,r,s,a,u){super(t),this.onFinalize=a,this.shouldUnsubscribe=u,this._next=n?function(p){try{n(p)}catch(_){t.error(_)}}:super._next,this._error=s?function(p){try{s(p)}catch(_){t.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function xe(e,t){return _e((n,r)=>{let s=0;n.subscribe(Se(r,a=>{r.next(e.call(t,a,s++))}))})}function It(e){return this instanceof It?(this.v=e,this):new It(e)}function qr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function In(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(u){return new Promise(function(p,_){!function s(a,u,p,_){Promise.resolve(_).then(function(S){a({value:S,done:p})},u)}(p,_,(u=e[a](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const As=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function fo(e){return Y(e?.then)}function ho(e){return Y(e[ee])}function Is(e){return Symbol.asyncIterator&&Y(e?.[Symbol.asyncIterator])}function ti(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rs=function Xo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ni(e){return Y(e?.[Rs])}function Os(e){return function Ji(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=n.apply(e,t||[]),a=[];return s={},p("next"),p("throw"),p("return",function u(he){return function(Re){return Promise.resolve(Re).then(he,z)}}),s[Symbol.asyncIterator]=function(){return this},s;function p(he,Re){r[he]&&(s[he]=function(Fe){return new Promise(function(Ve,Qe){a.push([he,Fe,Ve,Qe])>1||_(he,Fe)})},Re&&(s[he]=Re(s[he])))}function _(he,Re){try{!function S(he){he.value instanceof It?Promise.resolve(he.value.v).then(I,z):oe(a[0][2],he)}(r[he](Re))}catch(Fe){oe(a[0][3],Fe)}}function I(he){_("next",he)}function z(he){_("throw",he)}function oe(he,Re){he(Re),a.shift(),a.length&&_(a[0][0],a[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:s}=yield It(n.read());if(s)return yield It(void 0);yield yield It(r)}}finally{n.releaseLock()}})}function Li(e){return Y(e?.getReader)}function Rn(e){if(e instanceof ce)return e;if(null!=e){if(ho(e))return function po(e){return new ce(t=>{const n=e[ee]();if(Y(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(As(e))return function Ua(e){return new ce(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(fo(e))return function Ms(e){return new ce(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,E)})}(e);if(Is(e))return go(e);if(ni(e))return function ea(e){return new ce(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Li(e))return function rs(e){return go(Os(e))}(e)}throw ti(e)}function go(e){return new ce(t=>{(function ta(e,t){var n,r,s,a;return function Kt(e,t,n,r){return new(n||(n=Promise))(function(a,u){function p(I){try{S(r.next(I))}catch(z){u(z)}}function _(I){try{S(r.throw(I))}catch(z){u(z)}}function S(I){I.done?a(I.value):function s(a){return a instanceof n?a:new n(function(u){u(a)})}(I.value).then(p,_)}S((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qr(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Zn(e,t,n,r=0,s=!1){const a=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!s)return a}function Tn(e,t,n=1/0){return Y(t)?Tn((r,s)=>xe((a,u)=>t(r,a,s,u))(Rn(e(r,s))),n):("number"==typeof t&&(n=t),_e((r,s)=>function mo(e,t,n,r,s,a,u,p){const _=[];let S=0,I=0,z=!1;const oe=()=>{z&&!_.length&&!S&&t.complete()},he=Fe=>S<r?Re(Fe):_.push(Fe),Re=Fe=>{a&&t.next(Fe),S++;let Ve=!1;Rn(n(Fe,I++)).subscribe(Se(t,Qe=>{s?.(Qe),a?he(Qe):t.next(Qe)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(S--;_.length&&S<r;){const Qe=_.shift();u?Zn(t,u,()=>Re(Qe)):Re(Qe)}oe()}catch(Qe){t.error(Qe)}}))};return e.subscribe(Se(t,he,()=>{z=!0,oe()})),()=>{p?.()}}(r,s,e,n)))}function wi(e=1/0){return Tn(de,e)}const nr=new ce(e=>e.complete());function Ns(e){return e[e.length-1]}function bn(e){return function Ir(e){return e&&Y(e.schedule)}(Ns(e))?e.pop():void 0}function Ei(e,t=0){return _e((n,r)=>{n.subscribe(Se(r,s=>Zn(r,e,()=>r.next(s),t),()=>Zn(r,e,()=>r.complete(),t),s=>Zn(r,e,()=>r.error(s),t)))})}function xs(e,t=0){return _e((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ks(e,t){if(!e)throw new Error("Iterable cannot be null");return new ce(n=>{Zn(n,t,()=>{const r=e[Symbol.asyncIterator]();Zn(n,t,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function En(e,t){return t?function ia(e,t){if(null!=e){if(ho(e))return function _o(e,t){return Rn(e).pipe(xs(t),Ei(t))}(e,t);if(As(e))return function Ui(e,t){return new ce(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(fo(e))return function is(e,t){return Rn(e).pipe(xs(t),Ei(t))}(e,t);if(Is(e))return ks(e,t);if(ni(e))return function na(e,t){return new ce(n=>{let r;return Zn(n,t,()=>{r=e[Rs](),Zn(n,t,()=>{let s,a;try{({value:s,done:a}=r.next())}catch(u){return void n.error(u)}a?n.complete():n.next(s)},0,!0)}),()=>Y(r?.return)&&r.return()})}(e,t);if(Li(e))return function ra(e,t){return ks(Os(e),t)}(e,t)}throw ti(e)}(e,t):Rn(e)}function wo(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new me({next:()=>{r.unsubscribe(),e()}});return Rn(t(...n)).subscribe(r)}function un(e){for(let t in e)if(e[t]===un)return t;throw Error("Could not find renamed property on target object.")}function dn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(dn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Bi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Co=un({__forward_ref__:un});function Fs(e){return e.__forward_ref__=Fs,e.toString=function(){return dn(this())},e}function ht(e){return Ls(e)?e():e}function Ls(e){return"function"==typeof e&&e.hasOwnProperty(Co)&&e.__forward_ref__===Fs}function Us(e){return e&&!!e.\u0275providers}class Ze extends Error{constructor(t,n){super(yn(t,n)),this.code=t}}function yn(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Jt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function pt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function ji(e,t){throw new Ze(-201,!1)}function Un(e,t){null==e&&function ut(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function hr(e){return{providers:e.providers||[],imports:e.imports||[]}}function $i(e){return ca(e,xn)||ca(e,Vi)}function ca(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ti(e){return e&&(e.hasOwnProperty(Bs)||e.hasOwnProperty(gr))?e[Bs]:null}const xn=un({\u0275prov:un}),Bs=un({\u0275inj:un}),Vi=un({ngInjectableDef:un}),gr=un({ngInjectorDef:un});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let os;function Fn(e){const t=os;return os=e,t}function ls(e,t,n){const r=$i(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&dt.Optional?null:void 0!==t?t:void ji(dn(e))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bi={},Rr="__NG_DI_FLAG__",si="ngTempTokenPath",Ao="ngTokenPath",cn=/\n/gm,oi="\u0275",cs="__source";let vr;function rr(e){const t=vr;return vr=e,t}function Io(e,t=dt.Default){if(void 0===vr)throw new Ze(-203,!1);return null===vr?ls(e,void 0,t):vr.get(e,t&dt.Optional?null:void 0,t)}function mt(e,t=dt.Default){return(function as(){return os}()||Io)(ht(e),t)}function Lt(e,t=dt.Default){return mt(e,jr(t))}function jr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Or(e){const t=[];for(let n=0;n<e.length;n++){const r=ht(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ze(900,!1);let s,a=dt.Default;for(let u=0;u<r.length;u++){const p=r[u],_=js(p);"number"==typeof _?-1===_?s=p.token:a|=_:s=p}t.push(mt(s,a))}else t.push(mt(r))}return t}function zi(e,t){return e[Rr]=t,e.prototype[Rr]=t,e}function js(e){return e[Rr]}function Mr(e){return{toString:e}.toString()}var Pr=(()=>((Pr=Pr||{})[Pr.OnPush=0]="OnPush",Pr[Pr.Default=1]="Default",Pr))(),_r=(()=>{return(e=_r||(_r={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",_r;var e})();const yr={},Ut=[],fs=un({\u0275cmp:un}),Gi=un({\u0275dir:un}),$n=un({\u0275pipe:un}),R=un({\u0275mod:un}),j=un({\u0275fac:un}),re=un({__NG_ELEMENT_ID__:un});let ue=0;function be(e){return Mr(()=>{const t=yu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||_r.Emulated,id:"c"+ue++,styles:e.styles||Ut,_:null,schemas:e.schemas||null,tView:null};$s(n);const r=e.dependencies;return n.directiveDefs=wr(r,!1),n.pipeDefs=wr(r,!0),n})}function Ue(e){return en(e)||wn(e)}function Je(e){return null!==e}function yt(e){return Mr(()=>({type:e.type,bootstrap:e.bootstrap||Ut,declarations:e.declarations||Ut,imports:e.imports||Ut,exports:e.exports||Ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dn(e,t){if(null==e)return yr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),n[s]=r,t&&(t[s]=a)}return n}function fn(e){return Mr(()=>{const t=yu(e);return $s(t),t})}function en(e){return e[fs]||null}function wn(e){return e[Gi]||null}function Vn(e){return e[$n]||null}function Nr(e,t){const n=e[R]||null;if(!n&&!0===t)throw new Error(`Type ${dn(e)} does not have '\u0275mod' property.`);return n}function yu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dn(e.inputs,t),outputs:Dn(e.outputs)}}function $s(e){e.features?.forEach(t=>t(e))}function wr(e,t){if(!e)return null;const n=t?Vn:Ue;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Je)}const zn=0,rt=1,Pt=2,On=3,ai=4,ds=5,kn=6,Te=7,Pe=8,Ne=9,tt=10,Xe=11,nn=12,gn=13,ve=14,hs=15,Wn=16,ir=17,Di=18,i=19,f=20,h=21,y=22,P=1,X=2,Oe=7,je=8,ft=9,Ht=10;function An(e){return Array.isArray(e)&&"object"==typeof e[P]}function sr(e){return Array.isArray(e)&&!0===e[P]}function ke(e){return 0!=(4&e.flags)}function nt(e){return e.componentOffset>-1}function ha(e){return 1==(1&e.flags)}function Ai(e){return!!e.template}function wu(e){return 0!=(256&e[Pt])}function Vs(e,t){return e.hasOwnProperty(j)?e[j]:null}class Dl{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zs(){return ga}function ga(e){return e.type.prototype.ngOnChanges&&(e.setInput=Il),Al}function Al(){const e=ma(this),t=e?.current;if(t){const n=e.previous;if(n===yr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Il(e,t,n,r){const s=this.declaredInputs[n],a=ma(e)||function lm(e,t){return e[Rl]=t}(e,{previous:yr,current:null}),u=a.current||(a.current={}),p=a.previous,_=p[s];u[s]=new Dl(_&&_.currentValue,t,p===yr),e[r]=t}zs.ngInherit=!0;const Rl="__ngSimpleChanges__";function ma(e){return e[Rl]||null}const Ii=function(e,t,n){};function Bn(e){for(;Array.isArray(e);)e=e[zn];return e}function ar(e,t){return Bn(t[e.index])}function Yr(e,t){const n=t[e];return An(n)?n:n[zn]}function Eu(e){return 64==(64&e[Pt])}function Mo(e,t){return null==t?null:e[t]}function rh(e){e[Di]=0}function Vc(e,t){e[ds]+=t;let n=e,r=e[On];for(;null!==r&&(1===t&&1===n[ds]||-1===t&&0===n[ds]);)r[ds]+=t,n=r,r=r[On]}const Nt={lFrame:Qc(null),bindingsEnabled:!0};function sh(){return Nt.bindingsEnabled}function qe(){return Nt.lFrame.lView}function ln(){return Nt.lFrame.tView}function Er(){let e=No();for(;null!==e&&64===e.type;)e=e.parent;return e}function No(){return Nt.lFrame.currentTNode}function ps(e,t){const n=Nt.lFrame;n.currentTNode=e,n.isParent=t}function ui(){return Nt.lFrame.isParent}function Su(e,t){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Tu(t)}function Tu(e){Nt.lFrame.currentDirectiveIndex=e}function Pl(e){Nt.lFrame.currentQueryIndex=e}function _a(e){const t=e[rt];return 2===t.type?t.declTNode:1===t.type?e[kn]:null}function ci(e,t,n){if(n&dt.SkipSelf){let s=t,a=e;for(;!(s=s.parent,null!==s||n&dt.Host||(s=_a(a),null===s||(a=a[hs],10&s.type))););if(null===s)return!1;t=s,e=a}const r=Nt.lFrame=Yc();return r.currentTNode=t,r.lView=e,!0}function Kc(e){const t=Yc(),n=e[rt];Nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Yc(){const e=Nt.lFrame,t=null===e?null:e.child;return null===t?Qc(e):t}function Qc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ga(){const e=Nt.lFrame;return Nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const qs=Ga;function bu(){const e=Ga();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xo(e){Nt.lFrame.selectedIndex=e}function Nl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:_,ngAfterViewChecked:S,ngOnDestroy:I}=a;u&&(e.contentHooks??(e.contentHooks=[])).push(-n,u),p&&((e.contentHooks??(e.contentHooks=[])).push(n,p),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,p)),_&&(e.viewHooks??(e.viewHooks=[])).push(-n,_),S&&((e.viewHooks??(e.viewHooks=[])).push(n,S),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,S)),null!=I&&(e.destroyHooks??(e.destroyHooks=[])).push(n,I)}}function lr(e,t,n){lh(e,t,3,n)}function qa(e,t,n,r){(3&e[Pt])===n&&lh(e,t,n,r)}function Xc(e,t){let n=e[Pt];(3&n)===t&&(n&=2047,n+=1,e[Pt]=n)}function lh(e,t,n,r){const a=r??-1,u=t.length-1;let p=0;for(let _=void 0!==r?65535&e[Di]:0;_<u;_++)if("number"==typeof t[_+1]){if(p=t[_],null!=r&&p>=r)break}else t[_]<0&&(e[Di]+=65536),(p<a||-1==a)&&(wm(e,n,t,_),e[Di]=(4294901760&e[Di])+_+2),_++}function wm(e,t,n,r){const s=n[r]<0,a=n[r+1],p=e[s?-n[r]:n[r]];if(s){if(e[Pt]>>11<e[Di]>>16&&(3&e[Pt])===t){e[Pt]+=2048,Ii(4,p,a);try{a.call(p)}finally{Ii(5,p,a)}}}else{Ii(4,p,a);try{a.call(p)}finally{Ii(5,p,a)}}}const ko=-1;class xl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Iu(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const a=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,a)}else{const a=s,u=n[++r];fh(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function ch(e){return 3===e||4===e||6===e}function fh(e){return 64===e.charCodeAt(0)}function Ll(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||tf(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function tf(e,t,n,r,s){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const p=e[a++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=a-1;break}}}for(;a<e.length;){const p=e[a];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==s&&(e[a+1]=s));if(r===e[a+1])return void(e[a+2]=s)}a++,null!==r&&a++,null!==s&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==s&&e.splice(a++,0,s)}function Ru(e){return e!==ko}function Ou(e){return 32767&e}function Ul(e,t){let n=function nf(e){return e>>16}(e),r=t;for(;n>0;)r=r[hs],n--;return r}let Mu=!0;function Hl(e){const t=Mu;return Mu=e,t}const dh=255,sf=5;let hh=0;const _s={};function Pu(e,t){const n=af(e,t);if(-1!==n)return n;const r=t[rt];r.firstCreatePass&&(e.injectorIndex=t.length,Bl(r.data,e),Bl(t,null),Bl(r.blueprint,null));const s=jl(e,t),a=e.injectorIndex;if(Ru(s)){const u=Ou(s),p=Ul(s,t),_=p[rt].data;for(let S=0;S<8;S++)t[a+S]=p[u+S]|_[u+S]}return t[a+8]=s,a}function Bl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function af(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function jl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=xu(s),null===r)return ko;if(n++,s=s[hs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ko}function lf(e,t,n){!function ph(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(re)&&(r=n[re]),null==r&&(r=n[re]=hh++);const s=r&dh;t.data[e+(s>>sf)]|=1<<s}(e,t,n)}function Gt(e,t,n){if(n&dt.Optional||void 0!==e)return e;ji()}function gh(e,t,n,r){if(n&dt.Optional&&void 0===r&&(r=null),!(n&(dt.Self|dt.Host))){const s=e[Ne],a=Fn(void 0);try{return s?s.get(t,r,n&dt.Optional):ls(t,r,n&dt.Optional)}finally{Fn(a)}}return Gt(r,0,n)}function mh(e,t,n,r=dt.Default,s){if(null!==e){if(1024&t[Pt]){const u=function Lo(e,t,n,r,s){let a=e,u=t;for(;null!==a&&null!==u&&1024&u[Pt]&&!(256&u[Pt]);){const p=Ka(a,u,n,r|dt.Self,_s);if(p!==_s)return p;let _=a.parent;if(!_){const S=u[h];if(S){const I=S.get(n,_s,r);if(I!==_s)return I}_=xu(u),u=u[hs]}a=_}return s}(e,t,n,r,_s);if(u!==_s)return u}const a=Ka(e,t,n,r,_s);if(a!==_s)return a}return gh(t,n,r,s)}function Ka(e,t,n,r,s){const a=function Ri(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(re)?e[re]:void 0;return"number"==typeof t?t>=0?t&dh:yh:t}(n);if("function"==typeof a){if(!ci(t,e,r))return r&dt.Host?Gt(s,0,r):gh(t,n,r,s);try{const u=a(r);if(null!=u||r&dt.Optional)return u;ji()}finally{qs()}}else if("number"==typeof a){let u=null,p=af(e,t),_=ko,S=r&dt.Host?t[Wn][kn]:null;for((-1===p||r&dt.SkipSelf)&&(_=-1===p?jl(e,t):t[p+8],_!==ko&&$l(r,!1)?(u=t[rt],p=Ou(_),t=Ul(_,t)):p=-1);-1!==p;){const I=t[rt];if(_h(a,p,I.data)){const z=vh(p,t,n,u,r,S);if(z!==_s)return z}_=t[p+8],_!==ko&&$l(r,t[rt].data[p+8]===S)&&_h(a,p,t)?(u=I,p=Ou(_),t=Ul(_,t)):p=-1}}return s}function vh(e,t,n,r,s,a){const u=t[rt],p=u.data[e+8],I=function Nu(e,t,n,r,s){const a=e.providerIndexes,u=t.data,p=1048575&a,_=e.directiveStart,I=a>>20,oe=s?p+I:e.directiveEnd;for(let he=r?p:p+I;he<oe;he++){const Re=u[he];if(he<_&&n===Re||he>=_&&Re.type===n)return he}if(s){const he=u[_];if(he&&Ai(he)&&he.type===n)return _}return null}(p,u,n,null==r?nt(p)&&Mu:r!=u&&0!=(3&p.type),s&dt.Host&&a===p);return null!==I?wa(t,u,I,p):_s}function wa(e,t,n,r){let s=e[n];const a=t.data;if(function kl(e){return e instanceof xl}(s)){const u=s;u.resolving&&function So(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${e}${n}`)}(Jt(a[n]));const p=Hl(u.canSeeViewProviders);u.resolving=!0;const _=u.injectImpl?Fn(u.injectImpl):null;ci(e,r,dt.Default);try{s=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ya(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:a}=t.type.prototype;if(r){const u=ga(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,u)}s&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,s),a&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==_&&Fn(_),Hl(p),u.resolving=!1,qs()}}return s}function _h(e,t,n){return!!(n[t+(e>>sf)]&1<<e)}function $l(e,t){return!(e&dt.Self||e&dt.Host&&t)}class Fo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mh(this._tNode,this._lView,t,jr(r),n)}}function yh(){return new Fo(Er(),qe())}function zr(e){return Ls(e)?()=>{const t=zr(ht(e));return t&&t()}:Vs(e)}function xu(e){const t=e[rt],n=t.type;return 2===n?t.declTNode:1===n?e[kn]:null}const Ca="__parameters__";function Ho(e,t,n){return Mr(()=>{const r=function zl(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...a){if(this instanceof s)return r.apply(this,a),this;const u=new s(...a);return p.annotation=u,p;function p(_,S,I){const z=_.hasOwnProperty(Ca)?_[Ca]:Object.defineProperty(_,Ca,{value:[]})[Ca];for(;z.length<=I;)z.push(null);return(z[I]=z[I]||[]).push(u),_}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(e,t){e.forEach(n=>Array.isArray(n)?ys(n,t):t(n))}function Sa(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Xa=zi(Ho("Optional"),8),el=zi(Ho("SkipSelf"),4);var Wr=(()=>((Wr=Wr||{})[Wr.Important=1]="Important",Wr[Wr.DashCase=2]="DashCase",Wr))();const Aa=new Map;let Sf=0;const Df="__ngContext__";function kr(e,t){An(t)?(e[Df]=t[f],function kh(e){Aa.set(e[f],e)}(t)):e[Df]=t}let Wu;function Af(e,t){return Wu(e,t)}function Zl(e){const t=e[On];return sr(t)?t[On]:t}function If(e){return Wh(e[gn])}function Rf(e){return Wh(e[ai])}function Wh(e){for(;null!==e&&!sr(e);)e=e[ai];return e}function nl(e,t,n,r,s){if(null!=r){let a,u=!1;sr(r)?a=r:An(r)&&(u=!0,r=r[zn]);const p=Bn(r);0===e&&null!==n?null==s?Qh(t,n,p):Ia(t,n,p,s||null,!0):1===e&&null!==n?Ia(t,n,p,s||null,!0):2===e?function Lf(e,t,n){const r=qu(e,t);r&&function Jm(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=a&&function tv(e,t,n,r,s){const a=n[Oe];a!==Bn(n)&&nl(t,e,r,a,s);for(let p=Ht;p<n.length;p++){const _=n[p];Jl(_[rt],_,e,t,r,a)}}(t,e,a,n,s)}}function Mf(e,t,n){return e.createElement(t,n)}function Gu(e,t){const n=e[ft],r=n.indexOf(t),s=t[On];512&t[Pt]&&(t[Pt]&=-513,Vc(s,-1)),n.splice(r,1)}function Pf(e,t){if(e.length<=Ht)return;const n=Ht+t,r=e[n];if(r){const s=r[ir];null!==s&&s!==e&&Gu(s,r),t>0&&(e[n-1][ai]=r[ai]);const a=Wl(e,Ht+t);!function Wm(e,t){Jl(e,t,t[Xe],2,null,null),t[zn]=null,t[kn]=null}(r[rt],r);const u=a[i];null!==u&&u.detachView(a[rt]),r[On]=null,r[ai]=null,r[Pt]&=-65}return r}function qh(e,t){if(!(128&t[Pt])){const n=t[Xe];n.destroyNode&&Jl(e,t,n,3,null,null),function qm(e){let t=e[gn];if(!t)return Nf(e[rt],e);for(;t;){let n=null;if(An(t))n=t[gn];else{const r=t[Ht];r&&(n=r)}if(!n){for(;t&&!t[ai]&&t!==e;)An(t)&&Nf(t[rt],t),t=t[On];null===t&&(t=e),An(t)&&Nf(t[rt],t),n=t&&t[ai]}t=n}}(t)}}function Nf(e,t){if(!(128&t[Pt])){t[Pt]&=-65,t[Pt]|=128,function Zm(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof xl)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=s[a[u]],_=a[u+1];Ii(4,p,_);try{_.call(p)}finally{Ii(5,p,_)}}else{Ii(4,s,a);try{a.call(s)}finally{Ii(5,s,a)}}}}}(e,t),function Qm(e,t){const n=e.cleanup,r=t[Te];let s=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[s=u]():r[s=-u].unsubscribe(),a+=2}else{const u=r[s=n[a+1]];n[a].call(u)}if(null!==r){for(let a=s+1;a<r.length;a++)(0,r[a])();t[Te]=null}}(e,t),1===t[rt].type&&t[Xe].destroy();const n=t[ir];if(null!==n&&sr(t[On])){n!==t[On]&&Gu(n,t);const r=t[i];null!==r&&r.detachView(e)}!function Fh(e){Aa.delete(e[f])}(t)}}function Kh(e,t,n){return function Yh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[zn];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:a}=e.data[r.directiveStart+s];if(a===_r.None||a===_r.Emulated)return null}return ar(r,n)}}(e,t.parent,n)}function Ia(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Qh(e,t,n){e.appendChild(t,n)}function Zh(e,t,n,r,s){null!==r?Ia(e,t,n,r,s):Qh(e,t,n)}function qu(e,t){return e.parentNode(t)}let xf,Bf,ep=function Xh(e,t,n){return 40&e.type?ar(e,n):null};function Ku(e,t,n,r){const s=Kh(e,r,t),a=t[Xe],p=function Jh(e,t,n){return ep(e,t,n)}(r.parent||t[kn],r,t);if(null!=s)if(Array.isArray(n))for(let _=0;_<n.length;_++)Zh(a,s,n[_],p,!1);else Zh(a,s,n,p,!1);void 0!==xf&&xf(a,r,t,n,s)}function rl(e,t){if(null!==t){const n=t.type;if(3&n)return ar(t,e);if(4&n)return Ff(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return rl(e,r);{const s=e[t.index];return sr(s)?Ff(-1,s):Bn(s)}}if(32&n)return Af(t,e)()||Bn(e[t.index]);{const r=kf(e,t);return null!==r?Array.isArray(r)?r[0]:rl(Zl(e[Wn]),r):rl(e,t.next)}}return null}function kf(e,t){return null!==t?e[Wn][kn].projection[t.projection]:null}function Ff(e,t){const n=Ht+e+1;if(n<t.length){const r=t[n],s=r[rt].firstChild;if(null!==s)return rl(r,s)}return t[Oe]}function Uf(e,t,n,r,s,a,u){for(;null!=n;){const p=r[n.index],_=n.type;if(u&&0===t&&(p&&kr(Bn(p),r),n.flags|=2),32!=(32&n.flags))if(8&_)Uf(e,t,n.child,r,s,a,!1),nl(t,e,s,p,a);else if(32&_){const S=Af(n,r);let I;for(;I=S();)nl(t,e,s,I,a);nl(t,e,s,p,a)}else 16&_?np(e,t,r,n,s,a):nl(t,e,s,p,a);n=u?n.projectionNext:n.next}}function Jl(e,t,n,r,s,a){Uf(n,r,e.firstChild,t,s,a,!1)}function np(e,t,n,r,s,a){const u=n[Wn],_=u[kn].projection[r.projection];if(Array.isArray(_))for(let S=0;S<_.length;S++)nl(t,e,s,_[S],a);else Uf(e,t,_,u[On],s,a,!0)}function ip(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Xl(e,t,n){const{mergedAttrs:r,classes:s,styles:a}=n;null!==r&&Iu(e,t,r),null!==s&&ip(e,t,s),null!==a&&function rp(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}const Tr=new _t("ENVIRONMENT_INITIALIZER"),Ln=new _t("INJECTOR",-1),_p=new _t("INJECTOR_DEF_TYPES");class Zs{get(t,n=bi){if(n===bi){const r=new Error(`NullInjectorError: No provider for ${dn(t)}!`);throw r.name="NullInjectorError",r}return n}}function Av(...e){return{\u0275providers:yp(0,e),\u0275fromNgModule:!0}}function yp(e,...t){const n=[],r=new Set;let s;return ys(t,a=>{const u=a;Yf(u,n,[],r)&&(s||(s=[]),s.push(u))}),void 0!==s&&wp(s,n),n}function wp(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];Qf(s,a=>{t.push(a)})}}function Yf(e,t,n,r){if(!(e=ht(e)))return!1;let s=null,a=Ti(e);const u=!a&&en(e);if(a||u){if(u&&!u.standalone)return!1;s=e}else{const _=e.ngModule;if(a=Ti(_),!a)return!1;s=_}const p=r.has(s);if(u){if(p)return!1;if(r.add(s),u.dependencies){const _="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const S of _)Yf(S,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let S;r.add(s);try{ys(a.imports,I=>{Yf(I,t,n,r)&&(S||(S=[]),S.push(I))})}finally{}void 0!==S&&wp(S,t)}if(!p){const S=Vs(s)||(()=>new s);t.push({provide:s,useFactory:S,deps:Ut},{provide:_p,useValue:s,multi:!0},{provide:Tr,useValue:()=>mt(s),multi:!0})}const _=a.providers;null==_||p||Qf(_,I=>{t.push(I)})}}return s!==e&&void 0!==e.providers}function Qf(e,t){for(let n of e)Us(n)&&(n=n.\u0275providers),Array.isArray(n)?Qf(n,t):t(n)}const Js=un({provide:String,useValue:un});function Xu(e){return null!==e&&"object"==typeof e&&Js in e}function _n(e){return"function"==typeof e}const Zf=new _t("Set Injector scope."),ec={},Iv={};let Jf;function tc(){return void 0===Jf&&(Jf=new Zs),Jf}class Xs{}class Xf extends Xs{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nd(t,u=>this.processProvider(u)),this.records.set(Ln,eo(void 0,this)),s.has("environment")&&this.records.set(Xs,eo(void 0,this));const a=this.records.get(Zf);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(_p.multi,Ut,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=rr(this),r=Fn(void 0);try{return t()}finally{rr(n),Fn(r)}}get(t,n=bi,r=dt.Default){this.assertNotDestroyed(),r=jr(r);const s=rr(this),a=Fn(void 0);try{if(!(r&dt.SkipSelf)){let p=this.records.get(t);if(void 0===p){const _=function Ov(e){return"function"==typeof e||"object"==typeof e&&e instanceof _t}(t)&&$i(t);p=_&&this.injectableDefInScope(_)?eo(Ra(t),ec):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&dt.Self?tc():this.parent).get(t,n=r&dt.Optional&&n===bi?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[si]=u[si]||[]).unshift(dn(t)),s)throw u;return function Wi(e,t,n,r){const s=e[si];throw t[cs]&&s.unshift(t[cs]),e.message=function Ro(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==oi?e.slice(2):e;let s=dn(t);if(Array.isArray(t))s=t.map(dn).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):dn(p)))}s=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(cn,"\n  ")}`}("\n"+e.message,s,n,r),e[Ao]=s,e[si]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{Fn(a),rr(s)}}resolveInjectorInitializers(){const t=rr(this),n=Fn(void 0);try{const r=this.get(Tr.multi,Ut,dt.Self);for(const s of r)s()}finally{rr(t),Fn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(dn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(t){let n=_n(t=ht(t))?t:ht(t&&t.provide);const r=function Rv(e){return Xu(e)?eo(void 0,e.useValue):eo(function td(e,t,n){let r;if(_n(e)){const s=ht(e);return Vs(s)||Ra(s)}if(Xu(e))r=()=>ht(e.useValue);else if(function Mn(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Or(e.deps||[]));else if(function nu(e){return!(!e||!e.useExisting)}(e))r=()=>mt(ht(e.useExisting));else{const s=ht(e&&(e.useClass||e.provide));if(!function hi(e){return!!e.deps}(e))return Vs(s)||Ra(s);r=()=>new s(...Or(e.deps))}return r}(e),ec)}(t);if(_n(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=eo(void 0,ec,!0),s.factory=()=>Or(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ec&&(n.value=Iv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ll(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ht(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ra(e){const t=$i(e),n=null!==t?t.factory:Vs(e);if(null!==n)return n;if(e instanceof _t)throw new Ze(204,!1);if(e instanceof Function)return function ed(e){const t=e.length;if(t>0)throw function Qa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ze(204,!1);const n=function Sn(e){return e&&(e[xn]||e[Vi])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ze(204,!1)}function eo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function nd(e,t){for(const n of e)Array.isArray(n)?nd(n,t):n&&Us(n)?nd(n.\u0275providers,t):t(n)}class Mv{}class Sp{}class zt{resolveComponentFactory(t){throw function Pv(e){const t=Error(`No component factory found for ${dn(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ul=(()=>{class e{}return e.NULL=new zt,e})();function Mi(){return Oa(Er(),qe())}function Oa(e,t){return new Wo(ar(e,t))}let Wo=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Mi,e})();class Tp{}let Nv=(()=>{class e{}return e.\u0275prov=ct({token:e,providedIn:"root",factory:()=>null}),e})();class rc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xv=new rc("15.2.10"),id={},sd="ngOriginalError";function od(e){return e[sd]}class cl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&od(t);for(;n&&od(n);)n=od(n);return n||null}}function to(e){return e instanceof Function?e():e}function Dp(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const a=t.length;if(s+a===r||e.charCodeAt(s+a)<=32)return s}n=s+1}}const ld="ng-template";function zv(e,t,n){let r=0,s=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&s){const u=e[r++];if(n&&"class"===a&&-1!==Dp(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(s=!1)}}return!1}function Ap(e){return 4===e.type&&e.value!==ld}function Wv(e,t,n){return t===(4!==e.type||n?e.value:ld)}function Ip(e,t,n){let r=4;const s=e.attrs||[],a=function Mp(e){for(let t=0;t<e.length;t++)if(ch(e[t]))return t;return e.length}(s);let u=!1;for(let p=0;p<t.length;p++){const _=t[p];if("number"!=typeof _){if(!u)if(4&r){if(r=2|1&r,""!==_&&!Wv(e,_,n)||""===_&&1===t.length){if(Ki(r))return!1;u=!0}}else{const S=8&r?_:t[++p];if(8&r&&null!==e.attrs){if(!zv(e.attrs,S,n)){if(Ki(r))return!1;u=!0}continue}const z=Gv(8&r?"class":_,s,Ap(e),n);if(-1===z){if(Ki(r))return!1;u=!0;continue}if(""!==S){let oe;oe=z>a?"":s[z+1].toLowerCase();const he=8&r?oe:null;if(he&&-1!==Dp(he,S,0)||2&r&&S!==oe){if(Ki(r))return!1;u=!0}}}}else{if(!u&&!Ki(r)&&!Ki(_))return!1;if(u&&Ki(_))continue;u=!1,r=_|1&r}}return Ki(r)||u}function Ki(e){return 0==(1&e)}function Gv(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let a=!1;for(;s<t.length;){const u=t[s];if(u===e)return s;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=t[++s];for(;"string"==typeof p;)p=t[++s];continue}if(4===u)break;if(0===u){s+=4;continue}}s+=a?1:2}return-1}return function qv(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Rp(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ip(e,t[r],n))return!0;return!1}function Pp(e,t){return e?":not("+t.trim()+")":t}function Yv(e){let t=e[0],n=1,r=2,s="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];s+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?s+="."+u:4&r&&(s+=" "+u);else""!==s&&!Ki(u)&&(t+=Pp(a,s),s=""),r=u,a=a||!Ki(r);n++}return""!==s&&(t+=Pp(a,s)),t}const xt={};function Hp(e,t=null,n=null,r){const s=Bp(e,t,n,r);return s.resolveInjectorInitializers(),s}function Bp(e,t=null,n=null,r,s=new Set){const a=[n||Ut,Av(e)];return r=r||("object"==typeof e?void 0:dn(e)),new Xf(a,t||tc(),r||null,s)}let no=(()=>{class e{static create(n,r){if(Array.isArray(n))return Hp({name:""},r,n,"");{const s=n.name??"";return Hp({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=bi,e.NULL=new Zs,e.\u0275prov=ct({token:e,providedIn:"any",factory:()=>mt(Ln)}),e.__NG_ELEMENT_ID__=-1,e})();function bt(e,t=dt.Default){const n=qe();return null===n?mt(e,t):mh(Er(),n,ht(e),t)}function lc(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Pl(n[r]),u.contentQueries(2,t[a],a)}}}function uc(e,t,n,r,s,a,u,p,_,S,I){const z=t.blueprint.slice();return z[zn]=s,z[Pt]=76|r,(null!==I||e&&1024&e[Pt])&&(z[Pt]|=1024),rh(z),z[On]=z[hs]=e,z[Pe]=n,z[tt]=u||e&&e[tt],z[Xe]=p||e&&e[Xe],z[nn]=_||e&&e[nn]||null,z[Ne]=S||e&&e[Ne]||null,z[kn]=a,z[f]=function xh(){return Sf++}(),z[h]=I,z[Wn]=2==t.type?e[Wn]:z,z}function hl(e,t,n,r,s){let a=e.data[t];if(null===a)a=function cc(e,t,n,r,s){const a=No(),u=ui(),_=e.data[t]=function v_(e,t,n,r,s,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=_),null!==a&&(u?null==a.child&&null!==_.parent&&(a.child=_):null===a.next&&(a.next=_,_.prev=a)),_}(e,t,n,r,s),function Gc(){return Nt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=s;const u=function Ml(){const e=Nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return ps(a,!0),a}function iu(e,t,n,r){if(0===n)return-1;const s=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function dd(e,t,n){Kc(t);try{const r=e.viewQuery;null!==r&&Yi(1,r,n);const s=e.template;null!==s&&dc(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&lc(e,t),e.staticViewQueries&&Yi(2,e.viewQuery,n);const a=e.components;null!==a&&function p_(e,t){for(let n=0;n<t.length;n++)sn(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Pt]&=-5,bu()}}function fc(e,t,n,r){const s=t[Pt];if(128!=(128&s)){Kc(t);try{rh(t),function Wc(e){return Nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&dc(e,t,n,2,r);const u=3==(3&s);if(u){const S=e.preOrderCheckHooks;null!==S&&lr(t,S,null)}else{const S=e.preOrderHooks;null!==S&&qa(t,S,0,null),Xc(t,0)}if(function qt(e){for(let t=If(e);null!==t;t=Rf(t)){if(!t[X])continue;const n=t[ft];for(let r=0;r<n.length;r++){const s=n[r];512&s[Pt]||Vc(s[On],1),s[Pt]|=512}}}(t),function St(e){for(let t=If(e);null!==t;t=Rf(t))for(let n=Ht;n<t.length;n++){const r=t[n],s=r[rt];Eu(r)&&fc(s,r,s.template,r[Pe])}}(t),null!==e.contentQueries&&lc(e,t),u){const S=e.contentCheckHooks;null!==S&&lr(t,S)}else{const S=e.contentHooks;null!==S&&qa(t,S,1),Xc(t,1)}!function d_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)xo(~s);else{const a=s,u=n[++r],p=n[++r];Su(u,a),p(2,t[a])}}}finally{xo(-1)}}(e,t);const p=e.components;null!==p&&function h_(e,t){for(let n=0;n<t.length;n++)Tt(e,t[n])}(t,p);const _=e.viewQuery;if(null!==_&&Yi(2,_,r),u){const S=e.viewCheckHooks;null!==S&&lr(t,S)}else{const S=e.viewHooks;null!==S&&qa(t,S,2),Xc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Pt]&=-41,512&t[Pt]&&(t[Pt]&=-513,Vc(t[On],-1))}finally{bu()}}}function dc(e,t,n,r,s){const a=function Vr(){return Nt.lFrame.selectedIndex}(),u=2&r;try{xo(-1),u&&t.length>y&&function Np(e,t,n,r){if(!r)if(3==(3&t[Pt])){const a=e.preOrderCheckHooks;null!==a&&lr(t,a,n)}else{const a=e.preOrderHooks;null!==a&&qa(t,a,0,n)}xo(n)}(e,t,y,!1),Ii(u?2:0,s),n(r,s)}finally{xo(a),Ii(u?3:1,s)}}function su(e,t,n){if(ke(t)){const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const u=e.data[a];u.contentQueries&&u.contentQueries(1,n[a],a)}}}function Kp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gd(e,t,n,r,s,a,u,p,_,S){const I=y+r,z=I+s,oe=function g_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xt);return n}(I,z),he="function"==typeof S?S():S;return oe[rt]={type:e,blueprint:oe,template:n,queries:null,viewQuery:p,declTNode:t,data:oe.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:_,consts:he,incompleteFirstPass:!1}}function Qp(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const a=e[s];null===r?Zp(n,t,s,a):r.hasOwnProperty(s)&&Zp(n,t,r[s],a)}return n}function Zp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Jp(e,t,n,r,s,a){for(let S=0;S<r.length;S++)lf(Pu(n,t),e,r[S].type);!function le(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let S=0;S<r.length;S++){const I=r[S];I.providersResolver&&I.providersResolver(I)}let u=!1,p=!1,_=iu(e,t,r.length,null);for(let S=0;S<r.length;S++){const I=r[S];n.mergedAttrs=Ll(n.mergedAttrs,I.hostAttrs),ye(e,n,t,_,I),Z(_,I,s),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const z=I.type.prototype;!u&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),u=!0),!p&&(z.ngOnChanges||z.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),p=!0),_++}!function __(e,t,n){const s=t.directiveEnd,a=e.data,u=t.attrs,p=[];let _=null,S=null;for(let I=t.directiveStart;I<s;I++){const z=a[I],oe=n?n.get(z):null,Re=oe?oe.outputs:null;_=Qp(z.inputs,I,_,oe?oe.inputs:null),S=Qp(z.outputs,I,S,Re);const Fe=null===_||null===u||Ap(t)?null:et(_,I,u);p.push(Fe)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=8),_.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=_,t.outputs=S}(e,n,a)}function l(e,t,n){const r=n.directiveStart,s=n.directiveEnd,a=n.index,u=function _m(){return Nt.lFrame.currentDirectiveIndex}();try{xo(a);for(let p=r;p<s;p++){const _=e.data[p],S=t[p];Tu(p),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&c(_,S)}}finally{xo(-1),Tu(u)}}function c(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function D(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function Z(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ai(t)&&(n[""]=e)}}function ye(e,t,n,r,s){e.data[r]=s;const a=s.factory||(s.factory=Vs(s.type)),u=new xl(a,Ai(s),bt);e.blueprint[r]=u,n[r]=u,function E_(e,t,n,r,s){const a=s.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function S_(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,a)}}(e,t,r,iu(e,n,s.hostVars,xt),s)}function Ke(e,t,n,r,s,a){const u=a[t];if(null!==u){const p=r.setInput;for(let _=0;_<u.length;){const S=u[_++],I=u[_++],z=u[_++];null!==p?r.setInput(n,z,S,I):n[I]=z}}}function et(e,t,n){let r=null,s=0;for(;s<n.length;){const a=n[s];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(a,u[p+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function Tt(e,t){const n=Yr(t,e);if(Eu(n)){const r=n[rt];48&n[Pt]?fc(r,n,r.template,n[Pe]):n[ds]>0&&Qt(n)}}function Qt(e){for(let r=If(e);null!==r;r=Rf(r))for(let s=Ht;s<r.length;s++){const a=r[s];if(Eu(a))if(512&a[Pt]){const u=a[rt];fc(u,a,u.template,a[Pe])}else a[ds]>0&&Qt(a)}const n=e[rt].components;if(null!==n)for(let r=0;r<n.length;r++){const s=Yr(n[r],e);Eu(s)&&s[ds]>0&&Qt(s)}}function sn(e,t){const n=Yr(t,e),r=n[rt];(function mi(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),dd(r,n,n[Pe])}function ur(e,t){return e[gn]?e[ve][ai]=t:e[gn]=t,e[ve]=t,t}function Lr(e){for(;e;){e[Pt]|=32;const t=Zl(e);if(wu(e)&&!t)return e;e=t}return null}function Pn(e,t,n,r=!0){const s=t[tt];s.begin&&s.begin();try{fc(e,t,e.template,n)}catch(u){throw r&&dw(t,u),u}finally{s.end&&s.end()}}function Yi(e,t,n){Pl(0),t(e,n)}function uw(e){return e[Te]||(e[Te]=[])}function cw(e){return e.cleanup||(e.cleanup=[])}function dw(e,t){const n=e[Ne],r=n?n.get(cl,null):null;r&&r.handleError(t)}function D_(e,t,n,r,s){for(let a=0;a<n.length;){const u=n[a++],p=n[a++],_=t[u],S=e.data[u];null!==S.setInput?S.setInput(_,s,r,p):_[p]=s}}function Xp(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?a=p:1==a?s=Bi(s,p):2==a&&(r=Bi(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function eg(e,t,n,r,s=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(Bn(a)),sr(a))for(let p=Ht;p<a.length;p++){const _=a[p],S=_[rt].firstChild;null!==S&&eg(_[rt],_,S,r)}const u=n.type;if(8&u)eg(e,t,n.child,r);else if(32&u){const p=Af(n,t);let _;for(;_=p();)r.push(_)}else if(16&u){const p=kf(t,n);if(Array.isArray(p))r.push(...p);else{const _=Zl(t[Wn]);eg(_[rt],_,p,r,!0)}}n=s?n.projectionNext:n.next}return r}class vd{get rootNodes(){const t=this._lView,n=t[rt];return eg(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pe]}set context(t){this._lView[Pe]=t}get destroyed(){return 128==(128&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[On];if(sr(t)){const n=t[je],r=n?n.indexOf(this):-1;r>-1&&(Pf(t,r),Wl(n,r))}this._attachedToViewContainer=!1}qh(this._lView[rt],this._lView)}onDestroy(t){!function Yp(e,t,n,r){const s=uw(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&cw(e).push(r,s.length-1))}(this._lView[rt],this._lView,null,t)}markForCheck(){Lr(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-65}reattach(){this._lView[Pt]|=64}detectChanges(){Pn(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gm(e,t){Jl(e,t,t[Xe],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=t}}class Tb extends vd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Pn(t[rt],t,t[Pe],!1)}checkNoChanges(){}get context(){return null}}class hw extends ul{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=en(t);return new _d(n,this.ngModule)}}function pw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Db{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=jr(r);const s=this.injector.get(t,id,r);return s!==id||n===id?s:this.parentInjector.get(t,n,r)}}class _d extends Sp{get inputs(){return pw(this.componentDef.inputs)}get outputs(){return pw(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function fl(e){return e.map(Yv).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let a=(s=s||this.ngModule)instanceof Xs?s:s?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new Db(t,a):t,p=u.get(Tp,null);if(null===p)throw new Ze(407,!1);const _=u.get(Nv,null),S=p.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",z=r?function m_(e,t,n){return e.selectRootElement(t,n===_r.ShadowDom)}(S,r,this.componentDef.encapsulation):Mf(S,I,function bb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(I)),oe=this.componentDef.onPush?288:272,he=gd(0,null,null,1,0,null,null,null,null,null),Re=uc(null,he,null,oe,null,null,p,S,_,u,null);let Fe,Ve;Kc(Re);try{const Qe=this.componentDef;let st,ze=null;Qe.findHostDirectiveDefs?(st=[],ze=new Map,Qe.findHostDirectiveDefs(Qe,st,ze),st.push(Qe)):st=[Qe];const Et=function Ib(e,t){const n=e[rt],r=y;return e[r]=t,hl(n,r,2,"#host",null)}(Re,z),vn=function Rb(e,t,n,r,s,a,u,p){const _=s[rt];!function Ob(e,t,n,r){for(const s of e)t.mergedAttrs=Ll(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Xp(t,t.mergedAttrs,!0),null!==n&&Xl(r,n,t))}(r,e,t,u);const S=a.createRenderer(t,n),I=uc(s,Kp(n),null,n.onPush?32:16,s[e.index],e,a,S,p||null,null,null);return _.firstCreatePass&&D(_,e,r.length-1),ur(s,I),s[e.index]=I}(Et,z,Qe,st,Re,p,S);Ve=function li(e,t){return e.data[t]}(he,y),z&&function Pb(e,t,n,r){if(r)Iu(e,n,["ng-version",xv.full]);else{const{attrs:s,classes:a}=function Qv(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===s?""!==a&&t.push(a,e[++r]):8===s&&n.push(a);else{if(!Ki(s))break;s=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&Iu(e,n,s),a&&a.length>0&&ip(e,n,a.join(" "))}}(S,Qe,z,r),void 0!==n&&function Nb(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const a=n[s];r.push(null!=a?Array.from(a):null)}}(Ve,this.ngContentSelectors,n),Fe=function Mb(e,t,n,r,s,a){const u=Er(),p=s[rt],_=ar(u,s);Jp(p,s,u,n,null,r);for(let I=0;I<n.length;I++)kr(wa(s,p,u.directiveStart+I,u),s);l(p,s,u),_&&kr(_,s);const S=wa(s,p,u.directiveStart+u.componentOffset,u);if(e[Pe]=s[Pe]=S,null!==a)for(const I of a)I(S,t);return su(p,u,e),S}(vn,Qe,st,ze,Re,[xb]),dd(he,Re,null)}finally{bu()}return new Ab(this.componentType,Fe,Oa(Ve,Re),Re,Ve)}}class Ab extends Mv{constructor(t,n,r,s,a){super(),this.location=r,this._rootLView=s,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new Tb(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){const a=this._rootLView;D_(a[rt],a,s,t,n),Lr(Yr(this._tNode.index,a))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function xb(){const e=Er();Nl(qe()[rt],e)}function O_(e,t,n,r,s){const u=s?"class":"style";D_(e,n,t.inputs[u],u,r)}function au(e,t,n,r){const s=qe(),a=ln(),u=y+e,p=s[Xe],_=a.firstCreatePass?function Jb(e,t,n,r,s,a){const u=t.consts,_=hl(t,e,2,r,Mo(u,s));return function md(e,t,n,r){if(sh()){const s=null===r?null:{"":-1},a=function g(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(Rp(t,u.selectors,!1))if(r||(r=[]),Ai(u))if(null!==u.findHostDirectiveDefs){const p=[];s=s||new Map,u.findHostDirectiveDefs(u,p,s),r.unshift(...p,u),D(e,t,p.length)}else r.unshift(u),D(e,t,0);else s=s||new Map,u.findHostDirectiveDefs?.(u,r,s),r.push(u)}return null===r?null:[r,s]}(e,n);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&Jp(e,t,n,u,s,p),s&&function U(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const a=n[t[s+1]];if(null==a)throw new Ze(-301,!1);r.push(t[s],a)}}}(n,r,s)}n.mergedAttrs=Ll(n.mergedAttrs,n.attrs)}(t,n,_,Mo(u,a)),null!==_.attrs&&Xp(_,_.attrs,!1),null!==_.mergedAttrs&&Xp(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(u,a,s,t,n,r):a.data[u],S=s[u]=Mf(p,t,function Au(){return Nt.lFrame.currentNamespace}()),I=ha(_);return ps(_,!0),Xl(p,S,_),32!=(32&_.flags)&&Ku(a,s,S,_),0===function fm(){return Nt.lFrame.elementDepthCount}()&&kr(S,s),function dm(){Nt.lFrame.elementDepthCount++}(),I&&(function hd(e,t,n){sh()&&(function T_(e,t,n,r){const s=n.directiveStart,a=n.directiveEnd;nt(n)&&function Ie(e,t,n){const r=ar(t,e),s=Kp(n),a=e[tt],u=ur(e,uc(e,s,null,n.onPush?32:16,r,t,a,a.createRenderer(r,n),null,null,null));e[t.index]=u}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||Pu(n,t),kr(r,t);const u=n.initialInputs;for(let p=s;p<a;p++){const _=e.data[p],S=wa(t,e,p,n);kr(S,t),null!==u&&Ke(0,p-s,S,_,0,u),Ai(_)&&(Yr(n.index,t)[Pe]=wa(t,e,p,n))}}(e,t,n,ar(n,t)),64==(64&n.flags)&&l(e,t,n))}(a,s,_),su(a,_,s)),null!==r&&function pd(e,t,n=ar){const r=t.localNames;if(null!==r){let s=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],p=-1===u?n(t,e):e[u];e[s++]=p}}}(s,_),au}function lu(){let e=Er();ui()?function zc(){Nt.lFrame.isParent=!1}():(e=e.parent,ps(e,!1));const t=e;!function hm(){Nt.lFrame.elementDepthCount--}();const n=ln();return n.firstCreatePass&&(Nl(n,e),ke(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Fl(e){return 0!=(8&e.flags)}(t)&&O_(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Em(e){return 0!=(16&e.flags)}(t)&&O_(n,t,qe(),t.stylesWithoutHost,!1),lu}function rg(e,t,n,r){return au(e,t,n,r),lu(),rg}function ig(e){return!!e&&"function"==typeof e.then}const Pw=function Mw(e){return!!e&&"function"==typeof e.subscribe};function uu(e,t,n,r){const s=qe(),a=ln(),u=Er();return function xw(e,t,n,r,s,a,u){const p=ha(r),S=e.firstCreatePass&&cw(e),I=t[Pe],z=uw(t);let oe=!0;if(3&r.type||u){const Fe=ar(r,t),Ve=u?u(Fe):Fe,Qe=z.length,st=u?Et=>u(Bn(Et[r.index])):r.index;let ze=null;if(!u&&p&&(ze=function tD(e,t,n,r){const s=e.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const u=s[a];if(u===n&&s[a+1]===r){const p=t[Te],_=s[a+2];return p.length>_?p[_]:null}"string"==typeof u&&(a+=2)}return null}(e,t,s,r.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=a,ze.__ngLastListenerFn__=a,oe=!1;else{a=Fw(r,t,I,a,!1);const Et=n.listen(Ve,s,a);z.push(a,Et),S&&S.push(s,st,Qe,Qe+1)}}else a=Fw(r,t,I,a,!1);const he=r.outputs;let Re;if(oe&&null!==he&&(Re=he[s])){const Fe=Re.length;if(Fe)for(let Ve=0;Ve<Fe;Ve+=2){const vn=t[Re[Ve]][Re[Ve+1]].subscribe(a),tr=z.length;z.push(a,vn),S&&S.push(s,r.index,tr,-(tr+1))}}}(a,s,s[Xe],u,e,t,r),uu}function kw(e,t,n,r){try{return Ii(6,t,n),!1!==n(r)}catch(s){return dw(e,s),!1}finally{Ii(7,t,n)}}function Fw(e,t,n,r,s){return function a(u){if(u===Function)return r;Lr(e.componentOffset>-1?Yr(e.index,t):t);let _=kw(t,n,r,u),S=a.__ngNextListenerFn__;for(;S;)_=kw(t,n,S,u)&&_,S=S.__ngNextListenerFn__;return s&&!1===_&&(u.preventDefault(),u.returnValue=!1),_}}function Cd(e,t=""){const n=qe(),r=ln(),s=e+y,a=r.firstCreatePass?hl(r,s,1,t,null):r.data[s],u=n[s]=function Of(e,t){return e.createText(t)}(n[Xe],t);Ku(r,n,u,a),ps(a,!1)}const Tc="en-US";let RC=Tc;class bc{}class tE{}class nE extends bc{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hw(this);const r=Nr(t);this._bootstrapComponents=to(r.bootstrap),this._r3Injector=Bp(t,n,[{provide:bc,useValue:this},{provide:ul,useValue:this.componentFactoryResolver}],dn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class W_ extends tE{constructor(t){super(),this.moduleType=t}create(t){return new nE(this.moduleType,t)}}class KA extends bc{constructor(t,n,r){super(),this.componentFactoryResolver=new hw(this),this.instance=null;const s=new Xf([...t,{provide:bc,useValue:this},{provide:ul,useValue:this.componentFactoryResolver}],n||tc(),r,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function fg(e,t,n=null){return new KA(e,t,n).injector}let YA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=yp(0,n.type),s=r.length>0?fg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ct({token:e,providedIn:"environment",factory:()=>new e(mt(Xs))}),e})();function rE(e){e.getStandaloneInjector=t=>t.get(YA).getOrCreateStandaloneInjector(e)}function q_(e){return t=>{setTimeout(e,void 0,t)}}const _i=class CI extends A{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const _=t;s=_.next?.bind(_),a=_.error?.bind(_),u=_.complete?.bind(_)}this.__isAsync&&(a=q_(a),s&&(s=q_(s)),u&&(u=q_(u)));const p=super.subscribe({next:s,error:a,complete:u});return t instanceof ie&&t.add(p),p}};let so=(()=>{class e{}return e.__NG_ELEMENT_ID__=DI,e})();function DI(){return function vE(e,t){let n;const r=t[e.index];if(sr(r))n=r;else{let s;if(8&e.type)s=Bn(r);else{const a=t[Xe];s=a.createComment("");const u=ar(e,t);Ia(a,qu(a,u),s,function Xm(e,t){return e.nextSibling(t)}(a,u),!1)}t[e.index]=n=function lt(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}(r,t,s,e),ur(t,n)}return new gE(n,e,t)}(Er(),qe())}const AI=so,gE=class extends AI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Oa(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=jl(this._hostTNode,this._hostLView);if(Ru(t)){const n=Ul(t,this._hostLView),r=Ou(t);return new Fo(n[rt].data[r+8],n)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=mE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(t,n,r){let s,a;"number"==typeof r?s=r:null!=r&&(s=r.index,a=r.injector);const u=t.createEmbeddedView(n||{},a);return this.insert(u,s),u}createComponent(t,n,r,s,a){const u=t&&!function Qr(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const z=n||{};p=z.index,r=z.injector,s=z.projectableNodes,a=z.environmentInjector||z.ngModuleRef}const _=u?t:new _d(en(t)),S=r||this.parentInjector;if(!a&&null==_.ngModule){const oe=(u?S:this.parentInjector).get(Xs,null);oe&&(a=oe)}const I=_.create(S,s,void 0,a);return this.insert(I.hostView,p),I}insert(t,n){const r=t._lView,s=r[rt];if(function va(e){return sr(e[On])}(r)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const z=r[On],oe=new gE(z,z[kn],z[On]);oe.detach(oe.indexOf(t))}}const a=this._adjustIndex(n),u=this._lContainer;!function Km(e,t,n,r){const s=Ht+r,a=n.length;r>0&&(n[s-1][ai]=t),r<a-Ht?(t[ai]=n[s],Sa(n,Ht+r,t)):(n.push(t),t[ai]=null),t[On]=n;const u=t[ir];null!==u&&n!==u&&function Ym(e,t){const n=e[ft];t[Wn]!==t[On][On][Wn]&&(e[X]=!0),null===n?e[ft]=[t]:n.push(t)}(u,t);const p=t[i];null!==p&&p.insertView(e),t[Pt]|=64}(s,r,u,a);const p=Ff(a,u),_=r[Xe],S=qu(_,u[Oe]);return null!==S&&function Gh(e,t,n,r,s,a){r[zn]=s,r[kn]=t,Jl(e,r,n,1,s,a)}(s,u[kn],_,r,S,p),t.attachToViewContainerRef(),Sa(Y_(u),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=mE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Pf(this._lContainer,n);r&&(Wl(Y_(this._lContainer),n),qh(r[rt],r))}detach(t){const n=this._adjustIndex(t,-1),r=Pf(this._lContainer,n);return r&&null!=Wl(Y_(this._lContainer),n)?new vd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function mE(e){return e[je]}function Y_(e){return e[je]||(e[je]=[])}function pg(...e){}const gg=new _t("Application Initializer");let mg=(()=>{class e{constructor(n){this.appInits=n,this.resolve=pg,this.reject=pg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const a=this.appInits[s]();if(ig(a))n.push(a);else if(Pw(a)){const u=new Promise((p,_)=>{a.subscribe({complete:p,error:_})});n.push(u)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(mt(gg,8))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Od=new _t("AppId",{providedIn:"root",factory:function VE(){return`${oy()}${oy()}${oy()}`}});function oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zE=new _t("Platform Initializer"),WE=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let tR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Na=new _t("LocaleId",{providedIn:"root",factory:()=>Lt(Na,dt.Optional|dt.SkipSelf)||function nR(){return typeof $localize<"u"&&$localize.locale||Tc}()});class iR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let GE=(()=>{class e{compileModuleSync(n){return new W_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=to(Nr(n).declarations).reduce((u,p)=>{const _=en(p);return _&&u.push(new _d(_)),u},[]);return new iR(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const aR=(()=>Promise.resolve(0))();function ay(e){typeof Zone>"u"?aR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Jn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _i(!1),this.onMicrotaskEmpty=new _i(!1),this.onStable=new _i(!1),this.onError=new _i(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function lR(){let e=kt.requestAnimationFrame,t=kt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function fR(e){const t=()=>{!function cR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(kt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,uy(e),e.isCheckStableRunning=!0,ly(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),uy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,a,u,p)=>{try{return YE(e),n.invokeTask(s,a,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),QE(e)}},onInvoke:(n,r,s,a,u,p,_)=>{try{return YE(e),n.invoke(s,a,u,p,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),QE(e)}},onHasTask:(n,r,s,a)=>{n.hasTask(s,a),r===s&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,uy(e),ly(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,s,a)=>(n.handleError(s,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jn.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Jn.isInAngularZone())throw new Ze(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+s,t,uR,pg,pg);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const uR={};function ly(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function uy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function YE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function QE(e){e._nesting--,ly(e)}class dR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _i,this.onMicrotaskEmpty=new _i,this.onStable=new _i,this.onError=new _i}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const ZE=new _t(""),vg=new _t("");let dy,cy=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dy||(function hR(e){dy=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jn.assertNotInAngularZone(),ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ay(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(mt(Jn),mt(fy),mt(vg))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),fy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dy?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const xa=!1;let gl=null;const JE=new _t("AllowMultipleToken"),hy=new _t("PlatformDestroyListeners"),XE=new _t("appBootstrapListener");class eS{constructor(t,n){this.name=t,this.token=n}}function nS(e,t,n=[]){const r=`Platform: ${t}`,s=new _t(r);return(a=[])=>{let u=py();if(!u||u.injector.get(JE,!1)){const p=[...n,...a,{provide:s,useValue:!0}];e?e(p):function mR(e){if(gl&&!gl.get(JE,!1))throw new Ze(400,!1);gl=e;const t=e.get(iS);(function tS(e){const t=e.get(zE,null);t&&t.forEach(n=>n())})(e)}(function rS(e=[],t){return no.create({name:t,providers:[{provide:Zf,useValue:"platform"},{provide:hy,useValue:new Set([()=>gl=null])},...e]})}(p,r))}return function _R(e){const t=py();if(!t)throw new Ze(401,!1);return t}()}}function py(){return gl?.get(iS)??null}let iS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const s=function oS(e,t){let n;return n="noop"===e?new dR:("zone.js"===e?void 0:e)||new Jn(t),n}(r?.ngZone,function sS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:Jn,useValue:s}];return s.run(()=>{const u=no.create({providers:a,parent:this.injector,name:n.moduleType.name}),p=n.create(u),_=p.injector.get(cl,null);if(!_)throw new Ze(402,!1);return s.runOutsideAngular(()=>{const S=s.onError.subscribe({next:I=>{_.handleError(I)}});p.onDestroy(()=>{yg(this._modules,p),S.unsubscribe()})}),function aS(e,t,n){try{const r=n();return ig(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(_,s,()=>{const S=p.injector.get(mg);return S.runInitializers(),S.donePromise.then(()=>(function OC(e){Un(e,"Expected localeId to be defined"),"string"==typeof e&&(RC=e.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Na,Tc)||Tc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(n,r=[]){const s=lS({},r);return function pR(e,t,n){const r=new W_(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(n){const r=n.injector.get(_g);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Ze(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(hy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(mt(no))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function lS(e,t){return Array.isArray(t)?t.reduce(lS,e):{...e,...t}}let _g=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,s){this._zone=n,this._injector=r,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ce(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),u=new ce(p=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{Jn.assertNotInAngularZone(),ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Jn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),S.unsubscribe()}});this.isStable=function yo(...e){const t=bn(e),n=function vo(e,t){return"number"==typeof Ns(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Rn(r[0]):wi(n)(En(r,t)):nr}(a,u.pipe(function ss(e={}){const{connector:t=(()=>new A),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return a=>{let u,p,_,S=0,I=!1,z=!1;const oe=()=>{p?.unsubscribe(),p=void 0},he=()=>{oe(),u=_=void 0,I=z=!1},Re=()=>{const Fe=u;he(),Fe?.unsubscribe()};return _e((Fe,Ve)=>{S++,!z&&!I&&oe();const Qe=_=_??t();Ve.add(()=>{S--,0===S&&!z&&!I&&(p=wo(Re,s))}),Qe.subscribe(Ve),!u&&S>0&&(u=new me({next:st=>Qe.next(st),error:st=>{z=!0,oe(),p=wo(he,n,st),Qe.error(st)},complete:()=>{I=!0,oe(),p=wo(he,r),Qe.complete()}}),Rn(Fe).subscribe(u))})(a)}}()))}bootstrap(n,r){const s=n instanceof Sp;if(!this._injector.get(mg).done){!s&&function Oo(e){const t=en(e)||wn(e)||Vn(e);return null!==t&&t.standalone}(n);throw new Ze(405,xa)}let u;u=s?n:this._injector.get(ul).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function gR(e){return e.isBoundToModule}(u)?void 0:this._injector.get(bc),S=u.create(no.NULL,[],r||u.selector,p),I=S.location.nativeElement,z=S.injector.get(ZE,null);return z?.registerApplication(I),S.onDestroy(()=>{this.detachView(S.hostView),yg(this.components,S),z?.unregisterApplication(I)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;yg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(XE,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ze(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(mt(Jn),mt(Xs),mt(cl))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let gy=(()=>{class e{}return e.__NG_ELEMENT_ID__=wR,e})();function wR(e){return function CR(e,t,n){if(nt(e)&&!n){const r=Yr(e.index,t);return new vd(r,r)}return 47&e.type?new vd(t[Wn],t):null}(Er(),qe(),16==(16&e))}const xR=nS(null,"core",[]);let kR=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(mt(_g))},e.\u0275mod=yt({type:e}),e.\u0275inj=hr({}),e})(),Cy=null;function hu(){return Cy}class UR{}const Pi=new _t("DocumentToken");let Ey=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return function HR(){return mt(yS)}()},providedIn:"platform"}),e})();const BR=new _t("Location Initialized");let yS=(()=>{class e extends Ey{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hu().getBaseHref(this._doc)}onPopState(n){const r=hu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=hu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){wS()?this._history.pushState(n,r,s):this._location.hash=s}replaceState(n,r,s){wS()?this._history.replaceState(n,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(mt(Pi))},e.\u0275prov=ct({token:e,factory:function(){return function jR(){return new yS(mt(Pi))}()},providedIn:"platform"}),e})();function wS(){return!!window.history.pushState}function Sy(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function CS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ka(e){return e&&"?"!==e[0]?"?"+e:e}let pu=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return Lt(SS)},providedIn:"root"}),e})();const ES=new _t("appBaseHref");let SS=(()=>{class e extends pu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Lt(Pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ka(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,a){const u=this.prepareExternalUrl(s+ka(a));this._platformLocation.pushState(n,r,u)}replaceState(n,r,s,a){const u=this.prepareExternalUrl(s+ka(a));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(mt(Ey),mt(ES,8))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$R=(()=>{class e extends pu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Sy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,a){let u=this.prepareExternalUrl(s+ka(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,s,a){let u=this.prepareExternalUrl(s+ka(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(mt(Ey),mt(ES,8))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),Ty=(()=>{class e{constructor(n){this._subject=new _i,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function WR(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(CS(TS(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ka(r))}normalize(n){return e.stripTrailingSlash(function zR(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,TS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ka(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ka(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}}return e.normalizeQueryParams=ka,e.joinWithSlash=Sy,e.stripTrailingSlash=CS,e.\u0275fac=function(n){return new(n||e)(mt(pu))},e.\u0275prov=ct({token:e,factory:function(){return function VR(){return new Ty(mt(pu))}()},providedIn:"root"}),e})();function TS(e){return e.replace(/\/index.html$/,"")}let oO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=hr({}),e})();let cO=(()=>{class e{}return e.\u0275prov=ct({token:e,providedIn:"root",factory:()=>new fO(mt(Pi),window)}),e})();class fO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function dO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const a=s.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}s=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],s-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jS(this.window.history)||jS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jS(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class BO extends UR{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jy extends BO{static makeCurrent(){!function LR(e){Cy||(Cy=e)}(new jy)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function jO(){return kd=kd||document.querySelector("base"),kd?kd.getAttribute("href"):null}();return null==n?null:function $O(e){xg=xg||document.createElement("a"),xg.setAttribute("href",e);const t=xg.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){kd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function I1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[s,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let xg,kd=null;const GS=new _t("TRANSITION_ID"),zO=[{provide:gg,useFactory:function VO(e,t,n){return()=>{n.get(mg).donePromise.then(()=>{const r=hu(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<s.length;a++)r.remove(s[a])})}},deps:[GS,Pi,no],multi:!0}];let GO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const kg=new _t("EventManagerPlugins");let Fg=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}addGlobalEventListener(n,r,s){return this._findPluginFor(r).addGlobalEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const s=this._plugins;for(let a=0;a<s.length;a++){const u=s[a];if(u.supports(n))return this._eventNameToPlugin.set(n,u),u}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(mt(kg),mt(Jn))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();class qS{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const s=hu().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,r)}}let KS=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const s=this.usageCount;let a=s.get(n)??0;return a+=r,a>0?s.set(n,a):s.delete(n),a}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),Fd=(()=>{class e extends KS{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(a=>a.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const s=this.doc.createElement("style");s.textContent=r,n.appendChild(s);const a=this.styleRef.get(r);a?a.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(mt(Pi))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const $y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vy=/%COMP%/g,ZS=new _t("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function JS(e,t){return t.flat(100).map(n=>n.replace(Vy,e))}function XS(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let zy=(()=>{class e{constructor(n,r,s,a){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Wy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(n,r);return s instanceof nT?s.applyToHost(n):s instanceof Gy&&s.applyStyles(),s}getOrCreateRenderer(n,r){const s=this.rendererByCompId;let a=s.get(r.id);if(!a){const u=this.eventManager,p=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case _r.Emulated:a=new nT(u,p,r,this.appId,_);break;case _r.ShadowDom:return new XO(u,p,n,r);default:a=new Gy(u,p,r,_)}a.onDestroy=()=>s.delete(r.id),s.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(mt(Fg),mt(Fd),mt(Od),mt(ZS))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();class Wy{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS($y[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(tT(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(tT(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,s){if(s){n=s+":"+n;const a=$y[s];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const s=$y[r];s?t.removeAttributeNS(s,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,s){s&(Wr.DashCase|Wr.Important)?t.style.setProperty(n,r,s&Wr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,XS(r)):this.eventManager.addEventListener(t,n,XS(r))}}function tT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class XO extends Wy{constructor(t,n,r,s){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=JS(s.id,s.styles);for(const u of a){const p=document.createElement("style");p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gy extends Wy{constructor(t,n,r,s,a=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=JS(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class nT extends Gy{constructor(t,n,r,s,a){const u=s+"-"+r.id;super(t,n,r,a,u),this.contentAttr=function QO(e){return"_ngcontent-%COMP%".replace(Vy,e)}(u),this.hostAttr=function ZO(e){return"_nghost-%COMP%".replace(Vy,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let eM=(()=>{class e extends qS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}}return e.\u0275fac=function(n){return new(n||e)(mt(Pi))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const rT=["alt","control","meta","shift"],tM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rM=(()=>{class e extends qS{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,s){const a=e.parseEventName(r),u=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hu().onAndCancel(n,a.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),rT.forEach(S=>{const I=r.indexOf(S);I>-1&&(r.splice(I,1),u+=S+".")}),u+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=s,_.fullKey=u,_}static matchEventFullKeyCode(n,r){let s=tM[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(s=n.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),rT.forEach(u=>{u!==s&&(0,nM[u])(n)&&(a+=u+".")}),a+=s,a===r)}static eventCallback(n,r,s){return a=>{e.matchEventFullKeyCode(a,n)&&s.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(mt(Pi))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const aM=nS(xR,"browser",[{provide:WE,useValue:"browser"},{provide:zE,useValue:function iM(){jy.makeCurrent()},multi:!0},{provide:Pi,useFactory:function oM(){return function ov(e){Bf=e}(document),document},deps:[]}]),oT=new _t(""),aT=[{provide:vg,useClass:class WO{addToWindow(t){kt.getAngularTestability=(r,s=!0)=>{const a=t.findTestabilityInTree(r,s);if(null==a)throw new Error("Could not find testability for element.");return a},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(r=>{const s=kt.getAllAngularTestabilities();let a=s.length,u=!1;const p=function(_){u=u||_,a--,0==a&&r(u)};s.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?hu().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:ZE,useClass:cy,deps:[Jn,fy,vg]},{provide:cy,useClass:cy,deps:[Jn,fy,vg]}],lT=[{provide:Zf,useValue:"root"},{provide:cl,useFactory:function sM(){return new cl},deps:[]},{provide:kg,useClass:eM,multi:!0,deps:[Pi,Jn,WE]},{provide:kg,useClass:rM,multi:!0,deps:[Pi]},{provide:zy,useClass:zy,deps:[Fg,Fd,Od,ZS]},{provide:Tp,useExisting:zy},{provide:KS,useExisting:Fd},{provide:Fd,useClass:Fd,deps:[Pi]},{provide:Fg,useClass:Fg,deps:[kg,Jn]},{provide:class hO{},useClass:GO,deps:[]},[]];let lM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Od,useValue:n.appId},{provide:GS,useExisting:Od},zO]}}}return e.\u0275fac=function(n){return new(n||e)(mt(oT,12))},e.\u0275mod=yt({type:e}),e.\u0275inj=hr({providers:[...lT,...aT],imports:[oO,kR]}),e})(),uT=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(mt(Pi))},e.\u0275prov=ct({token:e,factory:function(n){let r=null;return r=n?new n:function cM(){return new uT(mt(Pi))}(),r},providedIn:"root"}),e})();function At(...e){return En(e,bn(e))}typeof window<"u"&&window;class uo extends A{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Lg=k(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:mM}=Array,{getPrototypeOf:vM,prototype:_M,keys:yM}=Object;const{isArray:EM}=Array;function dT(...e){const t=bn(e),n=function Ci(e){return Y(Ns(e))?e.pop():void 0}(e),{args:r,keys:s}=function wM(e){if(1===e.length){const t=e[0];if(mM(t))return{args:t,keys:null};if(function CM(e){return e&&"object"==typeof e&&vM(e)===_M}(t)){const n=yM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return En([],t);const a=new ce(function DM(e,t,n=de){return r=>{hT(t,()=>{const{length:s}=e,a=new Array(s);let u=s,p=s;for(let _=0;_<s;_++)hT(t,()=>{const S=En(e[_],t);let I=!1;S.subscribe(Se(r,z=>{a[_]=z,I||(I=!0,p--),p||r.next(n(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,s?u=>function bM(e,t){return e.reduce((n,r,s)=>(n[r]=t[s],n),{})}(s,u):de));return n?a.pipe(function TM(e){return xe(t=>function SM(e,t){return EM(t)?e(...t):e(t)}(e,t))}(n)):a}function hT(e,t,n){e?Zn(n,e,t):t()}function Yy(...e){return function AM(){return wi(1)}()(En(e,bn(e)))}function pT(e){return new ce(t=>{Rn(e()).subscribe(t)})}function Ld(e,t){const n=Y(e)?e:()=>e,r=s=>s.error(n());return new ce(t?s=>t.schedule(r,0,s):r)}function Qy(){return _e((e,t)=>{let n=null;e._refCount++;const r=Se(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const s=e._connection,a=n;n=null,s&&(!a||s===a)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class gT extends ce{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,we(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ie;const n=this.getSubject();t.add(this.source.subscribe(Se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ie.EMPTY)}return t}refCount(){return Qy()(this)}}function Qo(e,t){return _e((n,r)=>{let s=null,a=0,u=!1;const p=()=>u&&!s&&r.complete();n.subscribe(Se(r,_=>{s?.unsubscribe();let S=0;const I=a++;Rn(e(_,I)).subscribe(s=Se(r,z=>r.next(t?t(_,z,I,S++):z),()=>{s=null,p()}))},()=>{u=!0,p()}))})}function Ic(e){return e<=0?()=>nr:_e((t,n)=>{let r=0;t.subscribe(Se(n,s=>{++r<=e&&(n.next(s),e<=r&&n.complete())}))})}function vl(e,t){return _e((n,r)=>{let s=0;n.subscribe(Se(r,a=>e.call(t,a,s++)&&r.next(a)))})}function Ug(e){return _e((t,n)=>{let r=!1;t.subscribe(Se(n,s=>{r=!0,n.next(s)},()=>{r||n.next(e),n.complete()}))})}function mT(e=RM){return _e((t,n)=>{let r=!1;t.subscribe(Se(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(e())))})}function RM(){return new Lg}function _l(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vl((s,a)=>e(s,a,r)):de,Ic(1),n?Ug(t):mT(()=>new Lg))}function gu(e,t){return Y(t)?Tn(e,t,1):Tn(e,1)}function Xr(e,t,n){const r=Y(e)||t||n?{next:e,error:t,complete:n}:e;return r?_e((s,a)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;s.subscribe(Se(a,_=>{var S;null===(S=r.next)||void 0===S||S.call(r,_),a.next(_)},()=>{var _;p=!1,null===(_=r.complete)||void 0===_||_.call(r),a.complete()},_=>{var S;p=!1,null===(S=r.error)||void 0===S||S.call(r,_),a.error(_)},()=>{var _,S;p&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(S=r.finalize)||void 0===S||S.call(r)}))}):de}function yl(e){return _e((t,n)=>{let a,r=null,s=!1;r=t.subscribe(Se(n,void 0,void 0,u=>{a=Rn(e(u,yl(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,a.subscribe(n))})}function vT(e,t){return _e(function OM(e,t,n,r,s){return(a,u)=>{let p=n,_=t,S=0;a.subscribe(Se(u,I=>{const z=S++;_=p?e(_,I,z):(p=!0,I),r&&u.next(_)},s&&(()=>{p&&u.next(_),u.complete()})))}}(e,t,arguments.length>=2,!0))}function Zy(e){return e<=0?()=>nr:_e((t,n)=>{let r=[];t.subscribe(Se(n,s=>{r.push(s),e<r.length&&r.shift()},()=>{for(const s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function _T(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vl((s,a)=>e(s,a,r)):de,Zy(1),n?Ug(t):mT(()=>new Lg))}function Jy(e){return _e((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Wt="primary",Ud=Symbol("RouteTitle");class NM{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Rc(e){return new NM(e)}function xM(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let a=0;a<r.length;a++){const u=r[a],p=e[a];if(u.startsWith(":"))s[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function Zo(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let a=0;a<n.length;a++)if(s=n[a],!yT(e[s],t[s]))return!1;return!0}function yT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((s,a)=>r[a]===s)}return e===t}function wT(e){return Array.prototype.concat.apply([],e)}function CT(e){return e.length>0?e[e.length-1]:null}function Gr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function wl(e){return Pw(e)?e:ig(e)?En(Promise.resolve(e)):At(e)}const Hg=!1,FM={exact:function TT(e,t,n){if(!mu(e.segments,t.segments)||!Bg(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!TT(e.children[r],t.children[r],n))return!1;return!0},subset:bT},ET={exact:function LM(e,t){return Zo(e,t)},subset:function UM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>yT(e[n],t[n]))},ignored:()=>!0};function ST(e,t,n){return FM[n.paths](e.root,t.root,n.matrixParams)&&ET[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function bT(e,t,n){return DT(e,t,t.segments,n)}function DT(e,t,n,r){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!(!mu(s,n)||t.hasChildren()||!Bg(s,n,r))}if(e.segments.length===n.length){if(!mu(e.segments,n)||!Bg(e.segments,n,r))return!1;for(const s in t.children)if(!e.children[s]||!bT(e.children[s],t.children[s],r))return!1;return!0}{const s=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(mu(e.segments,s)&&Bg(e.segments,s,r)&&e.children[Wt])&&DT(e.children[Wt],t,a,r)}}function Bg(e,t,n){return t.every((r,s)=>ET[n](e[s].parameters,r.parameters))}class Cl{constructor(t=new tn([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rc(this.queryParams)),this._queryParamMap}toString(){return jM.serialize(this)}}class tn{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Gr(n,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jg(this)}}class Hd{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Rc(this.parameters)),this._parameterMap}toString(){return RT(this)}}function mu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Bd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return new Xy},providedIn:"root"}),e})();class Xy{parse(t){const n=new QM(t);return new Cl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${jd(t.root,!0)}`,r=function zM(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(s=>`${$g(n)}=${$g(s)}`).join("&"):`${$g(n)}=${$g(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function $M(e){return encodeURI(e)}(t.fragment)}`:""}`}}const jM=new Xy;function jg(e){return e.segments.map(t=>RT(t)).join("/")}function jd(e,t){if(!e.hasChildren())return jg(e);if(t){const n=e.children[Wt]?jd(e.children[Wt],!1):"",r=[];return Gr(e.children,(s,a)=>{a!==Wt&&r.push(`${a}:${jd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function BM(e,t){let n=[];return Gr(e.children,(r,s)=>{s===Wt&&(n=n.concat(t(r,s)))}),Gr(e.children,(r,s)=>{s!==Wt&&(n=n.concat(t(r,s)))}),n}(e,(r,s)=>s===Wt?[jd(e.children[Wt],!1)]:[`${s}:${jd(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Wt]?`${jg(e)}/${n[0]}`:`${jg(e)}/(${n.join("//")})`}}function AT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $g(e){return AT(e).replace(/%3B/gi,";")}function e0(e){return AT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vg(e){return decodeURIComponent(e)}function IT(e){return Vg(e.replace(/\+/g,"%20"))}function RT(e){return`${e0(e.path)}${function VM(e){return Object.keys(e).map(t=>`;${e0(t)}=${e0(e[t])}`).join("")}(e.parameters)}`}const WM=/^[^\/()?;=#]+/;function zg(e){const t=e.match(WM);return t?t[0]:""}const GM=/^[^=?&#]+/,KM=/^[^&#]+/;class QM{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Wt]=new tn(t,n)),r}parseSegment(){const t=zg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ze(4009,Hg);return this.capture(t),new Hd(Vg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=zg(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=zg(this.remaining);s&&(r=s,this.capture(r))}t[Vg(n)]=Vg(r)}parseQueryParam(t){const n=function qM(e){const t=e.match(GM);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function YM(e){const t=e.match(KM);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const s=IT(n),a=IT(r);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(a)}else t[s]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zg(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Ze(4010,Hg);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Wt);const u=this.parseChildren();n[a]=1===Object.keys(u).length?u[Wt]:new tn([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ze(4011,Hg)}}function t0(e){return e.segments.length>0?new tn([],{[Wt]:e}):e}function Wg(e){const t={};for(const r of Object.keys(e.children)){const a=Wg(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function ZM(e){if(1===e.numberOfChildren&&e.children[Wt]){const t=e.children[Wt];return new tn(e.segments.concat(t.segments),t.children)}return e}(new tn(e.segments,t))}function vu(e){return e instanceof Cl}const n0=!1;function JM(e,t,n,r,s){if(0===n.length)return Oc(t.root,t.root,t.root,r,s);const a=function xT(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new NT(!0,0,e);let t=0,n=!1;const r=e.reduce((s,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Gr(a.outlets,(_,S)=>{p[S]="string"==typeof _?_.split("/"):_}),[...s,{outlets:p}]}if(a.segmentPath)return[...s,a.segmentPath]}return"string"!=typeof a?[...s,a]:0===u?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?n=!0:".."===p?t++:""!=p&&s.push(p))}),s):[...s,a]},[]);return new NT(n,t,r)}(n);return a.toRoot()?Oc(t.root,t.root,new tn([],{}),r,s):function u(_){const S=function eP(e,t,n,r){if(e.isAbsolute)return new Mc(t.root,!0,0);if(-1===r)return new Mc(n,n===t.root,0);return function kT(e,t,n){let r=e,s=t,a=n;for(;a>s;){if(a-=s,r=r.parent,!r)throw new Ze(4005,n0&&"Invalid number of '../'");s=r.segments.length}return new Mc(r,!1,s-a)}(n,r+($d(e.commands[0])?0:1),e.numberOfDoubleDots)}(a,t,e.snapshot?._urlSegment,_),I=S.processChildren?Pc(S.segmentGroup,S.index,a.commands):r0(S.segmentGroup,S.index,a.commands);return Oc(t.root,S.segmentGroup,I,r,s)}(e.snapshot?._lastPathIndex)}function $d(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Vd(e){return"object"==typeof e&&null!=e&&e.outlets}function Oc(e,t,n,r,s){let u,a={};r&&Gr(r,(_,S)=>{a[S]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=e===t?n:PT(e,t,n);const p=t0(Wg(u));return new Cl(p,a,s)}function PT(e,t,n){const r={};return Gr(e.children,(s,a)=>{r[a]=s===t?n:PT(s,t,n)}),new tn(e.segments,r)}class NT{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&$d(r[0]))throw new Ze(4003,n0&&"Root segment cannot have matrix parameters");const s=r.find(Vd);if(s&&s!==CT(r))throw new Ze(4004,n0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function r0(e,t,n){if(e||(e=new tn([],{})),0===e.segments.length&&e.hasChildren())return Pc(e,t,n);const r=function nP(e,t,n){let r=0,s=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return a;const u=e.segments[s],p=n[r];if(Vd(p))break;const _=`${p}`,S=r<n.length-1?n[r+1]:null;if(s>0&&void 0===_)break;if(_&&S&&"object"==typeof S&&void 0===S.outlets){if(!LT(_,S,u))return a;r+=2}else{if(!LT(_,{},u))return a;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new tn(e.segments.slice(0,r.pathIndex),{});return a.children[Wt]=new tn(e.segments.slice(r.pathIndex),e.children),Pc(a,0,s)}return r.match&&0===s.length?new tn(e.segments,{}):r.match&&!e.hasChildren()?s0(e,t,n):r.match?Pc(e,0,s):s0(e,t,n)}function Pc(e,t,n){if(0===n.length)return new tn(e.segments,{});{const r=function tP(e){return Vd(e[0])?e[0].outlets:{[Wt]:e}}(n),s={};if(!r[Wt]&&e.children[Wt]&&1===e.numberOfChildren&&0===e.children[Wt].segments.length){const a=Pc(e.children[Wt],t,n);return new tn(e.segments,a.children)}return Gr(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(s[u]=r0(e.children[u],t,a))}),Gr(e.children,(a,u)=>{void 0===r[u]&&(s[u]=a)}),new tn(e.segments,s)}}function s0(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){const a=n[s];if(Vd(a)){const _=rP(a.outlets);return new tn(r,_)}if(0===s&&$d(n[0])){r.push(new Hd(e.segments[t].path,FT(n[0]))),s++;continue}const u=Vd(a)?a.outlets[Wt]:`${a}`,p=s<n.length-1?n[s+1]:null;u&&p&&$d(p)?(r.push(new Hd(u,FT(p))),s+=2):(r.push(new Hd(u,{})),s++)}return new tn(r,{})}function rP(e){const t={};return Gr(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=s0(new tn([],{}),0,n))}),t}function FT(e){const t={};return Gr(e,(n,r)=>t[r]=`${n}`),t}function LT(e,t,n){return e==n.path&&Zo(t,n.parameters)}const zd="imperative";class Jo{constructor(t,n){this.id=t,this.url=n}}class o0 extends Jo{constructor(t,n,r="imperative",s=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _u extends Jo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gg extends Jo{constructor(t,n,r,s){super(t,n),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qg extends Jo{constructor(t,n,r,s){super(t,n),this.reason=r,this.code=s,this.type=16}}class a0 extends Jo{constructor(t,n,r,s){super(t,n),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iP extends Jo{constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sP extends Jo{constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oP extends Jo{constructor(t,n,r,s,a){super(t,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aP extends Jo{constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lP extends Jo{constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UT{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vP=(()=>{class e{createUrlTree(n,r,s,a,u,p){return JM(n||r.root,s,a,u,p)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),yP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(t){return vP.\u0275fac(t)},providedIn:"root"}),e})();class HT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=l0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=l0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=u0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return u0(t,this._root).map(n=>n.value)}}function l0(e,t){if(e===t.value)return t;for(const n of t.children){const r=l0(e,n);if(r)return r}return null}function u0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=u0(e,n);if(r.length)return r.unshift(t),r}return[]}class La{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class BT extends HT{constructor(t,n){super(t),this.snapshot=n,c0(this,t)}toString(){return this.snapshot.toString()}}function jT(e,t){const n=function wP(e,t){const u=new Kg([],{},{},"",{},Wt,t,null,e.root,-1,{});return new VT("",new La(u,[]))}(e,t),r=new uo([new Hd("",{})]),s=new uo({}),a=new uo({}),u=new uo({}),p=new uo(""),_=new xc(r,s,u,p,a,Wt,t,n.root);return _.snapshot=n.root,new BT(new La(_,[]),n)}class xc{constructor(t,n,r,s,a,u,p,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=s,this.data=a,this.outlet=u,this.component=p,this.title=this.data?.pipe(xe(S=>S[Ud]))??At(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(t=>Rc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(t=>Rc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $T(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const s=n[r],a=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(a.component)break;r--}}return function CP(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kg{get title(){return this.data?.[Ud]}constructor(t,n,r,s,a,u,p,_,S,I,z){this.url=t,this.params=n,this.queryParams=r,this.fragment=s,this.data=a,this.outlet=u,this.component=p,this.routeConfig=_,this._urlSegment=S,this._lastPathIndex=I,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VT extends HT{constructor(t,n){super(n),this.url=t,c0(this,n)}toString(){return zT(this._root)}}function c0(e,t){t.value._routerState=e,t.children.forEach(n=>c0(e,n))}function zT(e){const t=e.children.length>0?` { ${e.children.map(zT).join(", ")} } `:"";return`${e.value}${t}`}function f0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Zo(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Zo(t.params,n.params)||e.params.next(n.params),function kM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Zo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Zo(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function d0(e,t){const n=Zo(e.params,t.params)&&function HM(e,t){return mu(e,t)&&e.every((n,r)=>Zo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||d0(e.parent,t.parent))}function Wd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const s=function SP(e,t,n){return t.children.map(r=>{for(const s of n.children)if(e.shouldReuseRoute(r.value,s.value.snapshot))return Wd(e,r,s);return Wd(e,r)})}(e,t,n);return new La(r,s)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(p=>Wd(e,p)),u}}const r=function TP(e){return new xc(new uo(e.url),new uo(e.params),new uo(e.queryParams),new uo(e.fragment),new uo(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(a=>Wd(e,a));return new La(r,s)}}const h0="ngNavigationCancelingError";function WT(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=vu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=GT(!1,0,t);return s.url=n,s.navigationBehaviorOptions=r,s}function GT(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[h0]=!0,r.cancellationCode=t,n&&(r.url=n),r}function qT(e){return KT(e)&&vu(e.url)}function KT(e){return e&&e[h0]}class bP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gd,this.attachRef=null}}let Gd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bP,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Yg=!1;let p0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new _i,this.deactivateEvents=new _i,this.attachEvents=new _i,this.detachEvents=new _i,this.parentContexts=Lt(Gd),this.location=Lt(so),this.changeDetector=Lt(gy),this.environmentInjector=Lt(Xs)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,Yg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,Yg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,Yg);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ze(4013,Yg);this._activatedRoute=n;const s=this.location,u=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new DP(n,p,s.injector);if(r&&function AP(e){return!!e.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(u);this.activated=s.createComponent(S,s.length,_)}else this.activated=s.createComponent(u,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=fn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zs]}),e})();class DP{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===xc?this.route:t===Gd?this.childContexts:this.parent.get(t,n)}}let g0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=be({type:e,selectors:[["ng-component"]],standalone:!0,features:[rE],decls:1,vars:0,template:function(n,r){1&n&&rg(0,"router-outlet")},dependencies:[p0],encapsulation:2}),e})();function YT(e,t){return e.providers&&!e._injector&&(e._injector=fg(e.providers,t,`Route: ${e.path}`)),e._injector??t}function v0(e){const t=e.children&&e.children.map(v0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Wt&&(n.component=g0),n}function Ds(e){return e.outlet||Wt}function QT(e,t){const n=e.filter(r=>Ds(r)===t);return n.push(...e.filter(r=>Ds(r)!==t)),n}function qd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class PP{constructor(t,n,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),f0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const s=Nc(n);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,s[u],r),delete s[u]}),Gr(s,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const s=t.value,a=n?n.value:null;if(s===a)if(s.component){const u=r.getContext(s.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),s=r&&t.value.component?r.children:n,a=Nc(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],s);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:p})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),s=r&&t.value.component?r.children:n,a=Nc(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const s=Nc(n);t.children.forEach(a=>{this.activateRoutes(a,s[a.value.outlet],r),this.forwardEvent(new pP(a.value.snapshot))}),t.children.length&&this.forwardEvent(new dP(t.value.snapshot))}activateRoutes(t,n,r){const s=t.value,a=n?n.value:null;if(f0(s),s===a)if(s.component){const u=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(s.component){const u=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),f0(p.route.value),this.activateChildRoutes(t,null,u.children)}else{const p=qd(s.snapshot),_=p?.get(ul)??null;u.attachRef=null,u.route=s,u.resolver=_,u.injector=p,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class ZT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qg{constructor(t,n){this.component=t,this.route=n}}function NP(e,t,n){const r=e._root;return Kd(r,t?t._root:null,n,[r.value])}function kc(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function pr(e){return null!==$i(e)}(e)?t.get(e):e:r}function Kd(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=Nc(t);return e.children.forEach(u=>{(function kP(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,u=t?t.value:null,p=n?n.getContext(e.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function FP(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!mu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mu(e.url,t.url)||!Zo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d0(e,t)||!Zo(e.queryParams,t.queryParams);default:return!d0(e,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new ZT(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Kd(e,t,a.component?p?p.children:null:n,r,s),_&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new Qg(p.outlet.component,u))}else u&&Yd(t,p,s),s.canActivateChecks.push(new ZT(r)),Kd(e,null,a.component?p?p.children:null:n,r,s)})(u,a[u.value.outlet],n,r.concat([u.value]),s),delete a[u.value.outlet]}),Gr(a,(u,p)=>Yd(u,n.getContext(p),s)),s}function Yd(e,t,n){const r=Nc(e),s=e.value;Gr(r,(a,u)=>{Yd(a,s.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new Qg(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Qd(e){return"function"==typeof e}function _0(e){return e instanceof Lg||"EmptyError"===e?.name}const Zg=Symbol("INITIAL_VALUE");function Fc(){return Qo(e=>dT(e.map(t=>t.pipe(Ic(1),function IM(...e){const t=bn(e);return _e((n,r)=>{(t?Yy(e,n,t):Yy(e,n)).subscribe(r)})}(Zg)))).pipe(xe(t=>{for(const n of t)if(!0!==n){if(n===Zg)return Zg;if(!1===n||n instanceof Cl)return n}return!0}),vl(t=>t!==Zg),Ic(1)))}function JT(e){return function B(...e){return V(e)}(Xr(t=>{if(vu(t))throw WT(0,t)}),xe(t=>!0===t))}const y0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XT(e,t,n,r,s){const a=w0(e,t,n);return a.matched?function XP(e,t,n,r){const s=t.canMatch;return s&&0!==s.length?At(s.map(u=>{const p=kc(u,e);return wl(function $P(e){return e&&Qd(e.canMatch)}(p)?p.canMatch(t,n):e.runInContext(()=>p(t,n)))})).pipe(Fc(),JT()):At(!0)}(r=YT(t,r),t,n).pipe(xe(u=>!0===u?a:{...y0})):At(a)}function w0(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...y0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(t.matcher||xM)(n,e,t);if(!s)return{...y0};const a={};Gr(s.posParams,(p,_)=>{a[_]=p.path});const u=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function Jg(e,t,n,r){if(n.length>0&&function nN(e,t,n){return n.some(r=>Xg(e,t,r)&&Ds(r)!==Wt)}(e,n,r)){const a=new tn(t,function tN(e,t,n,r){const s={};s[Wt]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&Ds(a)!==Wt){const u=new tn([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,s[Ds(a)]=u}return s}(e,t,r,new tn(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function rN(e,t,n){return n.some(r=>Xg(e,t,r))}(e,n,r)){const a=new tn(e.segments,function eN(e,t,n,r,s){const a={};for(const u of r)if(Xg(e,n,u)&&!s[Ds(u)]){const p=new tn([],{});p._sourceSegment=e,p._segmentIndexShift=t.length,a[Ds(u)]=p}return{...s,...a}}(e,t,n,r,e.children));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}const s=new tn(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Xg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function eb(e,t,n,r){return!!(Ds(e)===r||r!==Wt&&Xg(t,n,e))&&("**"===e.path||w0(t,e,n).matched)}function tb(e,t,n){return 0===t.length&&!e.children[n]}const em=!1;class tm{constructor(t){this.segmentGroup=t||null}}class nb{constructor(t){this.urlTree=t}}function Zd(e){return Ld(new tm(e))}function rb(e){return Ld(new nb(e))}class aN{constructor(t,n,r,s,a){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=s,this.config=a,this.allowRedirects=!0}apply(){const t=Jg(this.urlTree.root,[],[],this.config).segmentGroup,n=new tn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Wt).pipe(xe(a=>this.createUrlTree(Wg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yl(a=>{if(a instanceof nb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof tm?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Wt).pipe(xe(s=>this.createUrlTree(Wg(s),t.queryParams,t.fragment))).pipe(yl(s=>{throw s instanceof tm?this.noMatchError(s):s}))}noMatchError(t){return new Ze(4002,em)}createUrlTree(t,n,r){const s=t0(t);return new Cl(s,n,r)}expandSegmentGroup(t,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(xe(a=>new tn([],a))):this.expandSegment(t,r,n,r.segments,s,!0)}expandChildren(t,n,r){const s=[];for(const a of Object.keys(r.children))"primary"===a?s.unshift(a):s.push(a);return En(s).pipe(gu(a=>{const u=r.children[a],p=QT(n,a);return this.expandSegmentGroup(t,p,u,a).pipe(xe(_=>({segment:_,outlet:a})))}),vT((a,u)=>(a[u.outlet]=u.segment,a),{}),_T())}expandSegment(t,n,r,s,a,u){return En(r).pipe(gu(p=>this.expandSegmentAgainstRoute(t,n,r,p,s,a,u).pipe(yl(S=>{if(S instanceof tm)return At(null);throw S}))),_l(p=>!!p),yl((p,_)=>{if(_0(p))return tb(n,s,a)?At(new tn([],{})):Zd(n);throw p}))}expandSegmentAgainstRoute(t,n,r,s,a,u,p){return eb(s,n,a,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,n,s,a,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,s,a,u):Zd(n):Zd(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,s,a,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,s,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rb(a):this.lineralizeSegments(r,a).pipe(Tn(u=>{const p=new tn(u,{});return this.expandSegment(t,p,n,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,s,a,u){const{matched:p,consumedSegments:_,remainingSegments:S,positionalParamSegments:I}=w0(n,s,a);if(!p)return Zd(n);const z=this.applyRedirectCommands(_,s.redirectTo,I);return s.redirectTo.startsWith("/")?rb(z):this.lineralizeSegments(s,z).pipe(Tn(oe=>this.expandSegment(t,n,r,oe.concat(S),u,!1)))}matchSegmentAgainstRoute(t,n,r,s,a){return"**"===r.path?(t=YT(r,t),r.loadChildren?(r._loadedRoutes?At({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(xe(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new tn(s,{})))):At(new tn(s,{}))):XT(n,r,s,t).pipe(Qo(({matched:u,consumedSegments:p,remainingSegments:_})=>u?this.getChildConfig(t=r._injector??t,r,s).pipe(Tn(I=>{const z=I.injector??t,oe=I.routes,{segmentGroup:he,slicedSegments:Re}=Jg(n,p,_,oe),Fe=new tn(he.segments,he.children);if(0===Re.length&&Fe.hasChildren())return this.expandChildren(z,oe,Fe).pipe(xe(ze=>new tn(p,ze)));if(0===oe.length&&0===Re.length)return At(new tn(p,{}));const Ve=Ds(r)===a;return this.expandSegment(z,Fe,oe,Re,Ve?Wt:a,!0).pipe(xe(st=>new tn(p.concat(st.segments),st.children)))})):Zd(n)))}getChildConfig(t,n,r){return n.children?At({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?At({routes:n._loadedRoutes,injector:n._loadedInjector}):function JP(e,t,n,r){const s=t.canLoad;return void 0===s||0===s.length?At(!0):At(s.map(u=>{const p=kc(u,e);return wl(function UP(e){return e&&Qd(e.canLoad)}(p)?p.canLoad(t,n):e.runInContext(()=>p(t,n)))})).pipe(Fc(),JT())}(t,n,r).pipe(Tn(s=>s?this.configLoader.loadChildren(t,n).pipe(Xr(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function sN(e){return Ld(GT(em,3))}())):At({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return At(r);if(s.numberOfChildren>1||!s.children[Wt])return t.redirectTo,Ld(new Ze(4e3,em));s=s.children[Wt]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,s){const a=this.createSegmentGroup(t,n.root,r,s);return new Cl(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Gr(t,(s,a)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[a]=n[p]}else r[a]=s}),r}createSegmentGroup(t,n,r,s){const a=this.createSegments(t,n.segments,r,s);let u={};return Gr(n.children,(p,_)=>{u[_]=this.createSegmentGroup(t,p,r,s)}),new tn(a,u)}createSegments(t,n,r,s){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,s):this.findOrReturn(a,r))}findPosParam(t,n,r){const s=r[n.path.substring(1)];if(!s)throw new Ze(4001,em);return s}findOrReturn(t,n){let r=0;for(const s of n){if(s.path===t.path)return n.splice(r),s;r++}return t}}class uN{}class dN{constructor(t,n,r,s,a,u,p){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=p}recognize(){const t=Jg(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Wt).pipe(xe(n=>{if(null===n)return null;const r=new Kg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new La(r,n),a=new VT(this.url,s);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const n=t.value,r=$T(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,s)}processChildren(t,n,r){return En(Object.keys(r.children)).pipe(gu(s=>{const a=r.children[s],u=QT(n,s);return this.processSegmentGroup(t,u,a,s)}),vT((s,a)=>s&&a?(s.push(...a),s):null),function MM(e,t=!1){return _e((n,r)=>{let s=0;n.subscribe(Se(r,a=>{const u=e(a,s++);(u||t)&&r.next(a),!u&&r.complete()}))})}(s=>null!==s),Ug(null),_T(),xe(s=>{if(null===s)return null;const a=sb(s);return function hN(e){e.sort((t,n)=>t.value.outlet===Wt?-1:n.value.outlet===Wt?1:t.value.outlet.localeCompare(n.value.outlet))}(a),a}))}processSegment(t,n,r,s,a){return En(n).pipe(gu(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,s,a)),_l(u=>!!u),yl(u=>{if(_0(u))return tb(r,s,a)?At([]):At(null);throw u}))}processSegmentAgainstRoute(t,n,r,s,a){if(n.redirectTo||!eb(n,r,s,a))return At(null);let u;if("**"===n.path){const p=s.length>0?CT(s).parameters:{},_=ab(r)+s.length;u=At({snapshot:new Kg(s,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lb(n),Ds(n),n.component??n._loadedComponent??null,n,ob(r),_,ub(n)),consumedSegments:[],remainingSegments:[]})}else u=XT(r,n,s,t).pipe(xe(({matched:p,consumedSegments:_,remainingSegments:S,parameters:I})=>{if(!p)return null;const z=ab(r)+_.length;return{snapshot:new Kg(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lb(n),Ds(n),n.component??n._loadedComponent??null,n,ob(r),z,ub(n)),consumedSegments:_,remainingSegments:S}}));return u.pipe(Qo(p=>{if(null===p)return At(null);const{snapshot:_,consumedSegments:S,remainingSegments:I}=p;t=n._injector??t;const z=n._loadedInjector??t,oe=function pN(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:he,slicedSegments:Re}=Jg(r,S,I,oe.filter(Ve=>void 0===Ve.redirectTo));if(0===Re.length&&he.hasChildren())return this.processChildren(z,oe,he).pipe(xe(Ve=>null===Ve?null:[new La(_,Ve)]));if(0===oe.length&&0===Re.length)return At([new La(_,[])]);const Fe=Ds(n)===a;return this.processSegment(z,oe,he,Re,Fe?Wt:a).pipe(xe(Ve=>null===Ve?null:[new La(_,Ve)]))}))}}function gN(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function sb(e){const t=[],n=new Set;for(const r of e){if(!gN(r)){t.push(r);continue}const s=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):t.push(r)}for(const r of n){const s=sb(r.children);t.push(new La(r.value,s))}return t.filter(r=>!n.has(r))}function ob(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ab(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function lb(e){return e.data||{}}function ub(e){return e.resolve||{}}function cb(e){return"string"==typeof e.title||null===e.title}function C0(e){return Qo(t=>{const n=e(t);return n?En(n).pipe(xe(()=>t)):At(t)})}const Lc=new _t("ROUTES");let E0=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Lt(GE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return At(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=wl(n.loadComponent()).pipe(xe(db),Xr(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),Jy(()=>{this.componentLoaders.delete(n)})),s=new gT(r,()=>new A).pipe(Qy());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return At({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,S,I=!1;Array.isArray(p)?S=p:(_=p.create(n).injector,S=wT(_.get(Lc,[],dt.Self|dt.Optional)));return{routes:S.map(v0),injector:_}}),Jy(()=>{this.childrenLoaders.delete(r)})),u=new gT(a,()=>new A).pipe(Qy());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(n){return wl(n()).pipe(xe(db),Tn(r=>r instanceof tE||Array.isArray(r)?At(r):En(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function db(e){return function SN(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let rm=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new A,this.configLoader=Lt(E0),this.environmentInjector=Lt(Xs),this.urlSerializer=Lt(Bd),this.rootContexts=Lt(Gd),this.navigationId=0,this.afterPreactivation=()=>At(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new cP(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new uP(s))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new uo({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zd,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vl(r=>0!==r.id),xe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Qo(r=>{let s=!1,a=!1;return At(r).pipe(Xr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qo(u=>{const p=n.browserUrlTree.toString(),_=!n.navigated||u.extractedUrl.toString()!==p||p!==n.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const I="";return this.events.next(new qg(u.id,n.serializeUrl(r.rawUrl),I,0)),n.rawUrlTree=u.rawUrl,u.resolve(null),nr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return hb(u.source)&&(n.browserUrlTree=u.extractedUrl),At(u).pipe(Qo(I=>{const z=this.transitions?.getValue();return this.events.next(new o0(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),z!==this.transitions?.getValue()?nr:Promise.resolve(I)}),function lN(e,t,n,r){return Qo(s=>function oN(e,t,n,r,s){return new aN(e,t,n,r,s).apply()}(e,t,n,s.extractedUrl,r).pipe(xe(a=>({...s,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Xr(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function vN(e,t,n,r,s){return Tn(a=>function fN(e,t,n,r,s,a,u="emptyOnly"){return new dN(e,t,n,r,s,u,a).recognize().pipe(Qo(p=>null===p?function cN(e){return new ce(t=>t.error(e))}(new uN):At(p)))}(e,t,n,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,s).pipe(xe(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Xr(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!I.extras.skipLocationChange){const oe=n.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);n.setBrowserUrl(oe,I)}n.browserUrlTree=I.urlAfterRedirects}const z=new iP(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(z)}));if(_&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:I,extractedUrl:z,source:oe,restoredState:he,extras:Re}=u,Fe=new o0(I,this.urlSerializer.serialize(z),oe,he);this.events.next(Fe);const Ve=jT(z,this.rootComponentType).snapshot;return At(r={...u,targetSnapshot:Ve,urlAfterRedirects:z,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new qg(u.id,n.serializeUrl(r.extractedUrl),I,1)),n.rawUrlTree=u.rawUrl,u.resolve(null),nr}}),Xr(u=>{const p=new sP(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),xe(u=>r={...u,guards:NP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function zP(e,t){return Tn(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?At({...n,guardsResult:!0}):function WP(e,t,n,r){return En(e).pipe(Tn(s=>function ZP(e,t,n,r,s){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?At(a.map(p=>{const _=qd(t)??s,S=kc(p,_);return wl(function jP(e){return e&&Qd(e.canDeactivate)}(S)?S.canDeactivate(e,t,n,r):_.runInContext(()=>S(e,t,n,r))).pipe(_l())})).pipe(Fc()):At(!0)}(s.component,s.route,n,t,r)),_l(s=>!0!==s,!0))}(u,r,s,e).pipe(Tn(p=>p&&function LP(e){return"boolean"==typeof e}(p)?function GP(e,t,n,r){return En(t).pipe(gu(s=>Yy(function KP(e,t){return null!==e&&t&&t(new fP(e)),At(!0)}(s.route.parent,r),function qP(e,t){return null!==e&&t&&t(new hP(e)),At(!0)}(s.route,r),function QP(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function xP(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>pT(()=>At(u.guards.map(_=>{const S=qd(u.node)??n,I=kc(_,S);return wl(function BP(e){return e&&Qd(e.canActivateChild)}(I)?I.canActivateChild(r,e):S.runInContext(()=>I(r,e))).pipe(_l())})).pipe(Fc())));return At(a).pipe(Fc())}(e,s.path,n),function YP(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return At(!0);const s=r.map(a=>pT(()=>{const u=qd(t)??n,p=kc(a,u);return wl(function HP(e){return e&&Qd(e.canActivate)}(p)?p.canActivate(t,e):u.runInContext(()=>p(t,e))).pipe(_l())}));return At(s).pipe(Fc())}(e,s.route,n))),_l(s=>!0!==s,!0))}(r,a,e,t):At(p)),xe(p=>({...n,guardsResult:p})))})}(this.environmentInjector,u=>this.events.next(u)),Xr(u=>{if(r.guardsResult=u.guardsResult,vu(u.guardsResult))throw WT(0,u.guardsResult);const p=new oP(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),vl(u=>!!u.guardsResult||(n.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),C0(u=>{if(u.guards.canActivateChecks.length)return At(u).pipe(Xr(p=>{const _=new aP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),Qo(p=>{let _=!1;return At(p).pipe(function _N(e,t){return Tn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return At(n);let a=0;return En(s).pipe(gu(u=>function yN(e,t,n,r){const s=e.routeConfig,a=e._resolve;return void 0!==s?.title&&!cb(s)&&(a[Ud]=s.title),function wN(e,t,n,r){const s=function CN(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return At({});const a={};return En(s).pipe(Tn(u=>function EN(e,t,n,r){const s=qd(t)??r,a=kc(e,s);return wl(a.resolve?a.resolve(t,n):s.runInContext(()=>a(t,n)))}(e[u],t,n,r).pipe(_l(),Xr(p=>{a[u]=p}))),Zy(1),function PM(e){return xe(()=>e)}(a),yl(u=>_0(u)?nr:Ld(u)))}(a,e,t,r).pipe(xe(u=>(e._resolvedData=u,e.data=$T(e,n).resolve,s&&cb(s)&&(e.data[Ud]=s.title),null)))}(u.route,r,e,t)),Xr(()=>a++),Zy(1),Tn(u=>a===s.length?At(n):nr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Xr({next:()=>_=!0,complete:()=>{_||(n.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),Xr(p=>{const _=new lP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),C0(u=>{const p=_=>{const S=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(_.routeConfig).pipe(Xr(I=>{_.component=I}),xe(()=>{})));for(const I of _.children)S.push(...p(I));return S};return dT(p(u.targetSnapshot.root)).pipe(Ug(),Ic(1))}),C0(()=>this.afterPreactivation()),xe(u=>{const p=function EP(e,t,n){const r=Wd(e,t._root,n?n._root:void 0);return new BT(r,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:p}}),Xr(u=>{n.currentUrlTree=u.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),n.routerState=u.targetRouterState,"deferred"===n.urlUpdateStrategy&&(u.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,u),n.browserUrlTree=u.urlAfterRedirects)}),((e,t,n)=>xe(r=>(new PP(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u)),Ic(1),Xr({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new _u(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Jy(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),yl(u=>{if(a=!0,KT(u)){qT(u)||(n.navigated=!0,n.restoreHistory(r,!0));const p=new Gg(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(p),qT(u)){const _=n.urlHandlingStrategy.merge(u.url,n.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||hb(r.source)};n.scheduleNavigation(_,zd,null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const p=new a0(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(n.errorHandler(u))}catch(_){r.reject(_)}}return nr}))}))}cancelNavigationTransition(n,r,s){const a=new Gg(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(a),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hb(e){return e!==zd}let pb=(()=>{class e{buildTitle(n){let r,s=n.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(a=>a.outlet===Wt);return r}getResolvedTitleForRoute(n){return n.data[Ud]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return Lt(TN)},providedIn:"root"}),e})(),TN=(()=>{class e extends pb{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(mt(uT))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return Lt(AN)},providedIn:"root"}),e})();class DN{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let AN=(()=>{class e extends DN{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function cf(e){return Mr(()=>{const t=e.prototype.constructor,n=t[j]||zr(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const a=s[j]||zr(s);if(a&&a!==n)return a;s=Object.getPrototypeOf(s)}return a=>new a})}(e)))(r||e)}}(),e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const im=new _t("",{providedIn:"root",factory:()=>({})});let RN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:function(){return Lt(ON)},providedIn:"root"}),e})(),ON=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function MN(e){throw e}function PN(e,t,n){return t.parse("/")}const NN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(tR),this.isNgZoneEnabled=!1,this.options=Lt(im,{optional:!0})||{},this.errorHandler=this.options.errorHandler||MN,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(RN),this.routeReuseStrategy=Lt(bN),this.urlCreationStrategy=Lt(yP),this.titleStrategy=Lt(pb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wT(Lt(Lc,{optional:!0})??[]),this.navigationTransitions=Lt(rm),this.urlSerializer=Lt(Bd),this.location=Lt(Ty),this.isNgZoneEnabled=Lt(Jn)instanceof Jn&&Jn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jT(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zd,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,s){const a={replaceUrl:!0},u=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const p=this.parseUrl(n);this.scheduleNavigation(p,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(v0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:s,queryParams:a,fragment:u,queryParamsHandling:p,preserveFragment:_}=r,S=_?this.currentUrlTree.fragment:u;let I=null;switch(p){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,n,I,S??null)}navigateByUrl(n,r={skipLocationChange:!1}){const s=vu(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,zd,null,r)}navigate(n,r={skipLocationChange:!1}){return function kN(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Ze(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return r}isActive(n,r){let s;if(s=!0===r?{...NN}:!1===r?{...xN}:r,vu(n))return ST(this.currentUrlTree,n,s);const a=this.parseUrl(n);return ST(this.currentUrlTree,a,s)}removeEmptyProps(n){return Object.keys(n).reduce((r,s)=>{const a=n[s];return null!=a&&(r[s]=a),r},{})}scheduleNavigation(n,r,s,a,u){if(this.disposed)return Promise.resolve(!1);let p,_,S,I;return u?(p=u.resolve,_=u.reject,S=u.promise):S=new Promise((z,oe)=>{p=z,_=oe}),I="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:p,reject:_,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(z=>Promise.reject(z))}setBrowserUrl(n,r){const s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",u)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class gb{}let UN=(()=>{class e{constructor(n,r,s,a,u){this.router=n,this.injector=s,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vl(n=>n instanceof _u),gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const s=[];for(const a of r){a.providers&&!a._injector&&(a._injector=fg(a.providers,n,`Route: ${a.path}`));const u=a._injector??n,p=a._loadedInjector??u;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(u,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(p,a.children??a._loadedRoutes))}return En(s).pipe(wi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):At(null);const a=s.pipe(Tn(u=>null===u?At(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?En([a,this.loader.loadComponent(r)]).pipe(wi()):a})}}return e.\u0275fac=function(n){return new(n||e)(mt(Qi),mt(GE),mt(Xs),mt(gb),mt(E0))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const b0=new _t("");let mb=(()=>{class e{constructor(n,r,s,a,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof o0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _u&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof UT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function ac(){throw new Error("invalid")}()},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();var Zi=(()=>((Zi=Zi||{})[Zi.COMPLETE=0]="COMPLETE",Zi[Zi.FAILED=1]="FAILED",Zi[Zi.REDIRECTING=2]="REDIRECTING",Zi))();const Uc=!1;function El(e,t){return{\u0275kind:e,\u0275providers:t}}const D0=new _t("",{providedIn:"root",factory:()=>!1});function _b(){const e=Lt(no);return t=>{const n=e.get(_g);if(t!==n.components[0])return;const r=e.get(Qi),s=e.get(yb);1===e.get(A0)&&r.initialNavigation(),e.get(wb,null,dt.Optional)?.setUpPreloading(),e.get(b0,null,dt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const yb=new _t(Uc?"bootstrap done indicator":"",{factory:()=>new A}),A0=new _t(Uc?"initial navigation":"",{providedIn:"root",factory:()=>1});function VN(){let e=[];return e=Uc?[{provide:Tr,multi:!0,useFactory:()=>{const t=Lt(Qi);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function gP(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],El(1,e)}const wb=new _t(Uc?"router preloader":"");function zN(e){return El(0,[{provide:wb,useExisting:UN},{provide:gb,useExisting:e}])}const Jd=!1,Cb=new _t(Jd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),WN=[Ty,{provide:Bd,useClass:Xy},Qi,Gd,{provide:xc,useFactory:function vb(e){return e.routerState.root},deps:[Qi]},E0,Jd?{provide:D0,useValue:!0}:[]];function GN(){return new eS("Router",Qi)}let Eb=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[WN,Jd&&r?.enableTracing?VN().\u0275providers:[],{provide:Lc,multi:!0,useValue:n},{provide:Cb,useFactory:QN,deps:[[Qi,new Xa,new el]]},{provide:im,useValue:r||{}},r?.useHash?{provide:pu,useClass:$R}:{provide:pu,useClass:SS},{provide:b0,useFactory:()=>{const e=Lt(cO),t=Lt(Jn),n=Lt(im),r=Lt(rm),s=Lt(Bd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new mb(s,r,e,t,n)}},r?.preloadingStrategy?zN(r.preloadingStrategy).\u0275providers:[],{provide:eS,multi:!0,useFactory:GN},r?.initialNavigation?ZN(r):[],[{provide:Sb,useFactory:_b},{provide:XE,multi:!0,useExisting:Sb}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Lc,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(mt(Cb,8))},e.\u0275mod=yt({type:e}),e.\u0275inj=hr({imports:[g0]}),e})();function QN(e){if(Jd&&e)throw new Ze(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ZN(e){return["disabled"===e.initialNavigation?El(3,[{provide:gg,multi:!0,useFactory:()=>{const t=Lt(Qi);return()=>{t.setUpLocationChangeListener()}}},{provide:A0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?El(2,[{provide:A0,useValue:0},{provide:gg,multi:!0,deps:[no],useFactory:t=>{const n=t.get(BR,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=t.get(Qi),a=t.get(yb);(function HN(e,t){e.events.pipe(vl(n=>n instanceof _u||n instanceof Gg||n instanceof a0||n instanceof qg),xe(n=>n instanceof _u||n instanceof qg?Zi.COMPLETE:n instanceof Gg&&(0===n.code||1===n.code)?Zi.REDIRECTING:Zi.FAILED),vl(n=>n!==Zi.REDIRECTING),Ic(1)).subscribe(()=>{t()})})(s,()=>{r(!0)}),t.get(rm).afterPreactivation=()=>(r(!0),a.closed?At(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const Sb=new _t(Jd?"Router Initializer":"");var XN=H(1515),ex=H.n(XN);const tx=[{path:"calling",component:(()=>{class e{constructor(){try{this.piopiy=new(ex())({name:"Display Name",debug:!1,autoplay:!0,ringTime:60})}catch(n){console.error("Configuration Error:",n)}this.piopiy.on("inComingCall",n=>{console.log("inComingCall",n)}),this.piopiy.on("ended",n=>{console.log("ended",n)}),this.piopiy.on("ringing",n=>{console.log("ringing",n)})}ngOnInit(){}login(){try{this.piopiy.login("4001_33333734","123456","sbcind.telecmi.com"),this.piopiy.on("login",n=>{console.log("login",n)}),this.piopiy.on("loginFailed",n=>{console.log("loginFailed >>",n)})}catch(n){console.error("Login Error:",n)}}logOut(){this.piopiy.logout(),this.piopiy.on("logout",n=>{console.log("logout",n)})}call(){this.piopiy.call("919237967333"),this.piopiy.on("ringing",n=>{console.log("ringing",n)})}hangup(){this.piopiy.terminate(),this.piopiy.on("hangup",n=>{console.log("hangup",n)})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=be({type:e,selectors:[["app-calling"]],decls:8,vars:0,consts:[["type","button",1,"btn",3,"click"],["type","button",3,"click"],[1,"btn",3,"click"]],template:function(r,s){1&r&&(au(0,"button",0),uu("click",function(){return s.login()}),Cd(1," Login "),lu(),au(2,"button",1),uu("click",function(){return s.call()}),Cd(3," call "),lu(),au(4,"button",1),uu("click",function(){return s.hangup()}),Cd(5," hangup "),lu(),au(6,"button",2),uu("click",function(){return s.logOut()}),Cd(7," Log out "),lu())}})}return e})()}];let nx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=hr({imports:[Eb.forRoot(tx),Eb]})}return e})(),rx=(()=>{class e{constructor(){this.title="piopiyAngular"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=be({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&rg(0,"router-outlet")},dependencies:[p0]})}return e})(),ix=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=yt({type:e,bootstrap:[rx]});static#n=this.\u0275inj=hr({imports:[lM,nx]})}return e})();aM().bootstrapModule(ix).catch(e=>console.error(e))},1455:(Le,K,H)=>{K.formatArgs=function k(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+Le.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;o.splice(1,0,m,"color: inherit");let x=0,C=0;o[0].replace(/%[a-zA-Z%]/g,E=>{"%%"!==E&&(x++,"%c"===E&&(C=x))}),o.splice(C,0,m)},K.save=function fe(o){try{o?K.storage.setItem("debug",o):K.storage.removeItem("debug")}catch{}},K.load=function v(){let o;try{o=K.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=process.env.DEBUG),o},K.useColors=function Y(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},K.storage=function ie(){try{return localStorage}catch{}}(),K.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),K.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],K.log=console.debug||console.log||(()=>{}),Le.exports=H(3283)(K);const{formatters:G}=Le.exports;G.j=function(o){try{return JSON.stringify(o)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}},3283:(Le,K,H)=>{Le.exports=function Y(k){function v(w){let d,F,L,T=null;function $(...O){if(!$.enabled)return;const M=$,N=Number(new Date);M.diff=N-(d||N),M.prev=d,M.curr=N,d=N,O[0]=v.coerce(O[0]),"string"!=typeof O[0]&&O.unshift("%O");let q=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(me,ne)=>{if("%%"===me)return"%";q++;const ae=v.formatters[ne];return"function"==typeof ae&&(me=ae.call(M,O[q]),O.splice(q,1),q--),me}),v.formatArgs.call(M,O),(M.log||v.log).apply(M,O)}return $.namespace=w,$.useColors=v.useColors(),$.color=v.selectColor(w),$.extend=ie,$.destroy=v.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==T?T:(F!==v.namespaces&&(F=v.namespaces,L=v.enabled(w)),L),set:O=>{T=O}}),"function"==typeof v.init&&v.init($),$}function ie(w,d){const T=v(this.namespace+(typeof d>"u"?":":d)+w);return T.log=this.log,T}function x(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}return v.debug=v,v.default=v,v.coerce=function C(w){return w instanceof Error?w.stack||w.message:w},v.disable=function o(){const w=[...v.names.map(x),...v.skips.map(x).map(d=>"-"+d)].join(",");return v.enable(""),w},v.enable=function G(w){let d;v.save(w),v.namespaces=w,v.names=[],v.skips=[];const T=("string"==typeof w?w:"").split(/[\s,]+/),F=T.length;for(d=0;d<F;d++)T[d]&&("-"===(w=T[d].replace(/\*/g,".*?"))[0]?v.skips.push(new RegExp("^"+w.slice(1)+"$")):v.names.push(new RegExp("^"+w+"$")))},v.enabled=function m(w){if("*"===w[w.length-1])return!0;let d,T;for(d=0,T=v.skips.length;d<T;d++)if(v.skips[d].test(w))return!1;for(d=0,T=v.names.length;d<T;d++)if(v.names[d].test(w))return!0;return!1},v.humanize=H(4366),v.destroy=function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(k).forEach(w=>{v[w]=k[w]}),v.names=[],v.skips=[],v.formatters={},v.selectColor=function fe(w){let d=0;for(let T=0;T<w.length;T++)d=(d<<5)-d+w.charCodeAt(T),d|=0;return v.colors[Math.abs(d)%v.colors.length]},v.enable(v.load()),v}},9069:Le=>{"use strict";var Y,K="object"==typeof Reflect?Reflect:null,H=K&&"function"==typeof K.apply?K.apply:function(N,W,q){return Function.prototype.apply.call(N,W,q)};Y=K&&"function"==typeof K.ownKeys?K.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};var fe=Number.isNaN||function(N){return N!=N};function v(){v.init.call(this)}Le.exports=v,Le.exports.once=function L(M,N){return new Promise(function(W,q){function se(ne){M.removeListener(N,me),q(ne)}function me(){"function"==typeof M.removeListener&&M.removeListener("error",se),W([].slice.call(arguments))}O(M,N,me,{once:!0}),"error"!==N&&function $(M,N,W){"function"==typeof M.on&&O(M,"error",N,W)}(M,se,{once:!0})})},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var ie=10;function G(M){if("function"!=typeof M)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}function o(M){return void 0===M._maxListeners?v.defaultMaxListeners:M._maxListeners}function m(M,N,W,q){var se,me,ne;if(G(W),void 0===(me=M._events)?(me=M._events=Object.create(null),M._eventsCount=0):(void 0!==me.newListener&&(M.emit("newListener",N,W.listener?W.listener:W),me=M._events),ne=me[N]),void 0===ne)ne=me[N]=W,++M._eventsCount;else if("function"==typeof ne?ne=me[N]=q?[W,ne]:[ne,W]:q?ne.unshift(W):ne.push(W),(se=o(M))>0&&ne.length>se&&!ne.warned){ne.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+ne.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=M,ae.type=N,ae.count=ne.length,function k(M){console&&console.warn&&console.warn(M)}(ae)}return M}function x(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(M,N,W){var q={fired:!1,wrapFn:void 0,target:M,type:N,listener:W},se=x.bind(q);return se.listener=W,q.wrapFn=se,se}function E(M,N,W){var q=M._events;if(void 0===q)return[];var se=q[N];return void 0===se?[]:"function"==typeof se?W?[se.listener||se]:[se]:W?function F(M){for(var N=new Array(M.length),W=0;W<N.length;++W)N[W]=M[W].listener||M[W];return N}(se):d(se,se.length)}function w(M){var N=this._events;if(void 0!==N){var W=N[M];if("function"==typeof W)return 1;if(void 0!==W)return W.length}return 0}function d(M,N){for(var W=new Array(N),q=0;q<N;++q)W[q]=M[q];return W}function O(M,N,W,q){if("function"==typeof M.on)q.once?M.once(N,W):M.on(N,W);else{if("function"!=typeof M.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M);M.addEventListener(N,function se(me){q.once&&M.removeEventListener(N,se),W(me)})}}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return ie},set:function(M){if("number"!=typeof M||M<0||fe(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");ie=M}}),v.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(N){if("number"!=typeof N||N<0||fe(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},v.prototype.getMaxListeners=function(){return o(this)},v.prototype.emit=function(N){for(var W=[],q=1;q<arguments.length;q++)W.push(arguments[q]);var se="error"===N,me=this._events;if(void 0!==me)se=se&&void 0===me.error;else if(!se)return!1;if(se){var ne;if(W.length>0&&(ne=W[0]),ne instanceof Error)throw ne;var ae=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw ae.context=ne,ae}var De=me[N];if(void 0===De)return!1;if("function"==typeof De)H(De,this,W);else{var Ce=De.length,ee=d(De,Ce);for(q=0;q<Ce;++q)H(ee[q],this,W)}return!0},v.prototype.on=v.prototype.addListener=function(N,W){return m(this,N,W,!1)},v.prototype.prependListener=function(N,W){return m(this,N,W,!0)},v.prototype.once=function(N,W){return G(W),this.on(N,C(this,N,W)),this},v.prototype.prependOnceListener=function(N,W){return G(W),this.prependListener(N,C(this,N,W)),this},v.prototype.off=v.prototype.removeListener=function(N,W){var q,se,me,ne,ae;if(G(W),void 0===(se=this._events))return this;if(void 0===(q=se[N]))return this;if(q===W||q.listener===W)0==--this._eventsCount?this._events=Object.create(null):(delete se[N],se.removeListener&&this.emit("removeListener",N,q.listener||W));else if("function"!=typeof q){for(me=-1,ne=q.length-1;ne>=0;ne--)if(q[ne]===W||q[ne].listener===W){ae=q[ne].listener,me=ne;break}if(me<0)return this;0===me?q.shift():function T(M,N){for(;N+1<M.length;N++)M[N]=M[N+1];M.pop()}(q,me),1===q.length&&(se[N]=q[0]),void 0!==se.removeListener&&this.emit("removeListener",N,ae||W)}return this},v.prototype.removeAllListeners=function(N){var W,q,se;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[N]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[N]),this;if(0===arguments.length){var ne,me=Object.keys(q);for(se=0;se<me.length;++se)"removeListener"!==(ne=me[se])&&this.removeAllListeners(ne);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(W=q[N]))this.removeListener(N,W);else if(void 0!==W)for(se=W.length-1;se>=0;se--)this.removeListener(N,W[se]);return this},v.prototype.listeners=function(N){return E(this,N,!0)},v.prototype.rawListeners=function(N){return E(this,N,!1)},v.listenerCount=function(M,N){return"function"==typeof M.listenerCount?M.listenerCount(N):w.call(M,N)},v.prototype.listenerCount=w,v.prototype.eventNames=function(){return this._eventsCount>0?Y(this._events):[]}},7724:(Le,K,H)=>{"use strict";function Y(E,w){var d;if(typeof Symbol>"u"||null==E[Symbol.iterator]){if(Array.isArray(E)||(d=function k(E,w){if(E){if("string"==typeof E)return fe(E,w);var d=Object.prototype.toString.call(E).slice(8,-1);if("Object"===d&&E.constructor&&(d=E.constructor.name),"Map"===d||"Set"===d)return Array.from(E);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return fe(E,w)}}(E))||w&&E&&"number"==typeof E.length){d&&(E=d);var T=0,F=function(){};return{s:F,n:function(){return T>=E.length?{done:!0}:{done:!1,value:E[T++]}},e:function(N){throw N},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,L=!0,$=!1;return{s:function(){d=E[Symbol.iterator]()},n:function(){var N=d.next();return L=N.done,N},e:function(N){$=!0,O=N},f:function(){try{!L&&null!=d.return&&d.return()}finally{if($)throw O}}}}function fe(E,w){(null==w||w>E.length)&&(w=E.length);for(var d=0,T=new Array(w);d<w;d++)T[d]=E[d];return T}var v=H(6886),ie=H(5428),G=H(6416),o=H(2661),m=H(8984),x=H(7471);K.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:ie.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:ie.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:ie.CONNECTION_RECOVERY_MIN_INTERVAL,extra_headers:null,via_host:"".concat(v.createRandomToken(12),".invalid")};var C={mandatory:{sockets:function(w){var d=[];if(m.isSocket(w))d.push({socket:w});else{if(!Array.isArray(w)||!w.length)return;var F,T=Y(w);try{for(T.s();!(F=T.n()).done;){var L=F.value;Object.prototype.hasOwnProperty.call(L,"socket")&&m.isSocket(L.socket)?d.push(L):m.isSocket(L)&&d.push({socket:L})}}catch($){T.e($)}finally{T.f()}}return d},uri:function(w){/^sip:/i.test(w)||(w="".concat(ie.SIP,":").concat(w));var d=o.parse(w);if(d)return d.user?d:void 0}},optional:{authorization_user:function(w){if(-1!==G.parse('"'.concat(w,'"'),"quoted_string"))return w},authorization_jwt:function(w){if("string"==typeof w)return w},user_agent:function(w){if("string"==typeof w)return w},connection_recovery_max_interval:function(w){if(v.isDecimal(w)){var d=Number(w);if(d>0)return d}},connection_recovery_min_interval:function(w){if(v.isDecimal(w)){var d=Number(w);if(d>0)return d}},contact_uri:function(w){if("string"==typeof w){var d=G.parse(w,"SIP_URI");if(-1!==d)return d}},display_name:function(w){return w},instance_id:function(w){if(/^uuid:/i.test(w)&&(w=w.substr(5)),-1!==G.parse(w,"uuid"))return w},no_answer_timeout:function(w){if(v.isDecimal(w)){var d=Number(w);if(d>0)return d}},session_timers:function(w){if("boolean"==typeof w)return w},session_timers_refresh_method:function(w){if("string"==typeof w&&((w=w.toUpperCase())===ie.INVITE||w===ie.UPDATE))return w},session_timers_force_refresher:function(w){if("boolean"==typeof w)return w},password:function(w){return String(w)},realm:function(w){return String(w)},ha1:function(w){return String(w)},register:function(w){if("boolean"==typeof w)return w},register_expires:function(w){if(v.isDecimal(w)){var d=Number(w);if(d>0)return d}},registrar_server:function(w){/^sip:/i.test(w)||(w="".concat(ie.SIP,":").concat(w));var d=o.parse(w);if(d)return d.user?void 0:d},use_preloaded_route:function(w){if("boolean"==typeof w)return w},extra_headers:function(w){var d=[];if(Array.isArray(w)&&w.length){var F,T=Y(w);try{for(T.s();!(F=T.n()).done;){var L=F.value;"string"==typeof L&&d.push(L)}}catch($){T.e($)}finally{T.f()}return d}}}};K.load=function(E,w){for(var d in C.mandatory){if(!w.hasOwnProperty(d))throw new x.ConfigurationError(d);var T=w[d],F=C.mandatory[d](T);if(void 0===F)throw new x.ConfigurationError(d,T);E[d]=F}for(var L in C.optional)if(w.hasOwnProperty(L)){var $=w[L];if(v.isEmpty($))continue;var O=C.optional[L]($);if(void 0===O)throw new x.ConfigurationError(L,$);E[L]=O}}},5428:(Le,K,H)=>{"use strict";var Y=H(2403);Le.exports={USER_AGENT:"".concat(Y.title," ").concat(Y.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2}},2709:(Le,K,H)=>{"use strict";function k(w,d){for(var T=0;T<d.length;T++){var F=d[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}function fe(w,d,T){return d&&k(w.prototype,d),T&&k(w,T),w}var v=H(8843),ie=H(4314),G=H(5428),o=H(3258),m=H(5866),x=H(6886),C=new v("Dialog"),E={STATUS_EARLY:1,STATUS_CONFIRMED:2,STATUS_TERMINATED:3};Le.exports=function(){function w(d,T,F){var L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.STATUS_CONFIRMED;if(function Y(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}(this,w),this._owner=d,this._ua=d._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!T.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};T instanceof ie.IncomingResponse&&(L=T.status_code<200?E.STATUS_EARLY:E.STATUS_CONFIRMED);var $=T.parseHeader("contact");"UAS"===F?(this._id={call_id:T.call_id,local_tag:T.to_tag,remote_tag:T.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=L,this._remote_seqnum=T.cseq,this._local_uri=T.parseHeader("to").uri,this._remote_uri=T.parseHeader("from").uri,this._remote_target=$.uri,this._route_set=T.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):"UAC"===F&&(this._id={call_id:T.call_id,local_tag:T.from_tag,remote_tag:T.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=L,this._local_seqnum=T.cseq,this._local_uri=T.parseHeader("from").uri,this._remote_uri=T.parseHeader("to").uri,this._remote_target=$.uri,this._route_set=T.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),C.debug("new ".concat(F," dialog created with status ").concat(this._state===E.STATUS_EARLY?"EARLY":"CONFIRMED"))}return fe(w,null,[{key:"C",get:function(){return E}}]),fe(w,[{key:"isTerminated",value:function(){return this._status===E.STATUS_TERMINATED}},{key:"update",value:function(T,F){this._state=E.STATUS_CONFIRMED,C.debug("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),"UAC"===F&&(this._route_set=T.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){C.debug("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this),this._state=E.STATUS_TERMINATED}},{key:"sendRequest",value:function(T){var F=this,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=x.cloneArray(L.extraHeaders),O=x.cloneObject(L.eventHandlers),N=this._createRequest(T,$,L.body||null);return O.onAuthenticated=function(){F._local_seqnum+=1},new m(this,N,O).send(),N}},{key:"receiveRequest",value:function(T){this._checkInDialogRequest(T)&&(T.method===G.ACK&&null!==this._ack_seqnum?this._ack_seqnum=null:T.method===G.INVITE&&(this._ack_seqnum=T.cseq),this._owner.receiveRequest(T))}},{key:"_createRequest",value:function(T,F,L){F=x.cloneArray(F),this._local_seqnum||(this._local_seqnum=Math.floor(1e4*Math.random()));var $=T===G.CANCEL||T===G.ACK?this._local_seqnum:this._local_seqnum+=1;return new ie.OutgoingRequest(T,this._remote_target,this._ua,{cseq:$,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},F,L)}},{key:"_checkInDialogRequest",value:function(T){var F=this;if(this._remote_seqnum)if(T.cseq<this._remote_seqnum){if(T.method!==G.ACK)return T.reply(500),!1;if(null===this._ack_seqnum||T.cseq!==this._ack_seqnum)return!1}else T.cseq>this._remote_seqnum&&(this._remote_seqnum=T.cseq);else this._remote_seqnum=T.cseq;if(T.method===G.INVITE||T.method===G.UPDATE&&T.body){if(!0===this._uac_pending_reply)T.reply(491);else{if(!0===this._uas_pending_reply){var L=1+(10*Math.random()|0);return T.reply(500,null,["Retry-After:".concat(L)]),!1}this._uas_pending_reply=!0,T.server_transaction.on("stateChanged",function O(){(T.server_transaction.state===o.C.STATUS_ACCEPTED||T.server_transaction.state===o.C.STATUS_COMPLETED||T.server_transaction.state===o.C.STATUS_TERMINATED)&&(T.server_transaction.removeListener("stateChanged",O),F._uas_pending_reply=!1)})}T.hasHeader("contact")&&T.server_transaction.on("stateChanged",function(){T.server_transaction.state===o.C.STATUS_ACCEPTED&&(F._remote_target=T.parseHeader("contact").uri)})}else T.method===G.NOTIFY&&T.hasHeader("contact")&&T.server_transaction.on("stateChanged",function(){T.server_transaction.state===o.C.STATUS_COMPLETED&&(F._remote_target=T.parseHeader("contact").uri)});return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(T){this._local_seqnum=T}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(T){this._uac_pending_reply=T}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),w}()},5866:(Le,K,H)=>{"use strict";function k(m,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}var v=H(5428),ie=H(3258),G=H(3974),o={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}};Le.exports=function(){function m(x,C,E){for(var w in function Y(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),this._dialog=x,this._ua=x._ua,this._request=C,this._eventHandlers=E,this._reattempt=!1,this._reattemptTimer=null,o)Object.prototype.hasOwnProperty.call(o,w)&&(this._eventHandlers[w]||(this._eventHandlers[w]=o[w]))}return function fe(m,x,C){x&&k(m.prototype,x),C&&k(m,C)}(m,[{key:"send",value:function(){var C=this,E=new G(this._ua,this._request,{onRequestTimeout:function(){C._eventHandlers.onRequestTimeout()},onTransportError:function(){C._eventHandlers.onTransportError()},onAuthenticated:function(T){C._eventHandlers.onAuthenticated(T)},onReceiveResponse:function(T){C._receiveResponse(T)}});E.send(),(this._request.method===v.INVITE||this._request.method===v.UPDATE&&this._request.body)&&E.clientTransaction.state!==ie.C.STATUS_TERMINATED&&(this._dialog.uac_pending_reply=!0,E.clientTransaction.on("stateChanged",function d(){(E.clientTransaction.state===ie.C.STATUS_ACCEPTED||E.clientTransaction.state===ie.C.STATUS_COMPLETED||E.clientTransaction.state===ie.C.STATUS_TERMINATED)&&(E.clientTransaction.removeListener("stateChanged",d),C._dialog.uac_pending_reply=!1)}))}},{key:"_receiveResponse",value:function(C){var E=this;408===C.status_code||481===C.status_code?this._eventHandlers.onDialogError(C):C.method===v.INVITE&&491===C.status_code?this._reattempt?C.status_code>=200&&C.status_code<300?this._eventHandlers.onSuccessResponse(C):C.status_code>=300&&this._eventHandlers.onErrorResponse(C):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){E._dialog.isTerminated()||(E._reattempt=!0,E.send())},1e3)):C.status_code>=200&&C.status_code<300?this._eventHandlers.onSuccessResponse(C):C.status_code>=300&&this._eventHandlers.onErrorResponse(C)}},{key:"request",get:function(){return this._request}}]),m}()},9627:(Le,K,H)=>{"use strict";function k(o,m){for(var x=0;x<m.length;x++){var C=m[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}var v=H(8843),ie=H(6886),G=new v("DigestAuthentication");Le.exports=function(){function o(m){(function Y(o,m){if(!(o instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._credentials=m,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}return function fe(o,m,x){m&&k(o.prototype,m),x&&k(o,x)}(o,[{key:"get",value:function(x){switch(x){case"realm":return this._realm;case"ha1":return this._ha1;default:return void G.warn('get() | cannot get "%s" parameter',x)}}},{key:"authenticate",value:function(x,C){var E=x.method,w=x.ruri,d=x.body,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._algorithm=C.algorithm,this._realm=C.realm,this._nonce=C.nonce,this._opaque=C.opaque,this._stale=C.stale,this._algorithm){if("MD5"!==this._algorithm)return G.warn('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return G.warn("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return G.warn("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return G.warn("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return G.warn('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(C.qop)if(C.qop.indexOf("auth-int")>-1)this._qop="auth-int";else{if(!(C.qop.indexOf("auth")>-1))return G.warn('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this._qop="auth"}else this._qop=null;this._method=E,this._uri=w,this._cnonce=T||ie.createRandomToken(12),this._nc+=1;var L,$,F=Number(this._nc).toString(16);return this._ncHex="00000000".substr(0,8-F.length)+F,4294967296===this._nc&&(this._nc=1,this._ncHex="00000001"),this._ha1=this._credentials.password?ie.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._credentials.ha1,"auth"===this._qop?(L="".concat(this._method,":").concat(this._uri),$=ie.calculateMD5(L),G.debug('authenticate() | using qop=auth [a2:"%s"]',L),this._response=ie.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat($))):"auth-int"===this._qop?(L="".concat(this._method,":").concat(this._uri,":").concat(ie.calculateMD5(d||"")),$=ie.calculateMD5(L),G.debug('authenticate() | using qop=auth-int [a2:"%s"]',L),this._response=ie.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat($))):null===this._qop&&(L="".concat(this._method,":").concat(this._uri),$=ie.calculateMD5(L),G.debug('authenticate() | using qop=null [a2:"%s"]',L),this._response=ie.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat($))),G.debug("authenticate() | response generated"),!0}},{key:"toString",value:function(){var x=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return x.push("algorithm=".concat(this._algorithm)),x.push('username="'.concat(this._credentials.username,'"')),x.push('realm="'.concat(this._realm,'"')),x.push('nonce="'.concat(this._nonce,'"')),x.push('uri="'.concat(this._uri,'"')),x.push('response="'.concat(this._response,'"')),this._opaque&&x.push('opaque="'.concat(this._opaque,'"')),this._qop&&(x.push("qop=".concat(this._qop)),x.push('cnonce="'.concat(this._cnonce,'"')),x.push("nc=".concat(this._ncHex))),"Digest ".concat(x.join(", "))}}]),o}()},7471:Le=>{"use strict";function K(F){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(F)}function H(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}function Y(F,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),L&&x(F,L)}function k(F){var L=o();return function(){var M,O=C(F);if(L){var N=C(this).constructor;M=Reflect.construct(O,arguments,N)}else M=O.apply(this,arguments);return function fe(F,L){return!L||"object"!==K(L)&&"function"!=typeof L?function v(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F):L}(this,M)}}function ie(F){var L="function"==typeof Map?new Map:void 0;return ie=function(O){if(null===O||!function m(F){return-1!==Function.toString.call(F).indexOf("[native code]")}(O))return O;if("function"!=typeof O)throw new TypeError("Super expression must either be null or a function");if(typeof L<"u"){if(L.has(O))return L.get(O);L.set(O,M)}function M(){return G(O,arguments,C(this).constructor)}return M.prototype=Object.create(O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),x(M,O)},ie(F)}function G(F,L,$){return(G=o()?Reflect.construct:function(M,N,W){var q=[null];q.push.apply(q,N);var me=new(Function.bind.apply(M,q));return W&&x(me,W.prototype),me}).apply(null,arguments)}function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(F,L){return(x=Object.setPrototypeOf||function(O,M){return O.__proto__=M,O})(F,L)}function C(F){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)})(F)}var E=function(F){Y($,F);var L=k($);function $(O,M){var N;return H(this,$),(N=L.call(this)).code=1,N.name="CONFIGURATION_ERROR",N.parameter=O,N.value=M,N.message=N.value?"Invalid value ".concat(JSON.stringify(N.value),' for parameter "').concat(N.parameter,'"'):"Missing parameter: ".concat(N.parameter),N}return $}(ie(Error)),w=function(F){Y($,F);var L=k($);function $(O){var M;return H(this,$),(M=L.call(this)).code=2,M.name="INVALID_STATE_ERROR",M.status=O,M.message="Invalid status: ".concat(O),M}return $}(ie(Error)),d=function(F){Y($,F);var L=k($);function $(O){var M;return H(this,$),(M=L.call(this)).code=3,M.name="NOT_SUPPORTED_ERROR",M.message=O,M}return $}(ie(Error)),T=function(F){Y($,F);var L=k($);function $(O){var M;return H(this,$),(M=L.call(this)).code=4,M.name="NOT_READY_ERROR",M.message=O,M}return $}(ie(Error));Le.exports={ConfigurationError:E,InvalidStateError:w,NotSupportedError:d,NotReadyError:T}},6416:(Le,K,H)=>{"use strict";Le.exports=function(){function Y(fe){return'"'+fe.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var k={parse:function(v,ie){var G={CRLF:T,DIGIT:F,ALPHA:L,HEXDIG:$,WSP:O,OCTET:M,DQUOTE:N,SP:W,HTAB:q,alphanum:se,reserved:me,unreserved:ne,mark:ae,escaped:De,LWS:Ce,SWS:ee,HCOLON:de,TEXT_UTF8_TRIM:B,TEXT_UTF8char:V,UTF8_NONASCII:ce,UTF8_CONT:te,LHEX:function Ae(){var i;return null===(i=F())&&(/^[a-f]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[a-f]"))),i},token:ge,token_nodot:pe,separators:function A(){var i;return 40===v.charCodeAt(o)?(i="(",o++):(i=null,0===m&&d('"("')),null===i&&(41===v.charCodeAt(o)?(i=")",o++):(i=null,0===m&&d('")"')),null===i&&(60===v.charCodeAt(o)?(i="<",o++):(i=null,0===m&&d('"<"')),null===i&&(62===v.charCodeAt(o)?(i=">",o++):(i=null,0===m&&d('">"')),null===i&&(64===v.charCodeAt(o)?(i="@",o++):(i=null,0===m&&d('"@"')),null===i&&(44===v.charCodeAt(o)?(i=",",o++):(i=null,0===m&&d('","')),null===i&&(59===v.charCodeAt(o)?(i=";",o++):(i=null,0===m&&d('";"')),null===i&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(92===v.charCodeAt(o)?(i="\\",o++):(i=null,0===m&&d('"\\\\"')),null===i&&null===(i=N())&&(47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"')),null===i&&(91===v.charCodeAt(o)?(i="[",o++):(i=null,0===m&&d('"["')),null===i&&(93===v.charCodeAt(o)?(i="]",o++):(i=null,0===m&&d('"]"')),null===i&&(63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null===i&&(61===v.charCodeAt(o)?(i="=",o++):(i=null,0===m&&d('"="')),null===i&&(123===v.charCodeAt(o)?(i="{",o++):(i=null,0===m&&d('"{"')),null===i&&(125===v.charCodeAt(o)?(i="}",o++):(i=null,0===m&&d('"}"')),null===i&&null===(i=W())&&(i=q())))))))))))))))),i},word:J,STAR:we,SLASH:_e,EQUAL:Se,LPAREN:Me,RPAREN:xe,RAQUOT:We,LAQUOT:Ye,COMMA:Ge,SEMI:Be,COLON:Mt,LDQUOT:Rt,RDQUOT:hn,comment:function gt(){var i,f,h,y;if(y=o,null!==(i=Me())){for(f=[],null===(h=at())&&null===(h=$t())&&(h=gt());null!==h;)f.push(h),null===(h=at())&&null===(h=$t())&&(h=gt());null!==f&&null!==(h=xe())?i=[i,f,h]:(i=null,o=y)}else i=null,o=y;return i},ctext:at,quoted_string:Ct,quoted_string_clean:jt,qdtext:Kt,quoted_pair:$t,SIP_URI_noparams:Ft,SIP_URI:pn,uri_scheme:In,uri_scheme_sips:Ur,uri_scheme_sip:Cn,userinfo:rn,user:dr,user_unreserved:It,password:Ji,hostport:xi,host:qr,hostname:Xi,domainlabel:es,toplabel:ei,IPv6reference:ki,IPv6address:Fi,h16:ot,ls32:Qn,IPv4address:ts,dec_octet:ns,port:co,uri_parameters:Sl,uri_parameter:As,transport_param:fo,user_param:ho,method_param:Is,ttl_param:ti,maddr_param:Xo,lr_param:Rs,other_param:ni,pname:Os,pvalue:Li,paramchar:Rn,param_unreserved:po,headers:Ua,header:Ms,hname:ea,hvalue:go,hnv_unreserved:rs,Request_Response:function ta(){var i;return null===(i=Co())&&(i=Zn()),i},Request_Line:Zn,Request_URI:mo,absoluteURI:Tn,hier_part:wi,net_path:nr,abs_path:ri,opaque_part:Ps,uric:Ir,uric_no_slash:Ns,path_segments:Ci,segment:bn,param:vo,pchar:Ei,scheme:xs,authority:_o,srvr:is,reg_name:Ui,query:na,SIP_Version:ks,INVITEm:ra,ACKm:ia,OPTIONSm:En,BYEm:yo,CANCELm:ss,REGISTERm:wo,SUBSCRIBEm:un,NOTIFYm:Hi,REFERm:dn,Method:Bi,Status_Line:Co,Status_Code:Fs,extension_code:ht,Reason_Phrase:Ls,Allow_Events:function Us(){var i,f,h,y,b,P;if(b=o,null!==(i=pr())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=pr())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=pr())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},Call_ID:function Eo(){var i,f,h,y,b,P;return y=o,b=o,null!==(i=J())?(P=o,64===v.charCodeAt(o)?(f="@",o++):(f=null,0===m&&d('"@"')),null!==f&&null!==(h=J())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve=v.substring(o,y))),null===i&&(o=y),i},Contact:function Si(){var i,f,h,y,b,P,X;if(b=o,null===(i=we()))if(P=o,null!==(i=Ze())){for(f=[],X=o,null!==(h=Ge())&&null!==(y=Ze())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Ge())&&null!==(y=Ze())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je,ft;for(ft=ve.multi_header.length,je=0;je<ft;je++)if(null===ve.multi_header[je].parsed){ve=null;break}ve=null!==ve?ve.multi_header:-1}()),null===i&&(o=b),i},contact_param:Ze,name_addr:yn,display_name:pt,contact_params:Jt,c_p_q:So,c_p_expires:To,delta_seconds:ii,qvalue:ji,generic_param:Xt,gen_value:Ha,Content_Disposition:function bo(){var i,f,h,y,b,P;if(b=o,null!==(i=sa())){for(f=[],P=o,null!==(h=Be())&&null!==(y=Hr())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Be())&&null!==(y=Hr())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},disp_type:sa,disp_param:Hr,handling_param:oa,Content_Encoding:function Tl(){var i,f,h,y,b,P;if(b=o,null!==(i=ge())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},Content_Length:function Ba(){var i,f,h;if(h=o,null!==(f=F()))for(i=[];null!==f;)i.push(f),f=F();else i=null;return null!==i&&(i=void(ve=parseInt(i.join("")))),null===i&&(o=h),i},Content_Type:function aa(){var i,f;return f=o,null!==(i=Hs())&&(i=void(ve=v.substring(o,f))),null===i&&(o=f),i},media_type:Hs,m_type:la,discrete_type:Do,composite_type:ja,extension_token:Un,x_token:ut,m_subtype:an,m_parameter:ua,m_value:Br,CSeq:function ct(){var i,f,h,y;return y=o,null!==(i=$a())&&null!==(f=Ce())&&null!==(h=Bi())?i=[i,f,h]:(i=null,o=y),i},CSeq_value:$a,Expires:function hr(){var i,f;return f=o,null!==(i=ii())&&(i=void(ve=i)),null===i&&(o=f),i},Event:function $i(){var i,f,h,y,b,P,X;if(b=o,P=o,null!==(i=pr())){for(f=[],X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=void(ve.event=i[0].join("").toLowerCase())),null===i&&(o=b),i},event_type:pr,From:function ca(){var i,f,h,y,b,P,X;if(b=o,P=o,null===(i=Ft())&&(i=yn()),null!==i){for(f=[],X=o,null!==(h=Be())&&null!==(y=Sn())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Sn())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je=ve.tag;try{ve=new gn(ve.uri,ve.display_name,ve.params),je&&ve.setParam("tag",je)}catch{ve=-1}}()),null===i&&(o=b),i},from_param:Sn,tag_param:Ti,Max_Forwards:function xn(){var i,f,h;if(h=o,null!==(f=F()))for(i=[];null!==f;)i.push(f),f=F();else i=null;return null!==i&&(i=void(ve=parseInt(i.join("")))),null===i&&(o=h),i},Min_Expires:function Bs(){var i,f;return f=o,null!==(i=ii())&&(i=void(ve=i)),null===i&&(o=f),i},Name_Addr_Header:function Vi(){var i,f,h,y,b,P,X,Oe,je,ft;for(Oe=o,je=o,i=[],f=pt();null!==f;)i.push(f),f=pt();if(null!==i)if(null!==(f=Ye()))if(null!==(h=pn()))if(null!==(y=We())){for(b=[],ft=o,null!==(P=Be())&&null!==(X=Xt())?P=[P,X]:(P=null,o=ft);null!==P;)b.push(P),ft=o,null!==(P=Be())&&null!==(X=Xt())?P=[P,X]:(P=null,o=ft);null!==b?i=[i,f,h,y,b]:(i=null,o=je)}else i=null,o=je;else i=null,o=je;else i=null,o=je;else i=null,o=je;return null!==i&&(i=function(Ht){try{ve=new gn(ve.uri,ve.display_name,ve.params)}catch{ve=-1}}()),null===i&&(o=Oe),i},Proxy_Authenticate:function gr(){return dt()},challenge:dt,other_challenge:os,auth_param:as,digest_cln:Fn,realm:ls,realm_value:fa,domain:kt,URI:us,nonce:mr,nonce_value:Va,opaque:bi,stale:Rr,algorithm:si,qop_options:Ao,qop_value:cn,Proxy_Require:function oi(){var i,f,h,y,b,P;if(b=o,null!==(i=ge())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},Record_Route:function cs(){var i,f,h,y,b,P,X;if(b=o,P=o,null!==(i=vr())){for(f=[],X=o,null!==(h=Ge())&&null!==(y=vr())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Ge())&&null!==(y=vr())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je,ft;for(ft=ve.multi_header.length,je=0;je<ft;je++)if(null===ve.multi_header[je].parsed){ve=null;break}ve=null!==ve?ve.multi_header:-1}()),null===i&&(o=b),i},rec_route:vr,Reason:function rr(){var i,f,h,y,b,P,X;if(b=o,P=o,"sip"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"SIP"')),null===i&&(i=ge()),null!==i){for(f=[],X=o,null!==(h=Be())&&null!==(y=Io())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Io())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe,je){if(ve.protocol=je.toLowerCase(),ve.params||(ve.params={}),ve.params.text&&'"'===ve.params.text[0]){var ft=ve.params.text;ve.text=ft.substring(1,ft.length-1),delete ve.params.text}}(0,i[0])),null===i&&(o=b),i},reason_param:Io,reason_cause:mt,Require:function da(){var i,f,h,y,b,P;if(b=o,null!==(i=ge())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},Route:function Lt(){var i,f,h,y,b,P;if(b=o,null!==(i=jr())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=jr())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=jr())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},route_param:jr,Subscription_State:function Or(){var i,f,h,y,b,P;if(b=o,null!==(i=zi())){for(f=[],P=o,null!==(h=Be())&&null!==(y=js())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Be())&&null!==(y=js())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},substate_value:zi,subexp_params:js,event_reason_value:Wi,Subject:function Ro(){var i;return null!==(i=B())?i:""},Supported:function Mr(){var i,f,h,y,b,P;if(b=o,null!==(i=ge())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=ge())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return null!==i?i:""},To:function Pr(){var i,f,h,y,b,P,X;if(b=o,P=o,null===(i=Ft())&&(i=yn()),null!==i){for(f=[],X=o,null!==(h=Be())&&null!==(y=_r())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=_r())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je=ve.tag;try{ve=new gn(ve.uri,ve.display_name,ve.params),je&&ve.setParam("tag",je)}catch{ve=-1}}()),null===i&&(o=b),i},to_param:_r,Via:function yr(){var i,f,h,y,b,P;if(b=o,null!==(i=Ut())){for(f=[],P=o,null!==(h=Ge())&&null!==(y=Ut())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Ge())&&null!==(y=Ut())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},via_param:Ut,via_params:fs,via_ttl:Gi,via_maddr:$n,via_received:R,via_branch:j,response_port:re,rport:ue,sent_protocol:be,protocol_name:Ee,transport:Ue,sent_by:Je,via_host:yt,via_port:vt,ttl:Dn,WWW_Authenticate:function fn(){return dt()},Session_Expires:function Hn(){var i,f,h,y,b,P;if(b=o,null!==(i=en())){for(f=[],P=o,null!==(h=Be())&&null!==(y=wn())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Be())&&null!==(y=wn())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},s_e_expires:en,s_e_params:wn,s_e_refresher:Vn,extension_header:function Oo(){var i,f,h,y;return y=o,null!==(i=ge())&&null!==(f=de())&&null!==(h=Nr())?i=[i,f,h]:(i=null,o=y),i},header_value:Nr,message_body:function yu(){var i,f;for(i=[],f=M();null!==f;)i.push(f),f=M();return i},uuid_URI:function $s(){var i,f,h;return h=o,"uuid:"===v.substr(o,5)?(i="uuid:",o+=5):(i=null,0===m&&d('"uuid:"')),null!==i&&null!==(f=wr())?i=[i,f]:(i=null,o=h),i},uuid:wr,hex4:zn,hex8:rt,hex12:Pt,Refer_To:function On(){var i,f,h,y,b,P,X;if(b=o,P=o,null===(i=Ft())&&(i=yn()),null!==i){for(f=[],X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){try{ve=new gn(ve.uri,ve.display_name,ve.params)}catch{ve=-1}}()),null===i&&(o=b),i},Replaces:function ai(){var i,f,h,y,b,P;if(b=o,null!==(i=ds())){for(f=[],P=o,null!==(h=Be())&&null!==(y=kn())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Be())&&null!==(y=kn())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i},call_id:ds,replaces_param:kn,to_tag:Te,from_tag:Pe,early_flag:Ne};if(void 0!==ie){if(void 0===G[ie])throw new Error("Invalid rule name: "+Y(ie)+".")}else ie="CRLF";var o=0,m=0,x=0,C=[];function d(i){o<x||(o>x&&(x=o,C=[]),C.push(i))}function T(){var i;return"\r\n"===v.substr(o,2)?(i="\r\n",o+=2):(i=null,0===m&&d('"\\r\\n"')),i}function F(){var i;return/^[0-9]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[0-9]")),i}function L(){var i;return/^[a-zA-Z]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[a-zA-Z]")),i}function $(){var i;return/^[0-9a-fA-F]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[0-9a-fA-F]")),i}function O(){var i;return null===(i=W())&&(i=q()),i}function M(){var i;return/^[\0-\xFF]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[\\0-\\xFF]")),i}function N(){var i;return/^["]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d('["]')),i}function W(){var i;return 32===v.charCodeAt(o)?(i=" ",o++):(i=null,0===m&&d('" "')),i}function q(){var i;return 9===v.charCodeAt(o)?(i="\t",o++):(i=null,0===m&&d('"\\t"')),i}function se(){var i;return/^[a-zA-Z0-9]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[a-zA-Z0-9]")),i}function me(){var i;return 59===v.charCodeAt(o)?(i=";",o++):(i=null,0===m&&d('";"')),null===i&&(47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"')),null===i&&(63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null===i&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(64===v.charCodeAt(o)?(i="@",o++):(i=null,0===m&&d('"@"')),null===i&&(38===v.charCodeAt(o)?(i="&",o++):(i=null,0===m&&d('"&"')),null===i&&(61===v.charCodeAt(o)?(i="=",o++):(i=null,0===m&&d('"="')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')),null===i&&(44===v.charCodeAt(o)?(i=",",o++):(i=null,0===m&&d('","'))))))))))),i}function ne(){var i;return null===(i=se())&&(i=ae()),i}function ae(){var i;return 45===v.charCodeAt(o)?(i="-",o++):(i=null,0===m&&d('"-"')),null===i&&(95===v.charCodeAt(o)?(i="_",o++):(i=null,0===m&&d('"_"')),null===i&&(46===v.charCodeAt(o)?(i=".",o++):(i=null,0===m&&d('"."')),null===i&&(33===v.charCodeAt(o)?(i="!",o++):(i=null,0===m&&d('"!"')),null===i&&(126===v.charCodeAt(o)?(i="~",o++):(i=null,0===m&&d('"~"')),null===i&&(42===v.charCodeAt(o)?(i="*",o++):(i=null,0===m&&d('"*"')),null===i&&(39===v.charCodeAt(o)?(i="'",o++):(i=null,0===m&&d('"\'"')),null===i&&(40===v.charCodeAt(o)?(i="(",o++):(i=null,0===m&&d('"("')),null===i&&(41===v.charCodeAt(o)?(i=")",o++):(i=null,0===m&&d('")"')))))))))),i}function De(){var i,f,h,y,b;return y=o,b=o,37===v.charCodeAt(o)?(i="%",o++):(i=null,0===m&&d('"%"')),null!==i&&null!==(f=$())&&null!==(h=$())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=i.join("")),null===i&&(o=y),i}function Ce(){var i,f,h,y,b,P;for(y=o,b=o,P=o,i=[],f=O();null!==f;)i.push(f),f=O();if(null!==i&&null!==(f=T())?i=[i,f]:(i=null,o=P),null!==(i=null!==i?i:"")){if(null!==(h=O()))for(f=[];null!==h;)f.push(h),h=O();else f=null;null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return null!==i&&(i=" "),null===i&&(o=y),i}function ee(){var i;return null!==(i=Ce())?i:""}function de(){var i,f,h,y,b;for(y=o,b=o,i=[],null===(f=W())&&(f=q());null!==f;)i.push(f),null===(f=W())&&(f=q());return null!==i?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=":"),null===i&&(o=y),i}function B(){var i,f,h,y,b,P,X;if(b=o,P=o,null!==(f=V()))for(i=[];null!==f;)i.push(f),f=V();else i=null;if(null!==i){for(f=[],X=o,h=[],y=Ce();null!==y;)h.push(y),y=Ce();for(null!==h&&null!==(y=V())?h=[h,y]:(h=null,o=X);null!==h;){for(f.push(h),X=o,h=[],y=Ce();null!==y;)h.push(y),y=Ce();null!==h&&null!==(y=V())?h=[h,y]:(h=null,o=X)}null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=v.substring(o,b)),null===i&&(o=b),i}function V(){var i;return/^[!-~]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[!-~]")),null===i&&(i=ce()),i}function ce(){var i;return/^[\x80-\uFFFF]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[\\x80-\\uFFFF]")),i}function te(){var i;return/^[\x80-\xBF]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[\\x80-\\xBF]")),i}function ge(){var i,f,h;if(h=o,null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"')))))))))))),null!==f)for(i=[];null!==f;)i.push(f),null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"'))))))))))));else i=null;return null!==i&&(i=v.substring(o,h)),null===i&&(o=h),i}function pe(){var i,f,h;if(h=o,null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"'))))))))))),null!==f)for(i=[];null!==f;)i.push(f),null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"')))))))))));else i=null;return null!==i&&(i=v.substring(o,h)),null===i&&(o=h),i}function J(){var i,f,h;if(h=o,null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"')),null===f&&(40===v.charCodeAt(o)?(f="(",o++):(f=null,0===m&&d('"("')),null===f&&(41===v.charCodeAt(o)?(f=")",o++):(f=null,0===m&&d('")"')),null===f&&(60===v.charCodeAt(o)?(f="<",o++):(f=null,0===m&&d('"<"')),null===f&&(62===v.charCodeAt(o)?(f=">",o++):(f=null,0===m&&d('">"')),null===f&&(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null===f&&(92===v.charCodeAt(o)?(f="\\",o++):(f=null,0===m&&d('"\\\\"')),null===f&&null===(f=N())&&(47===v.charCodeAt(o)?(f="/",o++):(f=null,0===m&&d('"/"')),null===f&&(91===v.charCodeAt(o)?(f="[",o++):(f=null,0===m&&d('"["')),null===f&&(93===v.charCodeAt(o)?(f="]",o++):(f=null,0===m&&d('"]"')),null===f&&(63===v.charCodeAt(o)?(f="?",o++):(f=null,0===m&&d('"?"')),null===f&&(123===v.charCodeAt(o)?(f="{",o++):(f=null,0===m&&d('"{"')),null===f&&(125===v.charCodeAt(o)?(f="}",o++):(f=null,0===m&&d('"}"')))))))))))))))))))))))),null!==f)for(i=[];null!==f;)i.push(f),null===(f=se())&&(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null===f&&(46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null===f&&(33===v.charCodeAt(o)?(f="!",o++):(f=null,0===m&&d('"!"')),null===f&&(37===v.charCodeAt(o)?(f="%",o++):(f=null,0===m&&d('"%"')),null===f&&(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null===f&&(95===v.charCodeAt(o)?(f="_",o++):(f=null,0===m&&d('"_"')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(96===v.charCodeAt(o)?(f="`",o++):(f=null,0===m&&d('"`"')),null===f&&(39===v.charCodeAt(o)?(f="'",o++):(f=null,0===m&&d('"\'"')),null===f&&(126===v.charCodeAt(o)?(f="~",o++):(f=null,0===m&&d('"~"')),null===f&&(40===v.charCodeAt(o)?(f="(",o++):(f=null,0===m&&d('"("')),null===f&&(41===v.charCodeAt(o)?(f=")",o++):(f=null,0===m&&d('")"')),null===f&&(60===v.charCodeAt(o)?(f="<",o++):(f=null,0===m&&d('"<"')),null===f&&(62===v.charCodeAt(o)?(f=">",o++):(f=null,0===m&&d('">"')),null===f&&(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null===f&&(92===v.charCodeAt(o)?(f="\\",o++):(f=null,0===m&&d('"\\\\"')),null===f&&null===(f=N())&&(47===v.charCodeAt(o)?(f="/",o++):(f=null,0===m&&d('"/"')),null===f&&(91===v.charCodeAt(o)?(f="[",o++):(f=null,0===m&&d('"["')),null===f&&(93===v.charCodeAt(o)?(f="]",o++):(f=null,0===m&&d('"]"')),null===f&&(63===v.charCodeAt(o)?(f="?",o++):(f=null,0===m&&d('"?"')),null===f&&(123===v.charCodeAt(o)?(f="{",o++):(f=null,0===m&&d('"{"')),null===f&&(125===v.charCodeAt(o)?(f="}",o++):(f=null,0===m&&d('"}"'))))))))))))))))))))))));else i=null;return null!==i&&(i=v.substring(o,h)),null===i&&(o=h),i}function we(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(42===v.charCodeAt(o)?(f="*",o++):(f=null,0===m&&d('"*"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i="*"),null===i&&(o=y),i}function _e(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(47===v.charCodeAt(o)?(f="/",o++):(f=null,0===m&&d('"/"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i="/"),null===i&&(o=y),i}function Se(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i="="),null===i&&(o=y),i}function Me(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(40===v.charCodeAt(o)?(f="(",o++):(f=null,0===m&&d('"("')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i="("),null===i&&(o=y),i}function xe(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(41===v.charCodeAt(o)?(f=")",o++):(f=null,0===m&&d('")"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=")"),null===i&&(o=y),i}function We(){var i,f,h,y;return h=o,y=o,62===v.charCodeAt(o)?(i=">",o++):(i=null,0===m&&d('">"')),null!==i&&null!==(f=ee())?i=[i,f]:(i=null,o=y),null!==i&&(i=">"),null===i&&(o=h),i}function Ye(){var i,f,h,y;return h=o,y=o,null!==(i=ee())?(60===v.charCodeAt(o)?(f="<",o++):(f=null,0===m&&d('"<"')),null!==f?i=[i,f]:(i=null,o=y)):(i=null,o=y),null!==i&&(i="<"),null===i&&(o=h),i}function Ge(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(44===v.charCodeAt(o)?(f=",",o++):(f=null,0===m&&d('","')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=","),null===i&&(o=y),i}function Be(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(59===v.charCodeAt(o)?(f=";",o++):(f=null,0===m&&d('";"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=";"),null===i&&(o=y),i}function Mt(){var i,f,h,y,b;return y=o,b=o,null!==(i=ee())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ee())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=":"),null===i&&(o=y),i}function Rt(){var i,f,h,y;return h=o,y=o,null!==(i=ee())&&null!==(f=N())?i=[i,f]:(i=null,o=y),null!==i&&(i='"'),null===i&&(o=h),i}function hn(){var i,f,h,y;return h=o,y=o,null!==(i=N())&&null!==(f=ee())?i=[i,f]:(i=null,o=y),null!==i&&(i='"'),null===i&&(o=h),i}function at(){var i;return/^[!-']/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[!-']")),null===i&&(/^[*-[]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[*-[]")),null===i&&(/^[\]-~]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[\\]-~]")),null===i&&null===(i=ce())&&(i=Ce()))),i}function Ct(){var i,f,h,y,b,P;if(b=o,P=o,null!==(i=ee()))if(null!==(f=N())){for(h=[],null===(y=Kt())&&(y=$t());null!==y;)h.push(y),null===(y=Kt())&&(y=$t());null!==h&&null!==(y=N())?i=[i,f,h,y]:(i=null,o=P)}else i=null,o=P;else i=null,o=P;return null!==i&&(i=v.substring(o,b)),null===i&&(o=b),i}function jt(){var i,f,h,y,b,P,Oe;if(b=o,P=o,null!==(i=ee()))if(null!==(f=N())){for(h=[],null===(y=Kt())&&(y=$t());null!==y;)h.push(y),null===(y=Kt())&&(y=$t());null!==h&&null!==(y=N())?i=[i,f,h,y]:(i=null,o=P)}else i=null,o=P;else i=null,o=P;return null!==i&&(i=(Oe=v.substring(o,b).trim()).substring(1,Oe.length-1).replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g,"$1")),null===i&&(o=b),i}function Kt(){var i;return null===(i=Ce())&&(33===v.charCodeAt(o)?(i="!",o++):(i=null,0===m&&d('"!"')),null===i&&(/^[#-[]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[#-[]")),null===i&&(/^[\]-~]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[\\]-~]")),null===i&&(i=ce())))),i}function $t(){var i,f,h;return h=o,92===v.charCodeAt(o)?(i="\\",o++):(i=null,0===m&&d('"\\\\"')),null!==i?(/^[\0-\t]/.test(v.charAt(o))?(f=v.charAt(o),o++):(f=null,0===m&&d("[\\0-\\t]")),null===f&&(/^[\x0B-\f]/.test(v.charAt(o))?(f=v.charAt(o),o++):(f=null,0===m&&d("[\\x0B-\\f]")),null===f&&(/^[\x0E-\x7f]/.test(v.charAt(o))?(f=v.charAt(o),o++):(f=null,0===m&&d("[\\x0E-\x7f]")))),null!==f?i=[i,f]:(i=null,o=h)):(i=null,o=h),i}function Ft(){var i,f,h,y,b,P;return b=o,P=o,null!==(i=In())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=null!==(h=rn())?h:"")&&null!==(y=xi())?i=[i,f,h,y]:(i=null,o=P)):(i=null,o=P),null!==i&&(i=function(X){try{ve.uri=new nn(ve.scheme,ve.user,ve.host,ve.port),delete ve.scheme,delete ve.user,delete ve.host,delete ve.host_type,delete ve.port}catch{ve=-1}}()),null===i&&(o=b),i}function pn(){var i,f,h,y,b,P,X,Oe;return X=o,Oe=o,null!==(i=In())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=null!==(h=rn())?h:"")&&null!==(y=xi())&&null!==(b=Sl())&&null!==(P=null!==(P=Ua())?P:"")?i=[i,f,h,y,b,P]:(i=null,o=Oe)):(i=null,o=Oe),null!==i&&(i=function(je){try{ve.uri=new nn(ve.scheme,ve.user,ve.host,ve.port,ve.uri_params,ve.uri_headers),delete ve.scheme,delete ve.user,delete ve.host,delete ve.host_type,delete ve.port,delete ve.uri_params,"SIP_URI"===ie&&(ve=ve.uri)}catch{ve=-1}}()),null===i&&(o=X),i}function In(){var i;return null===(i=Ur())&&(i=Cn()),i}function Ur(){var i,f;return f=o,"sips"===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"sips"')),null!==i&&(i=void(ve.scheme=i.toLowerCase())),null===i&&(o=f),i}function Cn(){var i,f;return f=o,"sip"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"sip"')),null!==i&&(i=void(ve.scheme=i.toLowerCase())),null===i&&(o=f),i}function rn(){var i,f,h,y,b,P;return y=o,b=o,null!==(i=dr())?(P=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=Ji())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?(64===v.charCodeAt(o)?(h="@",o++):(h=null,0===m&&d('"@"')),null!==h?i=[i,f,h]:(i=null,o=b)):(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve.user=decodeURIComponent(v.substring(o-1,y)))),null===i&&(o=y),i}function dr(){var i,f;if(null===(f=ne())&&null===(f=De())&&(f=It()),null!==f)for(i=[];null!==f;)i.push(f),null===(f=ne())&&null===(f=De())&&(f=It());else i=null;return i}function It(){var i;return 38===v.charCodeAt(o)?(i="&",o++):(i=null,0===m&&d('"&"')),null===i&&(61===v.charCodeAt(o)?(i="=",o++):(i=null,0===m&&d('"="')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')),null===i&&(44===v.charCodeAt(o)?(i=",",o++):(i=null,0===m&&d('","')),null===i&&(59===v.charCodeAt(o)?(i=";",o++):(i=null,0===m&&d('";"')),null===i&&(63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null===i&&(47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"'))))))))),i}function Ji(){var i,f,h;for(h=o,i=[],null===(f=ne())&&null===(f=De())&&(38===v.charCodeAt(o)?(f="&",o++):(f=null,0===m&&d('"&"')),null===f&&(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(36===v.charCodeAt(o)?(f="$",o++):(f=null,0===m&&d('"$"')),null===f&&(44===v.charCodeAt(o)?(f=",",o++):(f=null,0===m&&d('","')))))));null!==f;)i.push(f),null===(f=ne())&&null===(f=De())&&(38===v.charCodeAt(o)?(f="&",o++):(f=null,0===m&&d('"&"')),null===f&&(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')),null===f&&(36===v.charCodeAt(o)?(f="$",o++):(f=null,0===m&&d('"$"')),null===f&&(44===v.charCodeAt(o)?(f=",",o++):(f=null,0===m&&d('","')))))));return null!==i&&(i=void(ve.password=v.substring(o,h))),null===i&&(o=h),i}function xi(){var i,f,h,y,b;return y=o,null!==(i=qr())?(b=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=co())?f=[f,h]:(f=null,o=b),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=y)):(i=null,o=y),i}function qr(){var i,f;return f=o,null===(i=Xi())&&null===(i=ts())&&(i=ki()),null!==i&&(ve.host=v.substring(o,f).toLowerCase(),i=ve.host),null===i&&(o=f),i}function Xi(){var i,f,h,y,b,P,X;for(y=o,b=o,i=[],P=o,null!==(f=es())?(46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')),null!==h?f=[f,h]:(f=null,o=P)):(f=null,o=P);null!==f;)i.push(f),P=o,null!==(f=es())?(46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')),null!==h?f=[f,h]:(f=null,o=P)):(f=null,o=P);return null!==i&&null!==(f=ei())?(46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')),null!==(h=null!==h?h:"")?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(X=y,ve.host_type="domain",i=v.substring(o,X)),null===i&&(o=y),i}function es(){var i,f,h,y;if(y=o,null!==(i=se())){for(f=[],null===(h=se())&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(95===v.charCodeAt(o)?(h="_",o++):(h=null,0===m&&d('"_"'))));null!==h;)f.push(h),null===(h=se())&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(95===v.charCodeAt(o)?(h="_",o++):(h=null,0===m&&d('"_"'))));null!==f?i=[i,f]:(i=null,o=y)}else i=null,o=y;return i}function ei(){var i,f,h,y;if(y=o,null!==(i=L())){for(f=[],null===(h=se())&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(95===v.charCodeAt(o)?(h="_",o++):(h=null,0===m&&d('"_"'))));null!==h;)f.push(h),null===(h=se())&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(95===v.charCodeAt(o)?(h="_",o++):(h=null,0===m&&d('"_"'))));null!==f?i=[i,f]:(i=null,o=y)}else i=null,o=y;return i}function ki(){var i,f,h,y,b,P;return y=o,b=o,91===v.charCodeAt(o)?(i="[",o++):(i=null,0===m&&d('"["')),null!==i&&null!==(f=Fi())?(93===v.charCodeAt(o)?(h="]",o++):(h=null,0===m&&d('"]"')),null!==h?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(P=y,ve.host_type="IPv6",i=v.substring(o,P)),null===i&&(o=y),i}function Fi(){var i,f,h,y,b,P,X,Oe,je,ft,Ht,Kr,An,sr,ke,nt,ha;return sr=o,ke=o,null!==(i=ot())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?(58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?(58===v.charCodeAt(o)?(P=":",o++):(P=null,0===m&&d('":"')),null!==P&&null!==(X=ot())?(58===v.charCodeAt(o)?(Oe=":",o++):(Oe=null,0===m&&d('":"')),null!==Oe&&null!==(je=ot())?(58===v.charCodeAt(o)?(ft=":",o++):(ft=null,0===m&&d('":"')),null!==ft&&null!==(Ht=ot())?(58===v.charCodeAt(o)?(Kr=":",o++):(Kr=null,0===m&&d('":"')),null!==Kr&&null!==(An=Qn())?i=[i,f,h,y,b,P,X,Oe,je,ft,Ht,Kr,An]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?(58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?(58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?(58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=ot())?(58===v.charCodeAt(o)?(je=":",o++):(je=null,0===m&&d('":"')),null!==je&&null!==(ft=ot())?(58===v.charCodeAt(o)?(Ht=":",o++):(Ht=null,0===m&&d('":"')),null!==Ht&&null!==(Kr=Qn())?i=[i,f,h,y,b,P,X,Oe,je,ft,Ht,Kr]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?(58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?(58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?(58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=ot())?(58===v.charCodeAt(o)?(je=":",o++):(je=null,0===m&&d('":"')),null!==je&&null!==(ft=Qn())?i=[i,f,h,y,b,P,X,Oe,je,ft]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?(58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?(58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?(58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=Qn())?i=[i,f,h,y,b,P,X,Oe]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?(58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?(58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=Qn())?i=[i,f,h,y,b,P]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?(58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=Qn())?i=[i,f,h,y]:(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=Qn())?i=[i,f]:(i=null,o=ke),null===i&&(ke=o,"::"===v.substr(o,2)?(i="::",o+=2):(i=null,0===m&&d('"::"')),null!==i&&null!==(f=ot())?i=[i,f]:(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?("::"===v.substr(o,2)?(f="::",o+=2):(f=null,0===m&&d('"::"')),null!==f&&null!==(h=ot())?(58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?(58===v.charCodeAt(o)?(P=":",o++):(P=null,0===m&&d('":"')),null!==P&&null!==(X=ot())?(58===v.charCodeAt(o)?(Oe=":",o++):(Oe=null,0===m&&d('":"')),null!==Oe&&null!==(je=ot())?(58===v.charCodeAt(o)?(ft=":",o++):(ft=null,0===m&&d('":"')),null!==ft&&null!==(Ht=Qn())?i=[i,f,h,y,b,P,X,Oe,je,ft,Ht]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?("::"===v.substr(o,2)?(h="::",o+=2):(h=null,0===m&&d('"::"')),null!==h&&null!==(y=ot())?(58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?(58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=ot())?(58===v.charCodeAt(o)?(je=":",o++):(je=null,0===m&&d('":"')),null!==je&&null!==(ft=Qn())?i=[i,f,h,y,b,P,X,Oe,je,ft]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?(nt=o,58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?h=[h,y]:(h=null,o=nt),null!==(h=null!==h?h:"")?("::"===v.substr(o,2)?(y="::",o+=2):(y=null,0===m&&d('"::"')),null!==y&&null!==(b=ot())?(58===v.charCodeAt(o)?(P=":",o++):(P=null,0===m&&d('":"')),null!==P&&null!==(X=ot())?(58===v.charCodeAt(o)?(Oe=":",o++):(Oe=null,0===m&&d('":"')),null!==Oe&&null!==(je=Qn())?i=[i,f,h,y,b,P,X,Oe,je]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?(nt=o,58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?h=[h,y]:(h=null,o=nt),null!==(h=null!==h?h:"")?(nt=o,58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?y=[y,b]:(y=null,o=nt),null!==(y=null!==y?y:"")?("::"===v.substr(o,2)?(b="::",o+=2):(b=null,0===m&&d('"::"')),null!==b&&null!==(P=ot())?(58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=Qn())?i=[i,f,h,y,b,P,X,Oe]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?(nt=o,58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?h=[h,y]:(h=null,o=nt),null!==(h=null!==h?h:"")?(nt=o,58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?y=[y,b]:(y=null,o=nt),null!==(y=null!==y?y:"")?(nt=o,58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?b=[b,P]:(b=null,o=nt),null!==(b=null!==b?b:"")?("::"===v.substr(o,2)?(P="::",o+=2):(P=null,0===m&&d('"::"')),null!==P&&null!==(X=Qn())?i=[i,f,h,y,b,P,X]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?(nt=o,58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?h=[h,y]:(h=null,o=nt),null!==(h=null!==h?h:"")?(nt=o,58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?y=[y,b]:(y=null,o=nt),null!==(y=null!==y?y:"")?(nt=o,58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?b=[b,P]:(b=null,o=nt),null!==(b=null!==b?b:"")?(nt=o,58===v.charCodeAt(o)?(P=":",o++):(P=null,0===m&&d('":"')),null!==P&&null!==(X=ot())?P=[P,X]:(P=null,o=nt),null!==(P=null!==P?P:"")?("::"===v.substr(o,2)?(X="::",o+=2):(X=null,0===m&&d('"::"')),null!==X&&null!==(Oe=ot())?i=[i,f,h,y,b,P,X,Oe]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke),null===i&&(ke=o,null!==(i=ot())?(nt=o,58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?f=[f,h]:(f=null,o=nt),null!==(f=null!==f?f:"")?(nt=o,58===v.charCodeAt(o)?(h=":",o++):(h=null,0===m&&d('":"')),null!==h&&null!==(y=ot())?h=[h,y]:(h=null,o=nt),null!==(h=null!==h?h:"")?(nt=o,58===v.charCodeAt(o)?(y=":",o++):(y=null,0===m&&d('":"')),null!==y&&null!==(b=ot())?y=[y,b]:(y=null,o=nt),null!==(y=null!==y?y:"")?(nt=o,58===v.charCodeAt(o)?(b=":",o++):(b=null,0===m&&d('":"')),null!==b&&null!==(P=ot())?b=[b,P]:(b=null,o=nt),null!==(b=null!==b?b:"")?(nt=o,58===v.charCodeAt(o)?(P=":",o++):(P=null,0===m&&d('":"')),null!==P&&null!==(X=ot())?P=[P,X]:(P=null,o=nt),null!==(P=null!==P?P:"")?(nt=o,58===v.charCodeAt(o)?(X=":",o++):(X=null,0===m&&d('":"')),null!==X&&null!==(Oe=ot())?X=[X,Oe]:(X=null,o=nt),null!==(X=null!==X?X:"")?("::"===v.substr(o,2)?(Oe="::",o+=2):(Oe=null,0===m&&d('"::"')),null!==Oe?i=[i,f,h,y,b,P,X,Oe]:(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke)):(i=null,o=ke))))))))))))))),null!==i&&(ha=sr,ve.host_type="IPv6",i=v.substring(o,ha)),null===i&&(o=sr),i}function ot(){var i,f,h,y,b;return b=o,null!==(i=$())&&null!==(f=null!==(f=$())?f:"")&&null!==(h=null!==(h=$())?h:"")&&null!==(y=null!==(y=$())?y:"")?i=[i,f,h,y]:(i=null,o=b),i}function Qn(){var i,f,h,y;return y=o,null!==(i=ot())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f&&null!==(h=ot())?i=[i,f,h]:(i=null,o=y)):(i=null,o=y),null===i&&(i=ts()),i}function ts(){var i,f,h,y,b,P,X,Oe,je,ft;return Oe=o,je=o,null!==(i=ns())?(46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null!==f&&null!==(h=ns())?(46===v.charCodeAt(o)?(y=".",o++):(y=null,0===m&&d('"."')),null!==y&&null!==(b=ns())?(46===v.charCodeAt(o)?(P=".",o++):(P=null,0===m&&d('"."')),null!==P&&null!==(X=ns())?i=[i,f,h,y,b,P,X]:(i=null,o=je)):(i=null,o=je)):(i=null,o=je)):(i=null,o=je),null!==i&&(ft=Oe,ve.host_type="IPv4",i=v.substring(o,ft)),null===i&&(o=Oe),i}function ns(){var i,f,h,y;return y=o,"25"===v.substr(o,2)?(i="25",o+=2):(i=null,0===m&&d('"25"')),null!==i?(/^[0-5]/.test(v.charAt(o))?(f=v.charAt(o),o++):(f=null,0===m&&d("[0-5]")),null!==f?i=[i,f]:(i=null,o=y)):(i=null,o=y),null===i&&(y=o,50===v.charCodeAt(o)?(i="2",o++):(i=null,0===m&&d('"2"')),null!==i?(/^[0-4]/.test(v.charAt(o))?(f=v.charAt(o),o++):(f=null,0===m&&d("[0-4]")),null!==f&&null!==(h=F())?i=[i,f,h]:(i=null,o=y)):(i=null,o=y),null===i&&(y=o,49===v.charCodeAt(o)?(i="1",o++):(i=null,0===m&&d('"1"')),null!==i&&null!==(f=F())&&null!==(h=F())?i=[i,f,h]:(i=null,o=y),null===i&&(y=o,/^[1-9]/.test(v.charAt(o))?(i=v.charAt(o),o++):(i=null,0===m&&d("[1-9]")),null!==i&&null!==(f=F())?i=[i,f]:(i=null,o=y),null===i&&(i=F())))),i}function co(){var i,f,h,y,b,P,X,je;return P=o,X=o,null!==(i=null!==(i=F())?i:"")&&null!==(f=null!==(f=F())?f:"")&&null!==(h=null!==(h=F())?h:"")&&null!==(y=null!==(y=F())?y:"")&&null!==(b=null!==(b=F())?b:"")?i=[i,f,h,y,b]:(i=null,o=X),null!==i&&(je=i,je=parseInt(je.join("")),ve.port=je,i=je),null===i&&(o=P),i}function Sl(){var i,f,h,y;for(i=[],y=o,59===v.charCodeAt(o)?(f=";",o++):(f=null,0===m&&d('";"')),null!==f&&null!==(h=As())?f=[f,h]:(f=null,o=y);null!==f;)i.push(f),y=o,59===v.charCodeAt(o)?(f=";",o++):(f=null,0===m&&d('";"')),null!==f&&null!==(h=As())?f=[f,h]:(f=null,o=y);return i}function As(){var i;return null===(i=fo())&&null===(i=ho())&&null===(i=Is())&&null===(i=ti())&&null===(i=Xo())&&null===(i=Rs())&&(i=ni()),i}function fo(){var i,f,h,y,P;return h=o,y=o,"transport="===v.substr(o,10).toLowerCase()?(i=v.substr(o,10),o+=10):(i=null,0===m&&d('"transport="')),null!==i?("udp"===v.substr(o,3).toLowerCase()?(f=v.substr(o,3),o+=3):(f=null,0===m&&d('"udp"')),null===f&&("tcp"===v.substr(o,3).toLowerCase()?(f=v.substr(o,3),o+=3):(f=null,0===m&&d('"tcp"')),null===f&&("sctp"===v.substr(o,4).toLowerCase()?(f=v.substr(o,4),o+=4):(f=null,0===m&&d('"sctp"')),null===f&&("tls"===v.substr(o,3).toLowerCase()?(f=v.substr(o,3),o+=3):(f=null,0===m&&d('"tls"')),null===f&&(f=ge())))),null!==f?i=[i,f]:(i=null,o=y)):(i=null,o=y),null!==i&&(P=i[1],ve.uri_params||(ve.uri_params={}),i=void(ve.uri_params.transport=P.toLowerCase())),null===i&&(o=h),i}function ho(){var i,f,h,y,P;return h=o,y=o,"user="===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"user="')),null!==i?("phone"===v.substr(o,5).toLowerCase()?(f=v.substr(o,5),o+=5):(f=null,0===m&&d('"phone"')),null===f&&("ip"===v.substr(o,2).toLowerCase()?(f=v.substr(o,2),o+=2):(f=null,0===m&&d('"ip"')),null===f&&(f=ge())),null!==f?i=[i,f]:(i=null,o=y)):(i=null,o=y),null!==i&&(P=i[1],ve.uri_params||(ve.uri_params={}),i=void(ve.uri_params.user=P.toLowerCase())),null===i&&(o=h),i}function Is(){var i,f,h,y,P;return h=o,y=o,"method="===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"method="')),null!==i&&null!==(f=Bi())?i=[i,f]:(i=null,o=y),null!==i&&(P=i[1],ve.uri_params||(ve.uri_params={}),i=void(ve.uri_params.method=P)),null===i&&(o=h),i}function ti(){var i,f,h,y,P;return h=o,y=o,"ttl="===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"ttl="')),null!==i&&null!==(f=Dn())?i=[i,f]:(i=null,o=y),null!==i&&(P=i[1],ve.params||(ve.params={}),i=void(ve.params.ttl=P)),null===i&&(o=h),i}function Xo(){var i,f,h,y,P;return h=o,y=o,"maddr="===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"maddr="')),null!==i&&null!==(f=qr())?i=[i,f]:(i=null,o=y),null!==i&&(P=i[1],ve.uri_params||(ve.uri_params={}),i=void(ve.uri_params.maddr=P)),null===i&&(o=h),i}function Rs(){var i,f,h,y,b,P;return y=o,b=o,"lr"===v.substr(o,2).toLowerCase()?(i=v.substr(o,2),o+=2):(i=null,0===m&&d('"lr"')),null!==i?(P=o,61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null!==f&&null!==(h=ge())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=b)):(i=null,o=b),null!==i&&(ve.uri_params||(ve.uri_params={}),i=void(ve.uri_params.lr=void 0)),null===i&&(o=y),i}function ni(){var i,f,h,y,b,P,Oe,je;return y=o,b=o,null!==(i=Os())?(P=o,61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null!==f&&null!==(h=Li())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=b)):(i=null,o=b),null!==i&&(Oe=i[0],je=i[1],ve.uri_params||(ve.uri_params={}),je=typeof je>"u"?void 0:je[1],i=void(ve.uri_params[Oe.toLowerCase()]=je)),null===i&&(o=y),i}function Os(){var i,f,h;if(h=o,null!==(f=Rn()))for(i=[];null!==f;)i.push(f),f=Rn();else i=null;return null!==i&&(i=i.join("")),null===i&&(o=h),i}function Li(){var i,f,h;if(h=o,null!==(f=Rn()))for(i=[];null!==f;)i.push(f),f=Rn();else i=null;return null!==i&&(i=i.join("")),null===i&&(o=h),i}function Rn(){var i;return null===(i=po())&&null===(i=ne())&&(i=De()),i}function po(){var i;return 91===v.charCodeAt(o)?(i="[",o++):(i=null,0===m&&d('"["')),null===i&&(93===v.charCodeAt(o)?(i="]",o++):(i=null,0===m&&d('"]"')),null===i&&(47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"')),null===i&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(38===v.charCodeAt(o)?(i="&",o++):(i=null,0===m&&d('"&"')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')))))))),i}function Ua(){var i,f,h,y,b,P,X;if(P=o,63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null!==i)if(null!==(f=Ms())){for(h=[],X=o,38===v.charCodeAt(o)?(y="&",o++):(y=null,0===m&&d('"&"')),null!==y&&null!==(b=Ms())?y=[y,b]:(y=null,o=X);null!==y;)h.push(y),X=o,38===v.charCodeAt(o)?(y="&",o++):(y=null,0===m&&d('"&"')),null!==y&&null!==(b=Ms())?y=[y,b]:(y=null,o=X);null!==h?i=[i,f,h]:(i=null,o=P)}else i=null,o=P;else i=null,o=P;return i}function Ms(){var i,f,h,y,b,X,Oe;return y=o,b=o,null!==(i=ea())?(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null!==f&&null!==(h=go())?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(Oe=i[2],X=(X=i[0]).join("").toLowerCase(),Oe=Oe.join(""),ve.uri_headers||(ve.uri_headers={}),i=void(ve.uri_headers[X]?ve.uri_headers[X].push(Oe):ve.uri_headers[X]=[Oe])),null===i&&(o=y),i}function ea(){var i,f;if(null===(f=rs())&&null===(f=ne())&&(f=De()),null!==f)for(i=[];null!==f;)i.push(f),null===(f=rs())&&null===(f=ne())&&(f=De());else i=null;return i}function go(){var i,f;for(i=[],null===(f=rs())&&null===(f=ne())&&(f=De());null!==f;)i.push(f),null===(f=rs())&&null===(f=ne())&&(f=De());return i}function rs(){var i;return 91===v.charCodeAt(o)?(i="[",o++):(i=null,0===m&&d('"["')),null===i&&(93===v.charCodeAt(o)?(i="]",o++):(i=null,0===m&&d('"]"')),null===i&&(47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"')),null===i&&(63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null===i&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')))))))),i}function Zn(){var i,f,h,y,b,P;return P=o,null!==(i=Bi())&&null!==(f=W())&&null!==(h=mo())&&null!==(y=W())&&null!==(b=ks())?i=[i,f,h,y,b]:(i=null,o=P),i}function mo(){var i;return null===(i=pn())&&(i=Tn()),i}function Tn(){var i,f,h,y;return y=o,null!==(i=xs())?(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null!==f?(null===(h=wi())&&(h=Ps()),null!==h?i=[i,f,h]:(i=null,o=y)):(i=null,o=y)):(i=null,o=y),i}function wi(){var i,f,h,y,b;return y=o,null===(i=nr())&&(i=ri()),null!==i?(b=o,63===v.charCodeAt(o)?(f="?",o++):(f=null,0===m&&d('"?"')),null!==f&&null!==(h=na())?f=[f,h]:(f=null,o=b),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=y)):(i=null,o=y),i}function nr(){var i,f,h,y;return y=o,"//"===v.substr(o,2)?(i="//",o+=2):(i=null,0===m&&d('"//"')),null!==i&&null!==(f=_o())&&null!==(h=null!==(h=ri())?h:"")?i=[i,f,h]:(i=null,o=y),i}function ri(){var i,f,h;return h=o,47===v.charCodeAt(o)?(i="/",o++):(i=null,0===m&&d('"/"')),null!==i&&null!==(f=Ci())?i=[i,f]:(i=null,o=h),i}function Ps(){var i,f,h,y;if(y=o,null!==(i=Ns())){for(f=[],h=Ir();null!==h;)f.push(h),h=Ir();null!==f?i=[i,f]:(i=null,o=y)}else i=null,o=y;return i}function Ir(){var i;return null===(i=me())&&null===(i=ne())&&(i=De()),i}function Ns(){var i;return null===(i=ne())&&null===(i=De())&&(59===v.charCodeAt(o)?(i=";",o++):(i=null,0===m&&d('";"')),null===i&&(63===v.charCodeAt(o)?(i="?",o++):(i=null,0===m&&d('"?"')),null===i&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(64===v.charCodeAt(o)?(i="@",o++):(i=null,0===m&&d('"@"')),null===i&&(38===v.charCodeAt(o)?(i="&",o++):(i=null,0===m&&d('"&"')),null===i&&(61===v.charCodeAt(o)?(i="=",o++):(i=null,0===m&&d('"="')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')),null===i&&(44===v.charCodeAt(o)?(i=",",o++):(i=null,0===m&&d('","'))))))))))),i}function Ci(){var i,f,h,y,b,P;if(b=o,null!==(i=bn())){for(f=[],P=o,47===v.charCodeAt(o)?(h="/",o++):(h=null,0===m&&d('"/"')),null!==h&&null!==(y=bn())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,47===v.charCodeAt(o)?(h="/",o++):(h=null,0===m&&d('"/"')),null!==h&&null!==(y=bn())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i}function bn(){var i,f,h,y,b,P;for(b=o,i=[],f=Ei();null!==f;)i.push(f),f=Ei();if(null!==i){for(f=[],P=o,59===v.charCodeAt(o)?(h=";",o++):(h=null,0===m&&d('";"')),null!==h&&null!==(y=vo())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,59===v.charCodeAt(o)?(h=";",o++):(h=null,0===m&&d('";"')),null!==h&&null!==(y=vo())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i}function vo(){var i,f;for(i=[],f=Ei();null!==f;)i.push(f),f=Ei();return i}function Ei(){var i;return null===(i=ne())&&null===(i=De())&&(58===v.charCodeAt(o)?(i=":",o++):(i=null,0===m&&d('":"')),null===i&&(64===v.charCodeAt(o)?(i="@",o++):(i=null,0===m&&d('"@"')),null===i&&(38===v.charCodeAt(o)?(i="&",o++):(i=null,0===m&&d('"&"')),null===i&&(61===v.charCodeAt(o)?(i="=",o++):(i=null,0===m&&d('"="')),null===i&&(43===v.charCodeAt(o)?(i="+",o++):(i=null,0===m&&d('"+"')),null===i&&(36===v.charCodeAt(o)?(i="$",o++):(i=null,0===m&&d('"$"')),null===i&&(44===v.charCodeAt(o)?(i=",",o++):(i=null,0===m&&d('","'))))))))),i}function xs(){var i,f,h,y,b;if(y=o,b=o,null!==(i=L())){for(f=[],null===(h=L())&&null===(h=F())&&(43===v.charCodeAt(o)?(h="+",o++):(h=null,0===m&&d('"+"')),null===h&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')))));null!==h;)f.push(h),null===(h=L())&&null===(h=F())&&(43===v.charCodeAt(o)?(h="+",o++):(h=null,0===m&&d('"+"')),null===h&&(45===v.charCodeAt(o)?(h="-",o++):(h=null,0===m&&d('"-"')),null===h&&(46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')))));null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return null!==i&&(i=void(ve.scheme=v.substring(o,y))),null===i&&(o=y),i}function _o(){var i;return null===(i=is())&&(i=Ui()),i}function is(){var i,f,h,y;return h=o,y=o,null!==(i=rn())?(64===v.charCodeAt(o)?(f="@",o++):(f=null,0===m&&d('"@"')),null!==f?i=[i,f]:(i=null,o=y)):(i=null,o=y),null!==(i=null!==i?i:"")&&null!==(f=xi())?i=[i,f]:(i=null,o=h),null!==i?i:""}function Ui(){var i,f;if(null===(f=ne())&&null===(f=De())&&(36===v.charCodeAt(o)?(f="$",o++):(f=null,0===m&&d('"$"')),null===f&&(44===v.charCodeAt(o)?(f=",",o++):(f=null,0===m&&d('","')),null===f&&(59===v.charCodeAt(o)?(f=";",o++):(f=null,0===m&&d('";"')),null===f&&(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null===f&&(64===v.charCodeAt(o)?(f="@",o++):(f=null,0===m&&d('"@"')),null===f&&(38===v.charCodeAt(o)?(f="&",o++):(f=null,0===m&&d('"&"')),null===f&&(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"')))))))))),null!==f)for(i=[];null!==f;)i.push(f),null===(f=ne())&&null===(f=De())&&(36===v.charCodeAt(o)?(f="$",o++):(f=null,0===m&&d('"$"')),null===f&&(44===v.charCodeAt(o)?(f=",",o++):(f=null,0===m&&d('","')),null===f&&(59===v.charCodeAt(o)?(f=";",o++):(f=null,0===m&&d('";"')),null===f&&(58===v.charCodeAt(o)?(f=":",o++):(f=null,0===m&&d('":"')),null===f&&(64===v.charCodeAt(o)?(f="@",o++):(f=null,0===m&&d('"@"')),null===f&&(38===v.charCodeAt(o)?(f="&",o++):(f=null,0===m&&d('"&"')),null===f&&(61===v.charCodeAt(o)?(f="=",o++):(f=null,0===m&&d('"="')),null===f&&(43===v.charCodeAt(o)?(f="+",o++):(f=null,0===m&&d('"+"'))))))))));else i=null;return i}function na(){var i,f;for(i=[],f=Ir();null!==f;)i.push(f),f=Ir();return i}function ks(){var i,f,h,y,b,P,X,Oe;if(X=o,Oe=o,"sip"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"SIP"')),null!==i)if(47===v.charCodeAt(o)?(f="/",o++):(f=null,0===m&&d('"/"')),null!==f){if(null!==(y=F()))for(h=[];null!==y;)h.push(y),y=F();else h=null;if(null!==h)if(46===v.charCodeAt(o)?(y=".",o++):(y=null,0===m&&d('"."')),null!==y){if(null!==(P=F()))for(b=[];null!==P;)b.push(P),P=F();else b=null;null!==b?i=[i,f,h,y,b]:(i=null,o=Oe)}else i=null,o=Oe;else i=null,o=Oe}else i=null,o=Oe;else i=null,o=Oe;return null!==i&&(i=void(ve.sip_version=v.substring(o,X))),null===i&&(o=X),i}function ra(){var i;return"INVITE"===v.substr(o,6)?(i="INVITE",o+=6):(i=null,0===m&&d('"INVITE"')),i}function ia(){var i;return"ACK"===v.substr(o,3)?(i="ACK",o+=3):(i=null,0===m&&d('"ACK"')),i}function En(){var i;return"OPTIONS"===v.substr(o,7)?(i="OPTIONS",o+=7):(i=null,0===m&&d('"OPTIONS"')),i}function yo(){var i;return"BYE"===v.substr(o,3)?(i="BYE",o+=3):(i=null,0===m&&d('"BYE"')),i}function ss(){var i;return"CANCEL"===v.substr(o,6)?(i="CANCEL",o+=6):(i=null,0===m&&d('"CANCEL"')),i}function wo(){var i;return"REGISTER"===v.substr(o,8)?(i="REGISTER",o+=8):(i=null,0===m&&d('"REGISTER"')),i}function un(){var i;return"SUBSCRIBE"===v.substr(o,9)?(i="SUBSCRIBE",o+=9):(i=null,0===m&&d('"SUBSCRIBE"')),i}function Hi(){var i;return"NOTIFY"===v.substr(o,6)?(i="NOTIFY",o+=6):(i=null,0===m&&d('"NOTIFY"')),i}function dn(){var i;return"REFER"===v.substr(o,5)?(i="REFER",o+=5):(i=null,0===m&&d('"REFER"')),i}function Bi(){var i,f;return f=o,null===(i=ra())&&null===(i=ia())&&null===(i=En())&&null===(i=yo())&&null===(i=ss())&&null===(i=wo())&&null===(i=un())&&null===(i=Hi())&&null===(i=dn())&&(i=ge()),null!==i&&(ve.method=v.substring(o,f),i=ve.method),null===i&&(o=f),i}function Co(){var i,f,h,y,b,P;return P=o,null!==(i=ks())&&null!==(f=W())&&null!==(h=Fs())&&null!==(y=W())&&null!==(b=Ls())?i=[i,f,h,y,b]:(i=null,o=P),i}function Fs(){var i,f;return f=o,null!==(i=ht())&&(i=void(ve.status_code=parseInt(i.join("")))),null===i&&(o=f),i}function ht(){var i,f,h,y;return y=o,null!==(i=F())&&null!==(f=F())&&null!==(h=F())?i=[i,f,h]:(i=null,o=y),i}function Ls(){var i,f,h;for(h=o,i=[],null===(f=me())&&null===(f=ne())&&null===(f=De())&&null===(f=ce())&&null===(f=te())&&null===(f=W())&&(f=q());null!==f;)i.push(f),null===(f=me())&&null===(f=ne())&&null===(f=De())&&null===(f=ce())&&null===(f=te())&&null===(f=W())&&(f=q());return null!==i&&(i=void(ve.reason_phrase=v.substring(o,h))),null===i&&(o=h),i}function Ze(){var i,f,h,y,b,P,X;if(b=o,P=o,null===(i=Ft())&&(i=yn()),null!==i){for(f=[],X=o,null!==(h=Be())&&null!==(y=Jt())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Jt())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je;ve.multi_header||(ve.multi_header=[]);try{je=new gn(ve.uri,ve.display_name,ve.params),delete ve.uri,delete ve.display_name,delete ve.params}catch{je=null}ve.multi_header.push({possition:o,offset:Oe,parsed:je})}(b)),null===i&&(o=b),i}function yn(){var i,f,h,y,b;return b=o,null!==(i=null!==(i=pt())?i:"")&&null!==(f=Ye())&&null!==(h=pn())&&null!==(y=We())?i=[i,f,h,y]:(i=null,o=b),i}function pt(){var i,f,h,y,b,P,X,je;if(b=o,P=o,null!==(i=ge())){for(f=[],X=o,null!==(h=Ce())&&null!==(y=ge())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Ce())&&null!==(y=ge())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null===i&&(i=jt()),null!==i&&(i=void(ve.display_name="string"==typeof(je=i)?je:je[1].reduce(function(ft,Ht){return ft+Ht[0]+Ht[1]},je[0]))),null===i&&(o=b),i}function Jt(){var i;return null===(i=So())&&null===(i=To())&&(i=Xt()),i}function So(){var i,f,h,y,b,X;return y=o,b=o,"q"===v.substr(o,1).toLowerCase()?(i=v.substr(o,1),o++):(i=null,0===m&&d('"q"')),null!==i&&null!==(f=Se())&&null!==(h=ji())?i=[i,f,h]:(i=null,o=b),null!==i&&(X=i[2],ve.params||(ve.params={}),i=void(ve.params.q=X)),null===i&&(o=y),i}function To(){var i,f,h,y,b,X;return y=o,b=o,"expires"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"expires"')),null!==i&&null!==(f=Se())&&null!==(h=ii())?i=[i,f,h]:(i=null,o=b),null!==i&&(X=i[2],ve.params||(ve.params={}),i=void(ve.params.expires=X)),null===i&&(o=y),i}function ii(){var i,f,h;if(h=o,null!==(f=F()))for(i=[];null!==f;)i.push(f),f=F();else i=null;return null!==i&&(i=parseInt(i.join(""))),null===i&&(o=h),i}function ji(){var i,f,h,y,b,P,X,Oe;return P=o,X=o,48===v.charCodeAt(o)?(i="0",o++):(i=null,0===m&&d('"0"')),null!==i?(Oe=o,46===v.charCodeAt(o)?(f=".",o++):(f=null,0===m&&d('"."')),null!==f&&null!==(h=null!==(h=F())?h:"")&&null!==(y=null!==(y=F())?y:"")&&null!==(b=null!==(b=F())?b:"")?f=[f,h,y,b]:(f=null,o=Oe),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=X)):(i=null,o=X),null!==i&&(i=parseFloat(v.substring(o,P))),null===i&&(o=P),i}function Xt(){var i,f,h,y,b,P,Oe,je;return y=o,b=o,null!==(i=ge())?(P=o,null!==(f=Se())&&null!==(h=Ha())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=b)):(i=null,o=b),null!==i&&(Oe=i[0],je=i[1],ve.params||(ve.params={}),je=typeof je>"u"?void 0:je[1],i=void(ve.params[Oe.toLowerCase()]=je)),null===i&&(o=y),i}function Ha(){var i;return null===(i=ge())&&null===(i=qr())&&(i=Ct()),i}function sa(){var i;return"render"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"render"')),null===i&&("session"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"session"')),null===i&&("icon"===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"icon"')),null===i&&("alert"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"alert"')),null===i&&(i=ge())))),i}function Hr(){var i;return null===(i=oa())&&(i=Xt()),i}function oa(){var i,f,h,y;return y=o,"handling"===v.substr(o,8).toLowerCase()?(i=v.substr(o,8),o+=8):(i=null,0===m&&d('"handling"')),null!==i&&null!==(f=Se())?("optional"===v.substr(o,8).toLowerCase()?(h=v.substr(o,8),o+=8):(h=null,0===m&&d('"optional"')),null===h&&("required"===v.substr(o,8).toLowerCase()?(h=v.substr(o,8),o+=8):(h=null,0===m&&d('"required"')),null===h&&(h=ge())),null!==h?i=[i,f,h]:(i=null,o=y)):(i=null,o=y),i}function Hs(){var i,f,h,y,b,P,X,Oe;if(X=o,null!==(i=la()))if(null!==(f=_e()))if(null!==(h=an())){for(y=[],Oe=o,null!==(b=Be())&&null!==(P=ua())?b=[b,P]:(b=null,o=Oe);null!==b;)y.push(b),Oe=o,null!==(b=Be())&&null!==(P=ua())?b=[b,P]:(b=null,o=Oe);null!==y?i=[i,f,h,y]:(i=null,o=X)}else i=null,o=X;else i=null,o=X;else i=null,o=X;return i}function la(){var i;return null===(i=Do())&&(i=ja()),i}function Do(){var i;return"text"===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"text"')),null===i&&("image"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"image"')),null===i&&("audio"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"audio"')),null===i&&("video"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"video"')),null===i&&("application"===v.substr(o,11).toLowerCase()?(i=v.substr(o,11),o+=11):(i=null,0===m&&d('"application"')),null===i&&(i=Un()))))),i}function ja(){var i;return"message"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"message"')),null===i&&("multipart"===v.substr(o,9).toLowerCase()?(i=v.substr(o,9),o+=9):(i=null,0===m&&d('"multipart"')),null===i&&(i=Un())),i}function Un(){var i;return null===(i=ge())&&(i=ut()),i}function ut(){var i,f,h;return h=o,"x-"===v.substr(o,2).toLowerCase()?(i=v.substr(o,2),o+=2):(i=null,0===m&&d('"x-"')),null!==i&&null!==(f=ge())?i=[i,f]:(i=null,o=h),i}function an(){var i;return null===(i=Un())&&(i=ge()),i}function ua(){var i,f,h,y;return y=o,null!==(i=ge())&&null!==(f=Se())&&null!==(h=Br())?i=[i,f,h]:(i=null,o=y),i}function Br(){var i;return null===(i=ge())&&(i=Ct()),i}function $a(){var i,f,h;if(h=o,null!==(f=F()))for(i=[];null!==f;)i.push(f),f=F();else i=null;return null!==i&&(i=void(ve.value=parseInt(i.join("")))),null===i&&(o=h),i}function pr(){var i,f,h,y,b,P;if(b=o,null!==(i=pe())){for(f=[],P=o,46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')),null!==h&&null!==(y=pe())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,46===v.charCodeAt(o)?(h=".",o++):(h=null,0===m&&d('"."')),null!==h&&null!==(y=pe())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i}function Sn(){var i;return null===(i=Ti())&&(i=Xt()),i}function Ti(){var i,f,h,y,b;return y=o,b=o,"tag"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"tag"')),null!==i&&null!==(f=Se())&&null!==(h=ge())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.tag=i[2])),null===i&&(o=y),i}function dt(){var i,f,h,y,b,P,X,Oe;if(X=o,"digest"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"Digest"')),null!==i)if(null!==(f=Ce()))if(null!==(h=Fn())){for(y=[],Oe=o,null!==(b=Ge())&&null!==(P=Fn())?b=[b,P]:(b=null,o=Oe);null!==b;)y.push(b),Oe=o,null!==(b=Ge())&&null!==(P=Fn())?b=[b,P]:(b=null,o=Oe);null!==y?i=[i,f,h,y]:(i=null,o=X)}else i=null,o=X;else i=null,o=X;else i=null,o=X;return null===i&&(i=os()),i}function os(){var i,f,h,y,b,P,X,Oe;if(X=o,null!==(i=ge()))if(null!==(f=Ce()))if(null!==(h=as())){for(y=[],Oe=o,null!==(b=Ge())&&null!==(P=as())?b=[b,P]:(b=null,o=Oe);null!==b;)y.push(b),Oe=o,null!==(b=Ge())&&null!==(P=as())?b=[b,P]:(b=null,o=Oe);null!==y?i=[i,f,h,y]:(i=null,o=X)}else i=null,o=X;else i=null,o=X;else i=null,o=X;return i}function as(){var i,f,h,y;return y=o,null!==(i=ge())&&null!==(f=Se())?(null===(h=ge())&&(h=Ct()),null!==h?i=[i,f,h]:(i=null,o=y)):(i=null,o=y),i}function Fn(){var i;return null===(i=ls())&&null===(i=kt())&&null===(i=mr())&&null===(i=bi())&&null===(i=Rr())&&null===(i=si())&&null===(i=Ao())&&(i=as()),i}function ls(){var i,f,h,y;return y=o,"realm"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"realm"')),null!==i&&null!==(f=Se())&&null!==(h=fa())?i=[i,f,h]:(i=null,o=y),i}function fa(){var i,f;return f=o,null!==(i=jt())&&(i=void(ve.realm=i)),null===i&&(o=f),i}function kt(){var i,f,h,y,b,P,X,Oe,je;if(Oe=o,"domain"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"domain"')),null!==i)if(null!==(f=Se()))if(null!==(h=Rt()))if(null!==(y=us())){if(b=[],je=o,null!==(X=W()))for(P=[];null!==X;)P.push(X),X=W();else P=null;for(null!==P&&null!==(X=us())?P=[P,X]:(P=null,o=je);null!==P;){if(b.push(P),je=o,null!==(X=W()))for(P=[];null!==X;)P.push(X),X=W();else P=null;null!==P&&null!==(X=us())?P=[P,X]:(P=null,o=je)}null!==b&&null!==(P=hn())?i=[i,f,h,y,b,P]:(i=null,o=Oe)}else i=null,o=Oe;else i=null,o=Oe;else i=null,o=Oe;else i=null,o=Oe;return i}function us(){var i;return null===(i=Tn())&&(i=ri()),i}function mr(){var i,f,h,y;return y=o,"nonce"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"nonce"')),null!==i&&null!==(f=Se())&&null!==(h=Va())?i=[i,f,h]:(i=null,o=y),i}function Va(){var i,f;return f=o,null!==(i=jt())&&(i=void(ve.nonce=i)),null===i&&(o=f),i}function bi(){var i,f,h,y,b;return y=o,b=o,"opaque"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"opaque"')),null!==i&&null!==(f=Se())&&null!==(h=jt())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.opaque=i[2])),null===i&&(o=y),i}function Rr(){var i,f,h,y,b;return y=o,"stale"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"stale"')),null!==i&&null!==(f=Se())?(b=o,"true"===v.substr(o,4).toLowerCase()?(h=v.substr(o,4),o+=4):(h=null,0===m&&d('"true"')),null!==h&&(h=void(ve.stale=!0)),null===h&&(o=b),null===h&&(b=o,"false"===v.substr(o,5).toLowerCase()?(h=v.substr(o,5),o+=5):(h=null,0===m&&d('"false"')),null!==h&&(h=void(ve.stale=!1)),null===h&&(o=b)),null!==h?i=[i,f,h]:(i=null,o=y)):(i=null,o=y),i}function si(){var i,f,h,y,b;return y=o,b=o,"algorithm"===v.substr(o,9).toLowerCase()?(i=v.substr(o,9),o+=9):(i=null,0===m&&d('"algorithm"')),null!==i&&null!==(f=Se())?("md5"===v.substr(o,3).toLowerCase()?(h=v.substr(o,3),o+=3):(h=null,0===m&&d('"MD5"')),null===h&&("md5-sess"===v.substr(o,8).toLowerCase()?(h=v.substr(o,8),o+=8):(h=null,0===m&&d('"MD5-sess"')),null===h&&(h=ge())),null!==h?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve.algorithm=i[2].toUpperCase())),null===i&&(o=y),i}function Ao(){var i,f,h,y,b,P,X,Oe,je,ft;if(Oe=o,"qop"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"qop"')),null!==i)if(null!==(f=Se()))if(null!==(h=Rt())){if(je=o,null!==(y=cn())){for(b=[],ft=o,44===v.charCodeAt(o)?(P=",",o++):(P=null,0===m&&d('","')),null!==P&&null!==(X=cn())?P=[P,X]:(P=null,o=ft);null!==P;)b.push(P),ft=o,44===v.charCodeAt(o)?(P=",",o++):(P=null,0===m&&d('","')),null!==P&&null!==(X=cn())?P=[P,X]:(P=null,o=ft);null!==b?y=[y,b]:(y=null,o=je)}else y=null,o=je;null!==y&&null!==(b=hn())?i=[i,f,h,y,b]:(i=null,o=Oe)}else i=null,o=Oe;else i=null,o=Oe;else i=null,o=Oe;return i}function cn(){var i,f,y;return f=o,"auth-int"===v.substr(o,8).toLowerCase()?(i=v.substr(o,8),o+=8):(i=null,0===m&&d('"auth-int"')),null===i&&("auth"===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"auth"')),null===i&&(i=ge())),null!==i&&(y=i,ve.qop||(ve.qop=[]),i=void ve.qop.push(y.toLowerCase())),null===i&&(o=f),i}function vr(){var i,f,h,y,b,P,X;if(b=o,P=o,null!==(i=yn())){for(f=[],X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==h;)f.push(h),X=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=X);null!==f?i=[i,f]:(i=null,o=P)}else i=null,o=P;return null!==i&&(i=function(Oe){var je;ve.multi_header||(ve.multi_header=[]);try{je=new gn(ve.uri,ve.display_name,ve.params),delete ve.uri,delete ve.display_name,delete ve.params}catch{je=null}ve.multi_header.push({possition:o,offset:Oe,parsed:je})}(b)),null===i&&(o=b),i}function Io(){var i;return null===(i=mt())&&(i=Xt()),i}function mt(){var i,f,h,y,b,P;if(b=o,P=o,"cause"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"cause"')),null!==i)if(null!==(f=Se())){if(null!==(y=F()))for(h=[];null!==y;)h.push(y),y=F();else h=null;null!==h?i=[i,f,h]:(i=null,o=P)}else i=null,o=P;else i=null,o=P;return null!==i&&(i=void(ve.cause=parseInt(i[2].join("")))),null===i&&(o=b),i}function jr(){var i,f,h,y,b,P;if(b=o,null!==(i=yn())){for(f=[],P=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=P);null!==h;)f.push(h),P=o,null!==(h=Be())&&null!==(y=Xt())?h=[h,y]:(h=null,o=P);null!==f?i=[i,f]:(i=null,o=b)}else i=null,o=b;return i}function zi(){var i,f;return f=o,"active"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"active"')),null===i&&("pending"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"pending"')),null===i&&("terminated"===v.substr(o,10).toLowerCase()?(i=v.substr(o,10),o+=10):(i=null,0===m&&d('"terminated"')),null===i&&(i=ge()))),null!==i&&(i=void(ve.state=v.substring(o,f))),null===i&&(o=f),i}function js(){var i,f,h,y,b,X;return y=o,b=o,"reason"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"reason"')),null!==i&&null!==(f=Se())&&null!==(h=Wi())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(typeof(X=i[2])<"u"&&(ve.reason=X))),null===i&&(o=y),null===i&&(y=o,b=o,"expires"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"expires"')),null!==i&&null!==(f=Se())&&null!==(h=ii())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=function(P,X){typeof X<"u"&&(ve.expires=X)}(0,i[2])),null===i&&(o=y),null===i&&(y=o,b=o,"retry_after"===v.substr(o,11).toLowerCase()?(i=v.substr(o,11),o+=11):(i=null,0===m&&d('"retry_after"')),null!==i&&null!==(f=Se())&&null!==(h=ii())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=function(P,X){typeof X<"u"&&(ve.retry_after=X)}(0,i[2])),null===i&&(o=y),null===i&&(i=Xt()))),i}function Wi(){var i;return"deactivated"===v.substr(o,11).toLowerCase()?(i=v.substr(o,11),o+=11):(i=null,0===m&&d('"deactivated"')),null===i&&("probation"===v.substr(o,9).toLowerCase()?(i=v.substr(o,9),o+=9):(i=null,0===m&&d('"probation"')),null===i&&("rejected"===v.substr(o,8).toLowerCase()?(i=v.substr(o,8),o+=8):(i=null,0===m&&d('"rejected"')),null===i&&("timeout"===v.substr(o,7).toLowerCase()?(i=v.substr(o,7),o+=7):(i=null,0===m&&d('"timeout"')),null===i&&("giveup"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"giveup"')),null===i&&("noresource"===v.substr(o,10).toLowerCase()?(i=v.substr(o,10),o+=10):(i=null,0===m&&d('"noresource"')),null===i&&("invariant"===v.substr(o,9).toLowerCase()?(i=v.substr(o,9),o+=9):(i=null,0===m&&d('"invariant"')),null===i&&(i=ge()))))))),i}function _r(){var i;return null===(i=Ti())&&(i=Xt()),i}function Ut(){var i,f,h,y,b,P,X,Oe;if(X=o,null!==(i=be()))if(null!==(f=Ce()))if(null!==(h=Je())){for(y=[],Oe=o,null!==(b=Be())&&null!==(P=fs())?b=[b,P]:(b=null,o=Oe);null!==b;)y.push(b),Oe=o,null!==(b=Be())&&null!==(P=fs())?b=[b,P]:(b=null,o=Oe);null!==y?i=[i,f,h,y]:(i=null,o=X)}else i=null,o=X;else i=null,o=X;else i=null,o=X;return i}function fs(){var i;return null===(i=Gi())&&null===(i=$n())&&null===(i=R())&&null===(i=j())&&null===(i=re())&&(i=Xt()),i}function Gi(){var i,f,h,y,b;return y=o,b=o,"ttl"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"ttl"')),null!==i&&null!==(f=Se())&&null!==(h=Dn())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.ttl=i[2])),null===i&&(o=y),i}function $n(){var i,f,h,y,b;return y=o,b=o,"maddr"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"maddr"')),null!==i&&null!==(f=Se())&&null!==(h=qr())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.maddr=i[2])),null===i&&(o=y),i}function R(){var i,f,h,y,b;return y=o,b=o,"received"===v.substr(o,8).toLowerCase()?(i=v.substr(o,8),o+=8):(i=null,0===m&&d('"received"')),null!==i&&null!==(f=Se())?(null===(h=ts())&&(h=Fi()),null!==h?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve.received=i[2])),null===i&&(o=y),i}function j(){var i,f,h,y,b;return y=o,b=o,"branch"===v.substr(o,6).toLowerCase()?(i=v.substr(o,6),o+=6):(i=null,0===m&&d('"branch"')),null!==i&&null!==(f=Se())&&null!==(h=ge())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.branch=i[2])),null===i&&(o=y),i}function re(){var i,f,h,y,b;return y=o,"rport"===v.substr(o,5).toLowerCase()?(i=v.substr(o,5),o+=5):(i=null,0===m&&d('"rport"')),null!==i?(b=o,null!==(f=Se())&&null!==(h=ue())?f=[f,h]:(f=null,o=b),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=y)):(i=null,o=y),i}function ue(){var i,f,h,y,b,P,X;return P=o,X=o,null!==(i=null!==(i=F())?i:"")&&null!==(f=null!==(f=F())?f:"")&&null!==(h=null!==(h=F())?h:"")&&null!==(y=null!==(y=F())?y:"")&&null!==(b=null!==(b=F())?b:"")?i=[i,f,h,y,b]:(i=null,o=X),null!==i&&(i=void(ve.rport=parseInt(i.join("")))),null===i&&(o=P),i}function be(){var i,f,h,y,b,P;return P=o,null!==(i=Ee())&&null!==(f=_e())&&null!==(h=ge())&&null!==(y=_e())&&null!==(b=Ue())?i=[i,f,h,y,b]:(i=null,o=P),i}function Ee(){var i,f;return f=o,"sip"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"SIP"')),null===i&&(i=ge()),null!==i&&(i=void(ve.protocol=i)),null===i&&(o=f),i}function Ue(){var i,f;return f=o,"udp"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"UDP"')),null===i&&("tcp"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"TCP"')),null===i&&("tls"===v.substr(o,3).toLowerCase()?(i=v.substr(o,3),o+=3):(i=null,0===m&&d('"TLS"')),null===i&&("sctp"===v.substr(o,4).toLowerCase()?(i=v.substr(o,4),o+=4):(i=null,0===m&&d('"SCTP"')),null===i&&(i=ge())))),null!==i&&(i=void(ve.transport=i)),null===i&&(o=f),i}function Je(){var i,f,h,y,b;return y=o,null!==(i=yt())?(b=o,null!==(f=Mt())&&null!==(h=vt())?f=[f,h]:(f=null,o=b),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=y)):(i=null,o=y),i}function yt(){var i,f;return f=o,null===(i=ts())&&null===(i=ki())&&(i=Xi()),null!==i&&(i=void(ve.host=v.substring(o,f))),null===i&&(o=f),i}function vt(){var i,f,h,y,b,P,X;return P=o,X=o,null!==(i=null!==(i=F())?i:"")&&null!==(f=null!==(f=F())?f:"")&&null!==(h=null!==(h=F())?h:"")&&null!==(y=null!==(y=F())?y:"")&&null!==(b=null!==(b=F())?b:"")?i=[i,f,h,y,b]:(i=null,o=X),null!==i&&(i=void(ve.port=parseInt(i.join("")))),null===i&&(o=P),i}function Dn(){var i,f,h,y,b;return y=o,b=o,null!==(i=F())&&null!==(f=null!==(f=F())?f:"")&&null!==(h=null!==(h=F())?h:"")?i=[i,f,h]:(i=null,o=b),null!==i&&(i=parseInt(i.join(""))),null===i&&(o=y),i}function en(){var i,f;return f=o,null!==(i=ii())&&(i=void(ve.expires=i)),null===i&&(o=f),i}function wn(){var i;return null===(i=Vn())&&(i=Xt()),i}function Vn(){var i,f,h,y,b;return y=o,b=o,"refresher"===v.substr(o,9).toLowerCase()?(i=v.substr(o,9),o+=9):(i=null,0===m&&d('"refresher"')),null!==i&&null!==(f=Se())?("uac"===v.substr(o,3).toLowerCase()?(h=v.substr(o,3),o+=3):(h=null,0===m&&d('"uac"')),null===h&&("uas"===v.substr(o,3).toLowerCase()?(h=v.substr(o,3),o+=3):(h=null,0===m&&d('"uas"'))),null!==h?i=[i,f,h]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve.refresher=i[2].toLowerCase())),null===i&&(o=y),i}function Nr(){var i,f;for(i=[],null===(f=V())&&null===(f=te())&&(f=Ce());null!==f;)i.push(f),null===(f=V())&&null===(f=te())&&(f=Ce());return i}function wr(){var i,f,h,y,b,P,X,Oe,je,ft,Ht;return ft=o,Ht=o,null!==(i=rt())?(45===v.charCodeAt(o)?(f="-",o++):(f=null,0===m&&d('"-"')),null!==f&&null!==(h=zn())?(45===v.charCodeAt(o)?(y="-",o++):(y=null,0===m&&d('"-"')),null!==y&&null!==(b=zn())?(45===v.charCodeAt(o)?(P="-",o++):(P=null,0===m&&d('"-"')),null!==P&&null!==(X=zn())?(45===v.charCodeAt(o)?(Oe="-",o++):(Oe=null,0===m&&d('"-"')),null!==Oe&&null!==(je=Pt())?i=[i,f,h,y,b,P,X,Oe,je]:(i=null,o=Ht)):(i=null,o=Ht)):(i=null,o=Ht)):(i=null,o=Ht)):(i=null,o=Ht),null!==i&&(i=void(ve=v.substring(o+5,ft))),null===i&&(o=ft),i}function zn(){var i,f,h,y,b;return b=o,null!==(i=$())&&null!==(f=$())&&null!==(h=$())&&null!==(y=$())?i=[i,f,h,y]:(i=null,o=b),i}function rt(){var i,f,h;return h=o,null!==(i=zn())&&null!==(f=zn())?i=[i,f]:(i=null,o=h),i}function Pt(){var i,f,h,y;return y=o,null!==(i=zn())&&null!==(f=zn())&&null!==(h=zn())?i=[i,f,h]:(i=null,o=y),i}function ds(){var i,f,h,y,b,P;return y=o,b=o,null!==(i=J())?(P=o,64===v.charCodeAt(o)?(f="@",o++):(f=null,0===m&&d('"@"')),null!==f&&null!==(h=J())?f=[f,h]:(f=null,o=P),null!==(f=null!==f?f:"")?i=[i,f]:(i=null,o=b)):(i=null,o=b),null!==i&&(i=void(ve.call_id=v.substring(o,y))),null===i&&(o=y),i}function kn(){var i;return null===(i=Te())&&null===(i=Pe())&&null===(i=Ne())&&(i=Xt()),i}function Te(){var i,f,h,y,b;return y=o,b=o,"to-tag"===v.substr(o,6)?(i="to-tag",o+=6):(i=null,0===m&&d('"to-tag"')),null!==i&&null!==(f=Se())&&null!==(h=ge())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.to_tag=i[2])),null===i&&(o=y),i}function Pe(){var i,f,h,y,b;return y=o,b=o,"from-tag"===v.substr(o,8)?(i="from-tag",o+=8):(i=null,0===m&&d('"from-tag"')),null!==i&&null!==(f=Se())&&null!==(h=ge())?i=[i,f,h]:(i=null,o=b),null!==i&&(i=void(ve.from_tag=i[2])),null===i&&(o=y),i}function Ne(){var i,f;return f=o,"early-only"===v.substr(o,10)?(i="early-only",o+=10):(i=null,0===m&&d('"early-only"')),null!==i&&(i=void(ve.early_only=!0)),null===i&&(o=f),i}var nn=H(2661),gn=H(6577),ve={};if(null===G[ie]()||o!==v.length){var Wn=Math.max(o,x),ir=Wn<v.length?v.charAt(Wn):null,Di=function Xe(){for(var i=1,f=1,h=!1,y=0;y<Math.max(o,x);y++){var b=v.charAt(y);"\n"===b?(h||i++,f=1,h=!1):"\r"===b||"\u2028"===b||"\u2029"===b?(i++,f=1,h=!0):(f++,h=!1)}return{line:i,column:f}}();return new this.SyntaxError(function tt(i){i.sort();for(var f=null,h=[],y=0;y<i.length;y++)i[y]!==f&&(h.push(i[y]),f=i[y]);return h}(C),ir,Wn,Di.line,Di.column),-1}return ve},toSource:function(){return this._source},SyntaxError:function(fe,v,ie,G,o){this.name="SyntaxError",this.expected=fe,this.found=v,this.message=function m(x,C){var E;switch(x.length){case 0:E="end of input";break;case 1:E=x[0];break;default:E=x.slice(0,x.length-1).join(", ")+" or "+x[x.length-1]}return"Expected "+E+" but "+(C?Y(C):"end of input")+" found."}(fe,v),this.offset=ie,this.line=G,this.column=o}};return k.SyntaxError.prototype=Error.prototype,k}()},1033:(Le,K,H)=>{"use strict";var Y=H(2403),k=H(5428),fe=H(7471),v=H(6886),ie=H(7941),G=H(2661),o=H(6577),m=H(6416),x=H(9644);H(1455)("JsSIP")("version %s",Y.version),Le.exports={C:k,Exceptions:fe,Utils:v,UA:ie,URI:G,NameAddrHeader:o,WebSocketInterface:x,Grammar:m,debug:H(1455),get name(){return Y.title},get version(){return Y.version}}},8843:(Le,K,H)=>{"use strict";function k(G,o){for(var m=0;m<o.length;m++){var x=o[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(G,x.key,x)}}var v=H(1455),ie="JsSIP";Le.exports=function(){function G(o){(function Y(G,o){if(!(G instanceof o))throw new TypeError("Cannot call a class as a function")})(this,G),o?(this._debug=v.default("".concat(ie,":").concat(o)),this._warn=v.default("".concat(ie,":WARN:").concat(o)),this._error=v.default("".concat(ie,":ERROR:").concat(o))):(this._debug=v.default(ie),this._warn=v.default("".concat(ie,":WARN")),this._error=v.default("".concat(ie,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return function fe(G,o,m){o&&k(G.prototype,o),m&&k(G,m)}(G,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),G}()},8474:(Le,K,H)=>{"use strict";function Y(W){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(W)}function fe(W,q){for(var se=0;se<q.length;se++){var me=q[se];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(W,me.key,me)}}function G(W,q){return(G=Object.setPrototypeOf||function(me,ne){return me.__proto__=ne,me})(W,q)}function E(W){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)})(W)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(4314),L=H(6886),$=H(3974),O=H(7471),M=H(2661),N=new d("Message");Le.exports=function(W){!function ie(W,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(q&&q.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),q&&G(W,q)}(se,W);var q=function o(W){var q=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ne,me=E(W);if(q){var ae=E(this).constructor;ne=Reflect.construct(me,arguments,ae)}else ne=me.apply(this,arguments);return function m(W,q){return!q||"object"!==Y(q)&&"function"!=typeof q?function x(W){if(void 0===W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}(W):q}(this,ne)}}(se);function se(me){var ne;return function k(W,q){if(!(W instanceof q))throw new TypeError("Cannot call a class as a function")}(this,se),(ne=q.call(this))._ua=me,ne._request=null,ne._closed=!1,ne._direction=null,ne._local_identity=null,ne._remote_identity=null,ne._is_replied=!1,ne._data={},ne}return function v(W,q,se){q&&fe(W.prototype,q),se&&fe(W,se)}(se,[{key:"send",value:function(ne,ae){var De=this,Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ee=ne;if(void 0===ne||void 0===ae)throw new TypeError("Not enough arguments");if(!(ne=this._ua.normalizeTarget(ne)))throw new TypeError("Invalid target: ".concat(ee));var de=L.cloneArray(Ce.extraHeaders),B=L.cloneObject(Ce.eventHandlers),V=Ce.contentType||"text/plain",ce={};for(var te in Ce.fromUserName&&(ce.from_uri=new M("sip",Ce.fromUserName,this._ua.configuration.uri.host),de.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),Ce.fromDisplayName&&(ce.from_display_name=Ce.fromDisplayName),B)Object.prototype.hasOwnProperty.call(B,te)&&this.on(te,B[te]);de.push("Content-Type: ".concat(V)),this._request=new F.OutgoingRequest(T.MESSAGE,ne,this._ua,ce,de),ae&&(this._request.body=ae);var Ae=new $(this._ua,this._request,{onRequestTimeout:function(){De._onRequestTimeout()},onTransportError:function(){De._onTransportError()},onReceiveResponse:function(pe){De._receiveResponse(pe)}});this._newMessage("local",this._request),Ae.send()}},{key:"init_incoming",value:function(ne){this._request=ne,this._newMessage("remote",ne),this._is_replied||(this._is_replied=!0,ne.reply(200)),this._close()}},{key:"accept",value:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=L.cloneArray(ne.extraHeaders),De=ne.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,ae,De)}},{key:"reject",value:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=ne.status_code||480,De=ne.reason_phrase,Ce=L.cloneArray(ne.extraHeaders),ee=ne.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(ae<300||ae>=700)throw new TypeError("Invalid status_code: ".concat(ae));this._is_replied=!0,this._request.reply(ae,De,Ce,ee)}},{key:"_receiveResponse",value:function(ne){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(ne.status_code):break;case/^2[0-9]{2}$/.test(ne.status_code):this._succeeded("remote",ne);break;default:var ae=L.sipErrorCause(ne.status_code);this._failed("remote",ne,ae)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,T.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,T.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(ne,ae){"remote"===ne?(this._direction="incoming",this._local_identity=ae.to,this._remote_identity=ae.from):"local"===ne&&(this._direction="outgoing",this._local_identity=ae.from,this._remote_identity=ae.to),this._ua.newMessage(this,{originator:ne,message:this,request:ae})}},{key:"_failed",value:function(ne,ae,De){N.debug("MESSAGE failed"),this._close(),N.debug('emit "failed"'),this.emit("failed",{originator:ne,response:ae||null,cause:De})}},{key:"_succeeded",value:function(ne,ae){N.debug("MESSAGE succeeded"),this._close(),N.debug('emit "succeeded"'),this.emit("succeeded",{originator:ne,response:ae})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),se}(w)},6577:(Le,K,H)=>{"use strict";function k(G,o){for(var m=0;m<o.length;m++){var x=o[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(G,x.key,x)}}function fe(G,o,m){return o&&k(G.prototype,o),m&&k(G,m),G}var v=H(2661),ie=H(6416);Le.exports=function(){function G(o,m,x){if(function Y(G,o){if(!(G instanceof o))throw new TypeError("Cannot call a class as a function")}(this,G),!(o&&o instanceof v))throw new TypeError('missing or invalid "uri" parameter');for(var C in this._uri=o,this._parameters={},this.display_name=m,x)Object.prototype.hasOwnProperty.call(x,C)&&this.setParam(C,x[C])}return fe(G,null,[{key:"parse",value:function(m){if(-1!==(m=ie.parse(m,"Name_Addr_Header")))return m}}]),fe(G,[{key:"setParam",value:function(m,x){m&&(this._parameters[m.toLowerCase()]=typeof x>"u"||null===x?null:x.toString())}},{key:"getParam",value:function(m){if(m)return this._parameters[m.toLowerCase()]}},{key:"hasParam",value:function(m){if(m)return!!this._parameters.hasOwnProperty(m.toLowerCase())}},{key:"deleteParam",value:function(m){if(m=m.toLowerCase(),this._parameters.hasOwnProperty(m)){var x=this._parameters[m];return delete this._parameters[m],x}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new G(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var m=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";for(var x in m+="<".concat(this._uri.toString(),">"),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,x)&&(m+=";".concat(x),null!==this._parameters[x]&&(m+="=".concat(this._parameters[x])));return m}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(m){this._display_name=0===m?"0":m}}]),G}()},1104:(Le,K,H)=>{"use strict";function Y(N){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(N)}function fe(N,W){for(var q=0;q<W.length;q++){var se=W[q];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(N,se.key,se)}}function G(N,W){return(G=Object.setPrototypeOf||function(se,me){return se.__proto__=me,se})(N,W)}function E(N){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)})(N)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(4314),L=H(6886),$=H(3974),O=H(7471),M=new d("Options");Le.exports=function(N){!function ie(N,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(W&&W.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),W&&G(N,W)}(q,N);var W=function o(N){var W=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var me,se=E(N);if(W){var ne=E(this).constructor;me=Reflect.construct(se,arguments,ne)}else me=se.apply(this,arguments);return function m(N,W){return!W||"object"!==Y(W)&&"function"!=typeof W?function x(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N):W}(this,me)}}(q);function q(se){var me;return function k(N,W){if(!(N instanceof W))throw new TypeError("Cannot call a class as a function")}(this,q),(me=W.call(this))._ua=se,me._request=null,me._closed=!1,me._direction=null,me._local_identity=null,me._remote_identity=null,me._is_replied=!1,me._data={},me}return function v(N,W,q){W&&fe(N.prototype,W),q&&fe(N,q)}(q,[{key:"send",value:function(me,ne){var ae=this,De=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ce=me;if(void 0===me)throw new TypeError("A target is required for OPTIONS");if(!(me=this._ua.normalizeTarget(me)))throw new TypeError("Invalid target: ".concat(Ce));var ee=L.cloneArray(De.extraHeaders),de=L.cloneObject(De.eventHandlers),B=De.contentType||"application/sdp";for(var V in de)Object.prototype.hasOwnProperty.call(de,V)&&this.on(V,de[V]);ee.push("Content-Type: ".concat(B)),this._request=new F.OutgoingRequest(T.OPTIONS,me,this._ua,null,ee),ne&&(this._request.body=ne);var ce=new $(this._ua,this._request,{onRequestTimeout:function(){ae._onRequestTimeout()},onTransportError:function(){ae._onTransportError()},onReceiveResponse:function(Ae){ae._receiveResponse(Ae)}});this._newOptions("local",this._request),ce.send()}},{key:"init_incoming",value:function(me){this._request=me,this._newOptions("remote",me),this._is_replied||(this._is_replied=!0,me.reply(200)),this._close()}},{key:"accept",value:function(){var me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=L.cloneArray(me.extraHeaders),ae=me.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"accept" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");this._is_replied=!0,this._request.reply(200,null,ne,ae)}},{key:"reject",value:function(){var me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=me.status_code||480,ae=me.reason_phrase,De=L.cloneArray(me.extraHeaders),Ce=me.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"reject" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");if(ne<300||ne>=700)throw new TypeError("Invalid status_code: ".concat(ne));this._is_replied=!0,this._request.reply(ne,ae,De,Ce)}},{key:"_receiveResponse",value:function(me){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(me.status_code):break;case/^2[0-9]{2}$/.test(me.status_code):this._succeeded("remote",me);break;default:var ne=L.sipErrorCause(me.status_code);this._failed("remote",me,ne)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,T.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,T.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newOptions",value:function(me,ne){"remote"===me?(this._direction="incoming",this._local_identity=ne.to,this._remote_identity=ne.from):"local"===me&&(this._direction="outgoing",this._local_identity=ne.from,this._remote_identity=ne.to),this._ua.newOptions(this,{originator:me,message:this,request:ne})}},{key:"_failed",value:function(me,ne,ae){M.debug("OPTIONS failed"),this._close(),M.debug('emit "failed"'),this.emit("failed",{originator:me,response:ne||null,cause:ae})}},{key:"_succeeded",value:function(me,ne){M.debug("OPTIONS succeeded"),this._close(),M.debug('emit "succeeded"'),this.emit("succeeded",{originator:me,response:ne})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),q}(w)},8297:(Le,K,H)=>{"use strict";function Y(C,E){var w;if(typeof Symbol>"u"||null==C[Symbol.iterator]){if(Array.isArray(C)||(w=function k(C,E){if(C){if("string"==typeof C)return fe(C,E);var w=Object.prototype.toString.call(C).slice(8,-1);if("Object"===w&&C.constructor&&(w=C.constructor.name),"Map"===w||"Set"===w)return Array.from(C);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return fe(C,E)}}(C))||E&&C&&"number"==typeof C.length){w&&(C=w);var d=0,T=function(){};return{s:T,n:function(){return d>=C.length?{done:!0}:{done:!1,value:C[d++]}},e:function(M){throw M},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $,F=!0,L=!1;return{s:function(){w=C[Symbol.iterator]()},n:function(){var M=w.next();return F=M.done,M},e:function(M){L=!0,$=M},f:function(){try{!F&&null!=w.return&&w.return()}finally{if(L)throw $}}}}function fe(C,E){(null==E||E>C.length)&&(E=C.length);for(var w=0,d=new Array(E);w<E;w++)d[w]=C[w];return d}var v=H(8843),ie=H(6416),G=H(4314),o=new v("Parser");function m(C,E){var w=E,d=0,T=0;if(C.substring(w,w+2).match(/(^\r\n)/))return-2;for(;0===d;){if(-1===(T=C.indexOf("\r\n",w)))return T;!C.substring(T+2,T+4).match(/(^\r\n)/)&&C.charAt(T+2).match(/(^\s+)/)?w=T+2:d=T}return d}function x(C,E,w,d){var T,F=E.indexOf(":",w),L=E.substring(w,F).trim(),$=E.substring(F+1,d).trim();switch(L.toLowerCase()){case"via":case"v":C.addHeader("via",$),1===C.getHeaders("via").length?(T=C.parseHeader("Via"))&&(C.via=T,C.via_branch=T.branch):T=0;break;case"from":case"f":C.setHeader("from",$),(T=C.parseHeader("from"))&&(C.from=T,C.from_tag=T.getParam("tag"));break;case"to":case"t":C.setHeader("to",$),(T=C.parseHeader("to"))&&(C.to=T,C.to_tag=T.getParam("tag"));break;case"record-route":if(-1===(T=ie.parse($,"Record_Route")))T=void 0;else{var M,O=Y(T);try{for(O.s();!(M=O.n()).done;){var N=M.value;C.addHeader("record-route",$.substring(N.possition,N.offset)),C.headers["Record-Route"][C.getHeaders("record-route").length-1].parsed=N.parsed}}catch(me){O.e(me)}finally{O.f()}}break;case"call-id":case"i":C.setHeader("call-id",$),(T=C.parseHeader("call-id"))&&(C.call_id=$);break;case"contact":case"m":if(-1===(T=ie.parse($,"Contact")))T=void 0;else{var q,W=Y(T);try{for(W.s();!(q=W.n()).done;){var se=q.value;C.addHeader("contact",$.substring(se.possition,se.offset)),C.headers.Contact[C.getHeaders("contact").length-1].parsed=se.parsed}}catch(me){W.e(me)}finally{W.f()}}break;case"content-length":case"l":C.setHeader("content-length",$),T=C.parseHeader("content-length");break;case"content-type":case"c":C.setHeader("content-type",$),T=C.parseHeader("content-type");break;case"cseq":C.setHeader("cseq",$),(T=C.parseHeader("cseq"))&&(C.cseq=T.value),C instanceof G.IncomingResponse&&(C.method=T.method);break;case"max-forwards":C.setHeader("max-forwards",$),T=C.parseHeader("max-forwards");break;case"www-authenticate":C.setHeader("www-authenticate",$),T=C.parseHeader("www-authenticate");break;case"proxy-authenticate":C.setHeader("proxy-authenticate",$),T=C.parseHeader("proxy-authenticate");break;case"session-expires":case"x":C.setHeader("session-expires",$),(T=C.parseHeader("session-expires"))&&(C.session_expires=T.expires,C.session_expires_refresher=T.refresher);break;case"refer-to":case"r":C.setHeader("refer-to",$),(T=C.parseHeader("refer-to"))&&(C.refer_to=T);break;case"replaces":C.setHeader("replaces",$),(T=C.parseHeader("replaces"))&&(C.replaces=T);break;case"event":case"o":C.setHeader("event",$),(T=C.parseHeader("event"))&&(C.event=T);break;default:C.addHeader(L,$),T=0}return void 0!==T||{error:'error parsing header "'.concat(L,'"')}}K.parseMessage=function(C,E){var w,d,T=C.indexOf("\r\n");if(-1!==T){var F=C.substring(0,T),L=ie.parse(F,"Request_Response");if(-1!==L){L.status_code?((w=new G.IncomingResponse).status_code=L.status_code,w.reason_phrase=L.reason_phrase):((w=new G.IncomingRequest(E)).method=L.method,w.ruri=L.uri),w.data=C;for(var $=T+2;;){if(-2===(T=m(C,$))){d=$+2;break}if(-1===T)return void o.warn("parseMessage() | malformed message");if(!0!==(L=x(w,C,$,T)))return void o.warn("parseMessage() |",L.error);$=T+2}if(w.hasHeader("content-length")){var O=w.getHeader("content-length");w.body=C.substr(d,O)}else w.body=C.substring(d);return w}o.warn('parseMessage() | error parsing first line of SIP message: "'.concat(F,'"'))}else o.warn("parseMessage() | no CRLF found, not a SIP message")}},7475:(Le,K,H)=>{"use strict";function Y(te){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(te)}function k(te,Ae){var ge;if(typeof Symbol>"u"||null==te[Symbol.iterator]){if(Array.isArray(te)||(ge=function fe(te,Ae){if(te){if("string"==typeof te)return v(te,Ae);var ge=Object.prototype.toString.call(te).slice(8,-1);if("Object"===ge&&te.constructor&&(ge=te.constructor.name),"Map"===ge||"Set"===ge)return Array.from(te);if("Arguments"===ge||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return v(te,Ae)}}(te))||Ae&&te&&"number"==typeof te.length){ge&&(te=ge);var pe=0,A=function(){};return{s:A,n:function(){return pe>=te.length?{done:!0}:{done:!1,value:te[pe++]}},e:function(Me){throw Me},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _e,J=!0,we=!1;return{s:function(){ge=te[Symbol.iterator]()},n:function(){var Me=ge.next();return J=Me.done,Me},e:function(Me){we=!0,_e=Me},f:function(){try{!J&&null!=ge.return&&ge.return()}finally{if(we)throw _e}}}}function v(te,Ae){(null==Ae||Ae>te.length)&&(Ae=te.length);for(var ge=0,pe=new Array(Ae);ge<Ae;ge++)pe[ge]=te[ge];return pe}function G(te,Ae){for(var ge=0;ge<Ae.length;ge++){var pe=Ae[ge];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(te,pe.key,pe)}}function o(te,Ae,ge){return Ae&&G(te.prototype,Ae),ge&&G(te,ge),te}function x(te,Ae){return(x=Object.setPrototypeOf||function(pe,A){return pe.__proto__=A,pe})(te,Ae)}function T(te){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(ge){return ge.__proto__||Object.getPrototypeOf(ge)})(te)}var F=H(9069).EventEmitter,L=H(4e3),$=H(8843),O=H(5428),M=H(7471),N=H(3258),W=H(6886),q=H(7699),se=H(4314),me=H(2709),ne=H(3974),ae=H(4563),De=H(9972),Ce=H(4670),ee=H(5236),de=H(2661),B=new $("RTCSession"),V={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},ce=["audio","video"];Le.exports=function(te){!function m(te,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Ae&&x(te,Ae)}(ge,te);var Ae=function C(te){var Ae=function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var A,pe=T(te);if(Ae){var J=T(this).constructor;A=Reflect.construct(pe,arguments,J)}else A=pe.apply(this,arguments);return function E(te,Ae){return!Ae||"object"!==Y(Ae)&&"function"!=typeof Ae?function w(te){if(void 0===te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(te):Ae}(this,A)}}(ge);function ge(pe){var A;return function ie(te,Ae){if(!(te instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,ge),B.debug("new"),(A=Ae.call(this))._id=null,A._ua=pe,A._status=V.STATUS_NULL,A._dialog=null,A._earlyDialogs={},A._contact=null,A._from_tag=null,A._to_tag=null,A._connection=null,A._connectionPromiseQueue=Promise.resolve(),A._request=null,A._is_canceled=!1,A._cancel_reason="",A._is_confirmed=!1,A._late_sdp=!1,A._rtcOfferConstraints=null,A._rtcAnswerConstraints=null,A._localMediaStream=null,A._localMediaStreamLocallyGenerated=!1,A._rtcReady=!0,A._iceReady=!1,A._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},A._direction=null,A._local_identity=null,A._remote_identity=null,A._start_time=null,A._end_time=null,A._tones=null,A._audioMuted=!1,A._videoMuted=!1,A._localHold=!1,A._remoteHold=!1,A._sessionTimers={enabled:A._ua.configuration.session_timers,refreshMethod:A._ua.configuration.session_timers_refresh_method,defaultExpires:O.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},A._referSubscribers={},A._data={},A}return o(ge,null,[{key:"C",get:function(){return V}}]),o(ge,[{key:"isInProgress",value:function(){switch(this._status){case V.STATUS_NULL:case V.STATUS_INVITE_SENT:case V.STATUS_1XX_RECEIVED:case V.STATUS_INVITE_RECEIVED:case V.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case V.STATUS_ANSWERED:case V.STATUS_WAITING_FOR_ACK:case V.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case V.STATUS_CANCELED:case V.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(A){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=arguments.length>2?arguments[2]:void 0;B.debug("connect()");var _e=A,Se=W.cloneObject(J.eventHandlers),Me=W.cloneArray(J.extraHeaders),xe=W.cloneObject(J.mediaConstraints,{audio:!0,video:!0}),We=J.mediaStream||null,Ye=W.cloneObject(J.pcConfig,{iceServers:[]}),Ge=J.rtcConstraints||null,Be=J.rtcOfferConstraints||null;if(this._rtcOfferConstraints=Be,this._rtcAnswerConstraints=J.rtcAnswerConstraints||null,this._data=J.data||this._data,void 0===A)throw new TypeError("Not enough arguments");if(this._status!==V.STATUS_NULL)throw new M.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new M.NotSupportedError("WebRTC not supported");if(!(A=this._ua.normalizeTarget(A)))throw new TypeError("Invalid target: ".concat(_e));for(var Mt in this._sessionTimers.enabled&&W.isDecimal(J.sessionTimersExpires)&&(this._sessionTimers.defaultExpires=J.sessionTimersExpires>=O.MIN_SESSION_EXPIRES?J.sessionTimersExpires:O.SESSION_EXPIRES),Se)Object.prototype.hasOwnProperty.call(Se,Mt)&&this.on(Mt,Se[Mt]);this._from_tag=W.newTag();var Rt=J.anonymous||!1,hn={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:Rt,outbound:!0}),Rt?(hn.from_display_name="Anonymous",hn.from_uri=new de("sip","anonymous","anonymous.invalid"),Me.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),Me.push("Privacy: id")):J.fromUserName&&(hn.from_uri=new de("sip",J.fromUserName,this._ua.configuration.uri.host),Me.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),J.fromDisplayName&&(hn.from_display_name=J.fromDisplayName),Me.push("Contact: ".concat(this._contact)),Me.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&Me.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new se.InitialOutgoingInviteRequest(A,this._ua,hn,Me),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(Ye,Ge),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,we&&we(this),this._newRTCSession("local",this._request),this._sendInitialRequest(xe,Be,We)}},{key:"init_incoming",value:function(A,J){var we=this;B.debug("init_incoming()");var _e,Se=A.hasHeader("Content-Type")?A.getHeader("Content-Type").toLowerCase():void 0;A.body&&"application/sdp"!==Se?A.reply(415):(this._status=V.STATUS_INVITE_RECEIVED,this._from_tag=A.from_tag,this._id=A.call_id+this._from_tag,this._request=A,this._contact=this._ua.contact.toString(),A.hasHeader("expires")&&(_e=1e3*A.getHeader("expires")),A.to_tag=W.newTag(),this._createDialog(A,"UAS",!0)?(this._late_sdp=!A.body,this._status=V.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){A.reply(408),we._failed("local",null,O.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),_e&&(this._timers.expiresTimer=setTimeout(function(){we._status===V.STATUS_WAITING_FOR_ANSWER&&(A.reply(487),we._failed("system",null,O.causes.EXPIRES))},_e)),this._direction="incoming",this._local_identity=A.to,this._remote_identity=A.from,J&&J(this),this._newRTCSession("remote",A),this._status!==V.STATUS_TERMINATED&&(A.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))):A.reply(500,"Missing Contact header field"))}},{key:"answer",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B.debug("answer()");var we=this._request,_e=W.cloneArray(J.extraHeaders),Se=W.cloneObject(J.mediaConstraints),Me=J.mediaStream||null,xe=W.cloneObject(J.pcConfig,{iceServers:[]}),We=J.rtcConstraints||null,Ye=J.rtcAnswerConstraints||null,Ge=W.cloneObject(J.rtcOfferConstraints),Mt=!1,Rt=!1,hn=!1,gt=!1;if(this._rtcAnswerConstraints=Ye,this._rtcOfferConstraints=J.rtcOfferConstraints||null,this._data=J.data||this._data,"incoming"!==this._direction)throw new M.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==V.STATUS_WAITING_FOR_ANSWER)throw new M.InvalidStateError(this._status);if(this._sessionTimers.enabled&&W.isDecimal(J.sessionTimersExpires)&&(this._sessionTimers.defaultExpires=J.sessionTimersExpires>=O.MIN_SESSION_EXPIRES?J.sessionTimersExpires:O.SESSION_EXPIRES),this._status=V.STATUS_ANSWERED,this._createDialog(we,"UAS")){clearTimeout(this._timers.userNoAnswerTimer),_e.unshift("Contact: ".concat(this._contact));var at=we.parseSDP();Array.isArray(at.media)||(at.media=[at.media]);var jt,Ct=k(at.media);try{for(Ct.s();!(jt=Ct.n()).done;){var Kt=jt.value;"audio"===Kt.type&&(Mt=!0,(!Kt.direction||"sendrecv"===Kt.direction)&&(hn=!0)),"video"===Kt.type&&(Rt=!0,(!Kt.direction||"sendrecv"===Kt.direction)&&(gt=!0))}}catch(rn){Ct.e(rn)}finally{Ct.f()}if(Me&&!1===Se.audio){var Ft,$t=k(Me.getAudioTracks());try{for($t.s();!(Ft=$t.n()).done;)Me.removeTrack(Ft.value)}catch(rn){$t.e(rn)}finally{$t.f()}}if(Me&&!1===Se.video){var Ur,In=k(Me.getVideoTracks());try{for(In.s();!(Ur=In.n()).done;)Me.removeTrack(Ur.value)}catch(rn){In.e(rn)}finally{In.f()}}!Me&&void 0===Se.audio&&(Se.audio=hn),!Me&&void 0===Se.video&&(Se.video=gt),!Me&&!Mt&&!Ge.offerToReceiveAudio&&(Se.audio=!1),!Me&&!Rt&&!Ge.offerToReceiveVideo&&(Se.video=!1),this._createRTCConnection(xe,We),Promise.resolve().then(function(){return Me||(Se.audio||Se.video?(A._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(Se).catch(function(rn){throw A._status===V.STATUS_TERMINATED?new Error("terminated"):(we.reply(480),A._failed("local",null,O.causes.USER_DENIED_MEDIA_ACCESS),B.warn('emit "getusermediafailed" [error:%o]',rn),A.emit("getusermediafailed",rn),new Error("getUserMedia() failed"))})):void 0)}).then(function(rn){if(A._status===V.STATUS_TERMINATED)throw new Error("terminated");A._localMediaStream=rn,rn&&rn.getTracks().forEach(function(dr){A._connection.addTrack(dr,rn)})}).then(function(){if(!A._late_sdp){var rn={originator:"remote",type:"offer",sdp:we.body};B.debug('emit "sdp"'),A.emit("sdp",rn);var dr=new RTCSessionDescription({type:"offer",sdp:rn.sdp});return A._connectionPromiseQueue=A._connectionPromiseQueue.then(function(){return A._connection.setRemoteDescription(dr)}).catch(function(It){throw we.reply(488),A._failed("system",null,O.causes.WEBRTC_ERROR),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',It),A.emit("peerconnection:setremotedescriptionfailed",It),new Error("peerconnection.setRemoteDescription() failed")}),A._connectionPromiseQueue}}).then(function(){if(A._status===V.STATUS_TERMINATED)throw new Error("terminated");return A._connecting(we),A._late_sdp?A._createLocalDescription("offer",A._rtcOfferConstraints).catch(function(){throw we.reply(500),new Error("_createLocalDescription() failed")}):A._createLocalDescription("answer",Ye).catch(function(){throw we.reply(500),new Error("_createLocalDescription() failed")})}).then(function(rn){if(A._status===V.STATUS_TERMINATED)throw new Error("terminated");A._handleSessionTimersInIncomingRequest(we,_e),we.reply(200,null,_e,rn,function(){A._status=V.STATUS_WAITING_FOR_ACK,A._setInvite2xxTimer(we,rn),A._setACKTimer(),A._accepted("local")},function(){A._failed("system",null,O.causes.CONNECTION_ERROR)})}).catch(function(rn){A._status!==V.STATUS_TERMINATED&&B.warn(rn)})}else we.reply(500,"Error creating dialog")}},{key:"terminate",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B.debug("terminate()");var Me,we=J.cause||O.causes.BYE,_e=W.cloneArray(J.extraHeaders),Se=J.body,xe=J.status_code,We=J.reason_phrase;if(this._status===V.STATUS_TERMINATED)throw new M.InvalidStateError(this._status);switch(this._status){case V.STATUS_NULL:case V.STATUS_INVITE_SENT:case V.STATUS_1XX_RECEIVED:if(B.debug("canceling session"),xe&&(xe<200||xe>=700))throw new TypeError("Invalid status_code: ".concat(xe));xe&&(We=We||O.REASON_PHRASE[xe]||"",Me="SIP ;cause=".concat(xe,' ;text="').concat(We,'"')),this._status===V.STATUS_NULL||this._status===V.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=Me):this._status===V.STATUS_1XX_RECEIVED&&this._request.cancel(Me),this._status=V.STATUS_CANCELED,this._failed("local",null,O.causes.CANCELED);break;case V.STATUS_WAITING_FOR_ANSWER:case V.STATUS_ANSWERED:if(B.debug("rejecting session"),(xe=xe||480)<300||xe>=700)throw new TypeError("Invalid status_code: ".concat(xe));this._request.reply(xe,We,_e,Se),this._failed("local",null,O.causes.REJECTED);break;case V.STATUS_WAITING_FOR_ACK:case V.STATUS_CONFIRMED:if(B.debug("terminating session"),We=J.reason_phrase||O.REASON_PHRASE[xe]||"",xe&&(xe<200||xe>=700))throw new TypeError("Invalid status_code: ".concat(xe));if(xe&&_e.push("Reason: SIP ;cause=".concat(xe,'; text="').concat(We,'"')),this._status===V.STATUS_WAITING_FOR_ACK&&"incoming"===this._direction&&this._request.server_transaction.state!==N.C.STATUS_TERMINATED){var Ye=this._dialog;this.receiveRequest=function(Ge){Ge.method===O.ACK&&(A.sendRequest(O.BYE,{extraHeaders:_e,body:Se}),Ye.terminate())},this._request.server_transaction.on("stateChanged",function(){A._request.server_transaction.state===N.C.STATUS_TERMINATED&&(A.sendRequest(O.BYE,{extraHeaders:_e,body:Se}),Ye.terminate())}),this._ended("local",null,we),this._dialog=Ye,this._ua.newDialog(Ye)}else this.sendRequest(O.BYE,{extraHeaders:_e,body:Se}),this._ended("local",null,we)}}},{key:"sendDTMF",value:function(A){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B.debug("sendDTMF() | tones: %s",A);var we=0,_e=J.duration||null,Se=J.interToneGap||null,Me=J.transportType||O.DTMF_TRANSPORT.INFO;if(void 0===A)throw new TypeError("Not enough arguments");if(this._status!==V.STATUS_CONFIRMED&&this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_1XX_RECEIVED)throw new M.InvalidStateError(this._status);if(Me!==O.DTMF_TRANSPORT.INFO&&Me!==O.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(Me));if("number"==typeof A&&(A=A.toString()),!A||"string"!=typeof A||!A.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(A));if(_e&&!W.isDecimal(_e))throw new TypeError("Invalid tone duration: ".concat(_e));if(_e?_e<ae.C.MIN_DURATION?(B.debug('"duration" value is lower than the minimum allowed, setting it to '.concat(ae.C.MIN_DURATION," milliseconds")),_e=ae.C.MIN_DURATION):_e>ae.C.MAX_DURATION?(B.debug('"duration" value is greater than the maximum allowed, setting it to '.concat(ae.C.MAX_DURATION," milliseconds")),_e=ae.C.MAX_DURATION):_e=Math.abs(_e):_e=ae.C.DEFAULT_DURATION,J.duration=_e,Se&&!W.isDecimal(Se))throw new TypeError("Invalid interToneGap: ".concat(Se));if(Se?Se<ae.C.MIN_INTER_TONE_GAP?(B.debug('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(ae.C.MIN_INTER_TONE_GAP," milliseconds")),Se=ae.C.MIN_INTER_TONE_GAP):Se=Math.abs(Se):Se=ae.C.DEFAULT_INTER_TONE_GAP,Me!==O.DTMF_TRANSPORT.RFC2833)this._tones?this._tones+=A:(this._tones=A,function We(){var Ge,Ye=this;if(this._status===V.STATUS_TERMINATED||!this._tones||we>=this._tones.length)this._tones=null;else{var Be=this._tones[we];if(we+=1,","===Be)Ge=2e3;else{var Mt=new ae(this);J.eventHandlers={onFailed:function(){Ye._tones=null}},Mt.send(Be,J),Ge=_e+Se}setTimeout(We.bind(this),Ge)}}.call(this));else{var xe=this._getDTMFRTPSender();xe&&xe.insertDTMF(A=xe.toneBuffer+A,_e,Se)}}},{key:"sendInfo",value:function(A,J){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(B.debug("sendInfo()"),this._status!==V.STATUS_CONFIRMED&&this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_1XX_RECEIVED)throw new M.InvalidStateError(this._status);new De(this).send(A,J,we)}},{key:"mute",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1};B.debug("mute()");var J=!1,we=!1;!1===this._audioMuted&&A.audio&&(J=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),!1===this._videoMuted&&A.video&&(we=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),(!0===J||!0===we)&&this._onmute({audio:J,video:we})}},{key:"unmute",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0};B.debug("unmute()");var J=!1,we=!1;!0===this._audioMuted&&A.audio&&(J=!0,this._audioMuted=!1,!1===this._localHold&&this._toggleMuteAudio(!1)),!0===this._videoMuted&&A.video&&(we=!0,this._videoMuted=!1,!1===this._localHold&&this._toggleMuteVideo(!1)),(!0===J||!0===we)&&this._onunmute({audio:J,video:we})}},{key:"hold",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},we=arguments.length>1?arguments[1]:void 0;if(B.debug("hold()"),this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED||!0===this._localHold||!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var _e={succeeded:function(){we&&we()},failed:function(){A.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return J.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:_e,extraHeaders:J.extraHeaders}):this._sendReinvite({eventHandlers:_e,extraHeaders:J.extraHeaders}),!0}},{key:"unhold",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},we=arguments.length>1?arguments[1]:void 0;if(B.debug("unhold()"),this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED||!1===this._localHold||!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var _e={succeeded:function(){we&&we()},failed:function(){A.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return J.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:_e,extraHeaders:J.extraHeaders}):this._sendReinvite({eventHandlers:_e,extraHeaders:J.extraHeaders}),!0}},{key:"renegotiate",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},we=arguments.length>1?arguments[1]:void 0;B.debug("renegotiate()");var _e=J.rtcOfferConstraints||null;if(this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED||!this._isReadyToReOffer())return!1;var Se={succeeded:function(){we&&we()},failed:function(){A.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),J.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:Se,rtcOfferConstraints:_e,extraHeaders:J.extraHeaders}):this._sendReinvite({eventHandlers:Se,rtcOfferConstraints:_e,extraHeaders:J.extraHeaders}),!0}},{key:"refer",value:function(A,J){var we=this;B.debug("refer()");var _e=A;if(this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED)return!1;if(!(A=this._ua.normalizeTarget(A)))throw new TypeError("Invalid target: ".concat(_e));var Se=new ee(this);Se.sendRefer(A,J);var Me=Se.id;return this._referSubscribers[Me]=Se,Se.on("requestFailed",function(){delete we._referSubscribers[Me]}),Se.on("accepted",function(){delete we._referSubscribers[Me]}),Se.on("failed",function(){delete we._referSubscribers[Me]}),Se}},{key:"sendRequest",value:function(A,J){return B.debug("sendRequest()"),this._dialog.sendRequest(A,J)}},{key:"receiveRequest",value:function(A){var J=this;if(B.debug("receiveRequest()"),A.method===O.CANCEL)(this._status===V.STATUS_WAITING_FOR_ANSWER||this._status===V.STATUS_ANSWERED)&&(this._status=V.STATUS_CANCELED,this._request.reply(487),this._failed("remote",A,O.causes.CANCELED));else switch(A.method){case O.ACK:if(this._status!==V.STATUS_WAITING_FOR_ACK)return;if(this._status=V.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!A.body){this.terminate({cause:O.causes.MISSING_SDP,status_code:400});break}var we={originator:"remote",type:"answer",sdp:A.body};B.debug('emit "sdp"'),this.emit("sdp",we);var _e=new RTCSessionDescription({type:"answer",sdp:we.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return J._connection.setRemoteDescription(_e)}).then(function(){J._is_confirmed||J._confirmed("remote",A)}).catch(function(Me){J.terminate({cause:O.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Me),J.emit("peerconnection:setremotedescriptionfailed",Me)})}else this._is_confirmed||this._confirmed("remote",A);break;case O.BYE:this._status===V.STATUS_CONFIRMED||this._status===V.STATUS_WAITING_FOR_ACK?(A.reply(200),this._ended("remote",A,O.causes.BYE)):this._status===V.STATUS_INVITE_RECEIVED||this._status===V.STATUS_WAITING_FOR_ANSWER?(A.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",A,O.causes.BYE)):A.reply(403,"Wrong Status");break;case O.INVITE:this._status===V.STATUS_CONFIRMED?A.hasHeader("replaces")?this._receiveReplaces(A):this._receiveReinvite(A):A.reply(403,"Wrong Status");break;case O.INFO:if(this._status===V.STATUS_1XX_RECEIVED||this._status===V.STATUS_WAITING_FOR_ANSWER||this._status===V.STATUS_ANSWERED||this._status===V.STATUS_WAITING_FOR_ACK||this._status===V.STATUS_CONFIRMED){var Se=A.hasHeader("Content-Type")?A.getHeader("Content-Type").toLowerCase():void 0;Se&&Se.match(/^application\/dtmf-relay/i)?new ae(this).init_incoming(A):void 0!==Se?new De(this).init_incoming(A):A.reply(415)}else A.reply(403,"Wrong Status");break;case O.UPDATE:this._status===V.STATUS_CONFIRMED?this._receiveUpdate(A):A.reply(403,"Wrong Status");break;case O.REFER:this._status===V.STATUS_CONFIRMED?this._receiveRefer(A):A.reply(403,"Wrong Status");break;case O.NOTIFY:this._status===V.STATUS_CONFIRMED?this._receiveNotify(A):A.reply(403,"Wrong Status");break;default:A.reply(501)}}},{key:"onTransportError",value:function(){B.warn("onTransportError()"),this._status!==V.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:O.causes.CONNECTION_ERROR,cause:O.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){B.warn("onRequestTimeout()"),this._status!==V.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:O.causes.REQUEST_TIMEOUT,cause:O.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){B.warn("onDialogError()"),this._status!==V.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:O.causes.DIALOG_ERROR,cause:O.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(A){B.debug("newDTMF()"),this.emit("newDTMF",A)}},{key:"newInfo",value:function(A){B.debug("newInfo()"),this.emit("newInfo",A)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?!0!==this._dialog.uac_pending_reply&&!0!==this._dialog.uas_pending_reply||(B.debug("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):(B.debug("_isReadyToReOffer() | session not established yet"),!1):(B.debug("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(B.debug("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(B.debug("close() | closing local MediaStream"),W.closeMediaStream(this._localMediaStream)),this._status!==V.STATUS_TERMINATED){if(this._status=V.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(_e){B.warn("close() | error closing the RTCPeerConnection: %o",_e)}for(var A in this._timers)Object.prototype.hasOwnProperty.call(this._timers,A)&&clearTimeout(this._timers[A]);for(var J in clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog),this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,J)&&(this._earlyDialogs[J].terminate(),delete this._earlyDialogs[J]);for(var we in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,we)&&delete this._referSubscribers[we];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(A,J){var we=q.T1;this._timers.invite2xxTimer=setTimeout(function _e(){this._status===V.STATUS_WAITING_FOR_ACK&&(A.reply(200,null,["Contact: ".concat(this._contact)],J),we<q.T2&&(we*=2)>q.T2&&(we=q.T2),this._timers.invite2xxTimer=setTimeout(_e.bind(this),we))}.bind(this),we)}},{key:"_setACKTimer",value:function(){var A=this;this._timers.ackTimer=setTimeout(function(){A._status===V.STATUS_WAITING_FOR_ACK&&(B.debug("no ACK received, terminating the session"),clearTimeout(A._timers.invite2xxTimer),A.sendRequest(O.BYE),A._ended("remote",null,O.causes.NO_ACK))},q.TIMER_H)}},{key:"_createRTCConnection",value:function(A,J){var we=this;this._connection=new RTCPeerConnection(A,J),this._connection.addEventListener("iceconnectionstatechange",function(){"failed"===we._connection.iceConnectionState&&we.terminate({cause:O.causes.RTP_TIMEOUT,status_code:408,reason_phrase:O.causes.RTP_TIMEOUT})}),B.debug('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(A,J){var we=this;if(B.debug("createLocalDescription()"),"offer"!==A&&"answer"!==A)throw new Error('createLocalDescription() | invalid type "'.concat(A,'"'));var _e=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return"offer"===A?_e.createOffer(J).catch(function(Se){return B.warn('emit "peerconnection:createofferfailed" [error:%o]',Se),we.emit("peerconnection:createofferfailed",Se),Promise.reject(Se)}):_e.createAnswer(J).catch(function(Se){return B.warn('emit "peerconnection:createanswerfailed" [error:%o]',Se),we.emit("peerconnection:createanswerfailed",Se),Promise.reject(Se)})}).then(function(Se){return _e.setLocalDescription(Se).catch(function(Me){return we._rtcReady=!0,B.warn('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',Me),we.emit("peerconnection:setlocaldescriptionfailed",Me),Promise.reject(Me)})}).then(function(){if("complete"===_e.iceGatheringState&&(!J||!J.iceRestart)||"gathering"===_e.iceGatheringState&&we._iceReady){we._rtcReady=!0;var Me={originator:"local",type:A,sdp:_e.localDescription.sdp};return B.debug('emit "sdp"'),we.emit("sdp",Me),Promise.resolve(Me.sdp)}return new Promise(function(xe){var Ye,Ge,We=!1;we._iceReady=!1;var Be=function(){if(!We){_e.removeEventListener("icecandidate",Ye),_e.removeEventListener("icegatheringstatechange",Ge),We=!0,we._rtcReady=!0,we._iceReady=!0;var Rt={originator:"local",type:A,sdp:_e.localDescription.sdp};B.debug('emit "sdp"'),we.emit("sdp",Rt),xe(Rt.sdp)}};_e.addEventListener("icecandidate",Ye=function(Rt){var hn=Rt.candidate;hn?we.emit("icecandidate",{candidate:hn,ready:Be}):Be()}),_e.addEventListener("icegatheringstatechange",Ge=function(){"complete"===_e.iceGatheringState&&Be()})})})}},{key:"_createDialog",value:function(A,J,we){var Me=A.call_id+("UAS"===J?A.to_tag:A.from_tag)+("UAS"===J?A.from_tag:A.to_tag),xe=this._earlyDialogs[Me];if(we)return!!xe||((xe=new me(this,A,J,me.C.STATUS_EARLY)).error?(B.debug(xe.error),this._failed("remote",A,O.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[Me]=xe,!0));if(this._from_tag=A.from_tag,this._to_tag=A.to_tag,xe)return xe.update(A,J),this._dialog=xe,delete this._earlyDialogs[Me],!0;var We=new me(this,A,J);return We.error?(B.debug(We.error),this._failed("remote",A,O.causes.INTERNAL_ERROR),!1):(this._dialog=We,!0)}},{key:"_receiveReinvite",value:function(A){var J=this;B.debug("receiveReinvite()");var we=A.hasHeader("Content-Type")?A.getHeader("Content-Type").toLowerCase():void 0,_e={request:A,callback:void 0,reject:function Me(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Se=!0;var Ye=We.status_code||403,Ge=We.reason_phrase||"",Be=W.cloneArray(We.extraHeaders);if(this._status!==V.STATUS_CONFIRMED)return!1;if(Ye<300||Ye>=700)throw new TypeError("Invalid status_code: ".concat(Ye));A.reply(Ye,Ge,Be)}.bind(this)},Se=!1;if(this.emit("reinvite",_e),!Se){if(this._late_sdp=!1,!A.body)return this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),void(this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return J._createLocalDescription("offer",J._rtcOfferConstraints)}).then(function(We){xe.call(J,We)}).catch(function(){A.reply(500)}));if("application/sdp"!==we)return B.debug("invalid Content-Type"),void A.reply(415);this._processInDialogSdpOffer(A).then(function(We){J._status!==V.STATUS_TERMINATED&&xe.call(J,We)}).catch(function(We){B.warn(We)})}function xe(We){var Ye=this,Ge=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(A,Ge),this._late_sdp&&(We=this._mangleOffer(We)),A.reply(200,null,Ge,We,function(){Ye._status=V.STATUS_WAITING_FOR_ACK,Ye._setInvite2xxTimer(A,We),Ye._setACKTimer()}),"function"==typeof _e.callback&&_e.callback()}}},{key:"_receiveUpdate",value:function(A){var J=this;B.debug("receiveUpdate()");var we=A.hasHeader("Content-Type")?A.getHeader("Content-Type").toLowerCase():void 0,_e={request:A,callback:void 0,reject:function Me(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Se=!0;var Ye=We.status_code||403,Ge=We.reason_phrase||"",Be=W.cloneArray(We.extraHeaders);if(this._status!==V.STATUS_CONFIRMED)return!1;if(Ye<300||Ye>=700)throw new TypeError("Invalid status_code: ".concat(Ye));A.reply(Ye,Ge,Be)}.bind(this)},Se=!1;if(this.emit("update",_e),!Se)if(A.body){if("application/sdp"!==we)return B.debug("invalid Content-Type"),void A.reply(415);this._processInDialogSdpOffer(A).then(function(We){J._status!==V.STATUS_TERMINATED&&xe.call(J,We)}).catch(function(We){B.warn(We)})}else xe.call(this,null);function xe(We){var Ye=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(A,Ye),A.reply(200,null,Ye,We),"function"==typeof _e.callback&&_e.callback()}}},{key:"_processInDialogSdpOffer",value:function(A){var J=this;B.debug("_processInDialogSdpOffer()");var Me,we=A.parseSDP(),_e=!1,Se=k(we.media);try{for(Se.s();!(Me=Se.n()).done;){var xe=Me.value;if(-1!==ce.indexOf(xe.type)){var We=xe.direction||we.direction||"sendrecv";if("sendonly"!==We&&"inactive"!==We){_e=!1;break}_e=!0}}}catch(Be){Se.e(Be)}finally{Se.f()}var Ye={originator:"remote",type:"offer",sdp:A.body};B.debug('emit "sdp"'),this.emit("sdp",Ye);var Ge=new RTCSessionDescription({type:"offer",sdp:Ye.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(J._status===V.STATUS_TERMINATED)throw new Error("terminated");return J._connection.setRemoteDescription(Ge).catch(function(Be){throw A.reply(488),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Be),J.emit("peerconnection:setremotedescriptionfailed",Be),Be})}).then(function(){if(J._status===V.STATUS_TERMINATED)throw new Error("terminated");!0===J._remoteHold&&!1===_e?(J._remoteHold=!1,J._onunhold("remote")):!1===J._remoteHold&&!0===_e&&(J._remoteHold=!0,J._onhold("remote"))}).then(function(){if(J._status===V.STATUS_TERMINATED)throw new Error("terminated");return J._createLocalDescription("answer",J._rtcAnswerConstraints).catch(function(Be){throw A.reply(500),B.warn('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',Be),Be})}).catch(function(Be){B.warn("_processInDialogSdpOffer() failed [error: %o]",Be)}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(A){var J=this;if(B.debug("receiveRefer()"),!A.refer_to)return B.debug("no Refer-To header field present in REFER"),void A.reply(400);if(A.refer_to.uri.scheme!==O.SIP)return B.debug("Refer-To header field points to a non-SIP URI scheme"),void A.reply(416);A.reply(202);var we=new Ce(this,A.cseq);function _e(Me){var xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Me="function"==typeof Me?Me:null,this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED)return!1;var We=new ge(this._ua);if(We.on("progress",function(Ge){var Be=Ge.response;we.notify(Be.status_code,Be.reason_phrase)}),We.on("accepted",function(Ge){var Be=Ge.response;we.notify(Be.status_code,Be.reason_phrase)}),We.on("_failed",function(Ge){var Be=Ge.message,Mt=Ge.cause;Be?we.notify(Be.status_code,Be.reason_phrase):we.notify(487,Mt)}),A.refer_to.uri.hasHeader("replaces")){var Ye=decodeURIComponent(A.refer_to.uri.getHeader("replaces"));xe.extraHeaders=W.cloneArray(xe.extraHeaders),xe.extraHeaders.push("Replaces: ".concat(Ye))}We.connect(A.refer_to.uri.toAor(),xe,Me)}function Se(){we.notify(603)}B.debug('emit "refer"'),this.emit("refer",{request:A,accept:function(xe,We){_e.call(J,xe,We)},reject:function(){Se.call(J)}})}},{key:"_receiveNotify",value:function(A){if("refer"===(B.debug("receiveNotify()"),A.event||A.reply(400),A.event.event)){var we;if(A.event.params&&A.event.params.id)we=this._referSubscribers[A.event.params.id];else{if(1!==Object.keys(this._referSubscribers).length)return void A.reply(400,"Missing event id parameter");we=this._referSubscribers[Object.keys(this._referSubscribers)[0]]}if(!we)return void A.reply(481,"Subscription does not exist");we.receiveNotify(A),A.reply(200)}else A.reply(489)}},{key:"_receiveReplaces",value:function(A){var J=this;function we(Se){var Me=this;if(this._status!==V.STATUS_WAITING_FOR_ACK&&this._status!==V.STATUS_CONFIRMED)return!1;var xe=new ge(this._ua);xe.on("confirmed",function(){Me.terminate()}),xe.init_incoming(A,Se)}function _e(){B.debug("Replaced INVITE rejected by the user"),A.reply(486)}B.debug("receiveReplaces()"),this.emit("replaces",{request:A,accept:function(Me){we.call(J,Me)},reject:function(){_e.call(J)}})}},{key:"_sendInitialRequest",value:function(A,J,we){var _e=this,Se=new ne(this._ua,this._request,{onRequestTimeout:function(){_e.onRequestTimeout()},onTransportError:function(){_e.onTransportError()},onAuthenticated:function(xe){_e._request=xe},onReceiveResponse:function(xe){_e._receiveInviteResponse(xe)}});Promise.resolve().then(function(){return we||(A.audio||A.video?(_e._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(A).catch(function(Me){throw _e._status===V.STATUS_TERMINATED?new Error("terminated"):(_e._failed("local",null,O.causes.USER_DENIED_MEDIA_ACCESS),B.warn('emit "getusermediafailed" [error:%o]',Me),_e.emit("getusermediafailed",Me),Me)})):void 0)}).then(function(Me){if(_e._status===V.STATUS_TERMINATED)throw new Error("terminated");return _e._localMediaStream=Me,Me&&Me.getTracks().forEach(function(xe){_e._connection.addTrack(xe,Me)}),_e._connecting(_e._request),_e._createLocalDescription("offer",J).catch(function(xe){throw _e._failed("local",null,O.causes.WEBRTC_ERROR),xe})}).then(function(Me){if(_e._is_canceled||_e._status===V.STATUS_TERMINATED)throw new Error("terminated");_e._request.body=Me,_e._status=V.STATUS_INVITE_SENT,B.debug('emit "sending" [request:%o]',_e._request),_e.emit("sending",{request:_e._request}),Se.send()}).catch(function(Me){_e._status!==V.STATUS_TERMINATED&&B.warn(Me)})}},{key:"_getDTMFRTPSender",value:function(){var A=this._connection.getSenders().find(function(J){return J.track&&"audio"===J.track.kind});if(A&&A.dtmf)return A.dtmf;B.warn("sendDTMF() | no local audio track to send DTMF with")}},{key:"_receiveInviteResponse",value:function(A){var J=this;if(B.debug("receiveInviteResponse()"),this._dialog&&A.status_code>=200&&A.status_code<=299){if(this._dialog.id.call_id===A.call_id&&this._dialog.id.local_tag===A.from_tag&&this._dialog.id.remote_tag===A.to_tag)return void this.sendRequest(O.ACK);var we=new me(this,A,"UAC");return void 0!==we.error?void B.debug(we.error):(this.sendRequest(O.ACK),void this.sendRequest(O.BYE))}if(this._is_canceled)A.status_code>=100&&A.status_code<200?this._request.cancel(this._cancel_reason):A.status_code>=200&&A.status_code<299&&this._acceptAndTerminate(A);else if(this._status===V.STATUS_INVITE_SENT||this._status===V.STATUS_1XX_RECEIVED)switch(!0){case/^100$/.test(A.status_code):this._status=V.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(A.status_code):if(!A.to_tag){B.debug("1xx response received without to tag");break}if(A.hasHeader("contact")&&!this._createDialog(A,"UAC",!0))break;if(this._status=V.STATUS_1XX_RECEIVED,!A.body){this._progress("remote",A);break}var _e={originator:"remote",type:"answer",sdp:A.body};B.debug('emit "sdp"'),this.emit("sdp",_e);var Se=new RTCSessionDescription({type:"answer",sdp:_e.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return J._connection.setRemoteDescription(Se)}).then(function(){return J._progress("remote",A)}).catch(function(Ye){B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Ye),J.emit("peerconnection:setremotedescriptionfailed",Ye)});break;case/^2[0-9]{2}$/.test(A.status_code):if(this._status=V.STATUS_CONFIRMED,!A.body){this._acceptAndTerminate(A,400,O.causes.MISSING_SDP),this._failed("remote",A,O.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(A,"UAC"))break;var Me={originator:"remote",type:"answer",sdp:A.body};B.debug('emit "sdp"'),this.emit("sdp",Me);var xe=new RTCSessionDescription({type:"answer",sdp:Me.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if("stable"===J._connection.signalingState)return J._connection.createOffer(J._rtcOfferConstraints).then(function(Ye){return J._connection.setLocalDescription(Ye)}).catch(function(Ye){J._acceptAndTerminate(A,500,Ye.toString()),J._failed("local",A,O.causes.WEBRTC_ERROR)})}).then(function(){J._connection.setRemoteDescription(xe).then(function(){J._handleSessionTimersInIncomingResponse(A),J._accepted("remote",A),J.sendRequest(O.ACK),J._confirmed("local",null)}).catch(function(Ye){J._acceptAndTerminate(A,488,"Not Acceptable Here"),J._failed("remote",A,O.causes.BAD_MEDIA_DESCRIPTION),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Ye),J.emit("peerconnection:setremotedescriptionfailed",Ye)})});break;default:var We=W.sipErrorCause(A.status_code);this._failed("remote",A,We)}}},{key:"_sendReinvite",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B.debug("sendReinvite()");var we=W.cloneArray(J.extraHeaders),_e=W.cloneObject(J.eventHandlers),Se=J.rtcOfferConstraints||this._rtcOfferConstraints||null,Me=!1;function xe(Ye){var Ge=this;if(this._status!==V.STATUS_TERMINATED&&(this.sendRequest(O.ACK),!Me)){if(this._handleSessionTimersInIncomingResponse(Ye),!Ye.body)return void We.call(this);if(!Ye.hasHeader("Content-Type")||"application/sdp"!==Ye.getHeader("Content-Type").toLowerCase())return void We.call(this);var Be={originator:"remote",type:"answer",sdp:Ye.body};B.debug('emit "sdp"'),this.emit("sdp",Be);var Mt=new RTCSessionDescription({type:"answer",sdp:Be.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return Ge._connection.setRemoteDescription(Mt)}).then(function(){_e.succeeded&&_e.succeeded(Ye)}).catch(function(Rt){We.call(Ge),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Rt),Ge.emit("peerconnection:setremotedescriptionfailed",Rt)})}}function We(Ye){_e.failed&&_e.failed(Ye)}we.push("Contact: ".concat(this._contact)),we.push("Content-Type: application/sdp"),this._sessionTimers.running&&we.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return A._createLocalDescription("offer",Se)}).then(function(Ye){var Ge={originator:"local",type:"offer",sdp:Ye=A._mangleOffer(Ye)};B.debug('emit "sdp"'),A.emit("sdp",Ge),A.sendRequest(O.INVITE,{extraHeaders:we,body:Ye,eventHandlers:{onSuccessResponse:function(Mt){xe.call(A,Mt),Me=!0},onErrorResponse:function(Mt){We.call(A,Mt)},onTransportError:function(){A.onTransportError()},onRequestTimeout:function(){A.onRequestTimeout()},onDialogError:function(){A.onDialogError()}}})}).catch(function(){We()})}},{key:"_sendUpdate",value:function(){var A=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B.debug("sendUpdate()");var we=W.cloneArray(J.extraHeaders),_e=W.cloneObject(J.eventHandlers),Se=J.rtcOfferConstraints||this._rtcOfferConstraints||null,Me=J.sdpOffer||!1,xe=!1;function We(Ge){var Be=this;if(this._status!==V.STATUS_TERMINATED&&!xe)if(this._handleSessionTimersInIncomingResponse(Ge),Me){if(!Ge.body)return void Ye.call(this);if(!Ge.hasHeader("Content-Type")||"application/sdp"!==Ge.getHeader("Content-Type").toLowerCase())return void Ye.call(this);var Mt={originator:"remote",type:"answer",sdp:Ge.body};B.debug('emit "sdp"'),this.emit("sdp",Mt);var Rt=new RTCSessionDescription({type:"answer",sdp:Mt.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return Be._connection.setRemoteDescription(Rt)}).then(function(){_e.succeeded&&_e.succeeded(Ge)}).catch(function(hn){Ye.call(Be),B.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',hn),Be.emit("peerconnection:setremotedescriptionfailed",hn)})}else _e.succeeded&&_e.succeeded(Ge)}function Ye(Ge){_e.failed&&_e.failed(Ge)}we.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&we.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),Me?(we.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return A._createLocalDescription("offer",Se)}).then(function(Ge){var Be={originator:"local",type:"offer",sdp:Ge=A._mangleOffer(Ge)};B.debug('emit "sdp"'),A.emit("sdp",Be),A.sendRequest(O.UPDATE,{extraHeaders:we,body:Ge,eventHandlers:{onSuccessResponse:function(Rt){We.call(A,Rt),xe=!0},onErrorResponse:function(Rt){Ye.call(A,Rt)},onTransportError:function(){A.onTransportError()},onRequestTimeout:function(){A.onRequestTimeout()},onDialogError:function(){A.onDialogError()}}})}).catch(function(){Ye.call(A)})):this.sendRequest(O.UPDATE,{extraHeaders:we,eventHandlers:{onSuccessResponse:function(Be){We.call(A,Be)},onErrorResponse:function(Be){Ye.call(A,Be)},onTransportError:function(){A.onTransportError()},onRequestTimeout:function(){A.onRequestTimeout()},onDialogError:function(){A.onDialogError()}}})}},{key:"_acceptAndTerminate",value:function(A,J,we){B.debug("acceptAndTerminate()");var _e=[];J&&(we=we||O.REASON_PHRASE[J]||"",_e.push("Reason: SIP ;cause=".concat(J,'; text="').concat(we,'"'))),(this._dialog||this._createDialog(A,"UAC"))&&(this.sendRequest(O.ACK),this.sendRequest(O.BYE,{extraHeaders:_e})),this._status=V.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(A){if(!this._localHold&&!this._remoteHold)return A;if(A=L.parse(A),this._localHold&&!this._remoteHold){B.debug("mangleOffer() | me on hold, mangling offer");var we,J=k(A.media);try{for(J.s();!(we=J.n()).done;){var _e=we.value;-1!==ce.indexOf(_e.type)&&(_e.direction?"sendrecv"===_e.direction?_e.direction="sendonly":"recvonly"===_e.direction&&(_e.direction="inactive"):_e.direction="sendonly")}}catch(Be){J.e(Be)}finally{J.f()}}else if(this._localHold&&this._remoteHold){B.debug("mangleOffer() | both on hold, mangling offer");var Me,Se=k(A.media);try{for(Se.s();!(Me=Se.n()).done;){var xe=Me.value;-1!==ce.indexOf(xe.type)&&(xe.direction="inactive")}}catch(Be){Se.e(Be)}finally{Se.f()}}else if(this._remoteHold){B.debug("mangleOffer() | remote on hold, mangling offer");var Ye,We=k(A.media);try{for(We.s();!(Ye=We.n()).done;){var Ge=Ye.value;-1!==ce.indexOf(Ge.type)&&(Ge.direction?"sendrecv"===Ge.direction?Ge.direction="recvonly":"recvonly"===Ge.direction&&(Ge.direction="inactive"):Ge.direction="recvonly")}}catch(Be){We.e(Be)}finally{We.f()}}return L.write(A)}},{key:"_setLocalMediaStatus",value:function(){var A=!0,J=!0;(this._localHold||this._remoteHold)&&(A=!1,J=!1),this._audioMuted&&(A=!1),this._videoMuted&&(J=!1),this._toggleMuteAudio(!A),this._toggleMuteVideo(!J)}},{key:"_handleSessionTimersInIncomingRequest",value:function(A,J){var we;this._sessionTimers.enabled&&(A.session_expires&&A.session_expires>=O.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=A.session_expires,we=A.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,we="uas"),J.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(we)),this._sessionTimers.refresher="uas"===we,this._runSessionTimer())}},{key:"_handleSessionTimersInIncomingResponse",value:function(A){var J;this._sessionTimers.enabled&&(A.session_expires&&A.session_expires>=O.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=A.session_expires,J=A.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,J="uac"),this._sessionTimers.refresher="uac"===J,this._runSessionTimer())}},{key:"_runSessionTimer",value:function(){var A=this,J=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.timer=this._sessionTimers.refresher?setTimeout(function(){A._status!==V.STATUS_TERMINATED&&A._isReadyToReOffer()&&(B.debug("runSessionTimer() | sending session refresh request"),A._sessionTimers.refreshMethod===O.UPDATE?A._sendUpdate():A._sendReinvite())},500*J):setTimeout(function(){A._status!==V.STATUS_TERMINATED&&(B.warn("runSessionTimer() | timer expired, terminating the session"),A.terminate({cause:O.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},1100*J)}},{key:"_toggleMuteAudio",value:function(A){var _e,we=k(this._connection.getSenders().filter(function(Me){return Me.track&&"audio"===Me.track.kind}));try{for(we.s();!(_e=we.n()).done;)_e.value.track.enabled=!A}catch(Me){we.e(Me)}finally{we.f()}}},{key:"_toggleMuteVideo",value:function(A){var _e,we=k(this._connection.getSenders().filter(function(Me){return Me.track&&"video"===Me.track.kind}));try{for(we.s();!(_e=we.n()).done;)_e.value.track.enabled=!A}catch(Me){we.e(Me)}finally{we.f()}}},{key:"_newRTCSession",value:function(A,J){B.debug("newRTCSession()"),this._ua.newRTCSession(this,{originator:A,session:this,request:J})}},{key:"_connecting",value:function(A){B.debug("session connecting"),B.debug('emit "connecting"'),this.emit("connecting",{request:A})}},{key:"_progress",value:function(A,J){B.debug("session progress"),B.debug('emit "progress"'),this.emit("progress",{originator:A,response:J||null})}},{key:"_accepted",value:function(A,J){B.debug("session accepted"),this._start_time=new Date,B.debug('emit "accepted"'),this.emit("accepted",{originator:A,response:J||null})}},{key:"_confirmed",value:function(A,J){B.debug("session confirmed"),this._is_confirmed=!0,B.debug('emit "confirmed"'),this.emit("confirmed",{originator:A,ack:J||null})}},{key:"_ended",value:function(A,J,we){B.debug("session ended"),this._end_time=new Date,this._close(),B.debug('emit "ended"'),this.emit("ended",{originator:A,message:J||null,cause:we})}},{key:"_failed",value:function(A,J,we){B.debug("session failed"),B.debug('emit "_failed"'),this.emit("_failed",{originator:A,message:J||null,cause:we}),this._close(),B.debug('emit "failed"'),this.emit("failed",{originator:A,message:J||null,cause:we})}},{key:"_onhold",value:function(A){B.debug("session onhold"),this._setLocalMediaStatus(),B.debug('emit "hold"'),this.emit("hold",{originator:A})}},{key:"_onunhold",value:function(A){B.debug("session onunhold"),this._setLocalMediaStatus(),B.debug('emit "unhold"'),this.emit("unhold",{originator:A})}},{key:"_onmute",value:function(A){var J=A.audio,we=A.video;B.debug("session onmute"),this._setLocalMediaStatus(),B.debug('emit "muted"'),this.emit("muted",{audio:J,video:we})}},{key:"_onunmute",value:function(A){var J=A.audio,we=A.video;B.debug("session onunmute"),this._setLocalMediaStatus(),B.debug('emit "unmuted"'),this.emit("unmuted",{audio:J,video:we})}},{key:"C",get:function(){return V}},{key:"causes",get:function(){return O.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(A){this._data=A}},{key:"status",get:function(){return this._status}}]),ge}(F)},4563:(Le,K,H)=>{"use strict";function Y(M){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(M)}function fe(M,N){for(var W=0;W<N.length;W++){var q=N[W];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,q.key,q)}}function G(M,N){return(G=Object.setPrototypeOf||function(q,se){return q.__proto__=se,q})(M,N)}function E(M){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(M)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(7471),L=H(6886),$=new d("RTCSession:DTMF"),O={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};Le.exports=function(M){!function ie(M,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(N&&N.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),N&&G(M,N)}(W,M);var N=function o(M){var N=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var se,q=E(M);if(N){var me=E(this).constructor;se=Reflect.construct(q,arguments,me)}else se=q.apply(this,arguments);return function m(M,N){return!N||"object"!==Y(N)&&"function"!=typeof N?function x(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(M):N}(this,se)}}(W);function W(q){var se;return function k(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,W),(se=N.call(this))._session=q,se._direction=null,se._tone=null,se._duration=null,se._request=null,se}return function v(M,N,W){N&&fe(M.prototype,N),W&&fe(M,W)}(W,[{key:"send",value:function(se){var me=this,ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===se)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new F.InvalidStateError(this._session.status);var ae=L.cloneArray(ne.extraHeaders);if(this.eventHandlers=L.cloneObject(ne.eventHandlers),"string"==typeof se)se=se.toUpperCase();else{if("number"!=typeof se)throw new TypeError("Invalid tone: ".concat(se));se=se.toString()}if(!se.match(/^[0-9A-DR#*]$/))throw new TypeError("Invalid tone: ".concat(se));this._tone=se,this._duration=ne.duration,ae.push("Content-Type: application/dtmf-relay");var De="Signal=".concat(this._tone,"\r\n");De+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(T.INFO,{extraHeaders:ae,eventHandlers:{onSuccessResponse:function(ee){me.emit("succeeded",{originator:"remote",response:ee})},onErrorResponse:function(ee){me.eventHandlers.onFailed&&me.eventHandlers.onFailed(),me.emit("failed",{originator:"remote",response:ee})},onRequestTimeout:function(){me._session.onRequestTimeout()},onTransportError:function(){me._session.onTransportError()},onDialogError:function(){me._session.onDialogError()}},body:De})}},{key:"init_incoming",value:function(se){var me=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,ne=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=se,se.reply(200),se.body){var ae=se.body.split("\n");ae.length>=1&&me.test(ae[0])&&(this._tone=ae[0].replace(me,"$2")),ae.length>=2&&ne.test(ae[1])&&(this._duration=parseInt(ae[1].replace(ne,"$2"),10))}this._duration||(this._duration=O.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:se}):$.debug("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}]),W}(w),Le.exports.C=O},9972:(Le,K,H)=>{"use strict";function Y(L){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function fe(L,$){for(var O=0;O<$.length;O++){var M=$[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(L,M.key,M)}}function G(L,$){return(G=Object.setPrototypeOf||function(M,N){return M.__proto__=N,M})(L,$)}function E(L){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}var w=H(9069).EventEmitter,d=H(5428),T=H(7471),F=H(6886);Le.exports=function(L){!function ie(L,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create($&&$.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),$&&G(L,$)}(O,L);var $=function o(L){var $=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var N,M=E(L);if($){var W=E(this).constructor;N=Reflect.construct(M,arguments,W)}else N=M.apply(this,arguments);return function m(L,$){return!$||"object"!==Y($)&&"function"!=typeof $?function x(L){if(void 0===L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(L):$}(this,N)}}(O);function O(M){var N;return function k(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")}(this,O),(N=$.call(this))._session=M,N._direction=null,N._contentType=null,N._body=null,N}return function v(L,$,O){$&&fe(L.prototype,$),O&&fe(L,O)}(O,[{key:"send",value:function(N,W){var q=this,se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._direction="outgoing",void 0===N)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new T.InvalidStateError(this._session.status);this._contentType=N,this._body=W;var me=F.cloneArray(se.extraHeaders);me.push("Content-Type: ".concat(N)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(d.INFO,{extraHeaders:me,eventHandlers:{onSuccessResponse:function(ae){q.emit("succeeded",{originator:"remote",response:ae})},onErrorResponse:function(ae){q.emit("failed",{originator:"remote",response:ae})},onTransportError:function(){q._session.onTransportError()},onRequestTimeout:function(){q._session.onRequestTimeout()},onDialogError:function(){q._session.onDialogError()}},body:W})}},{key:"init_incoming",value:function(N){this._direction="incoming",this.request=N,N.reply(200),this._contentType=N.hasHeader("Content-Type")?N.getHeader("Content-Type").toLowerCase():void 0,this._body=N.body,this._session.newInfo({originator:"remote",info:this,request:N})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}]),O}(w)},4670:(Le,K,H)=>{"use strict";function k(m,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}var v=H(8843),ie=H(5428),G=new v("RTCSession:ReferNotifier"),o={event_type:"refer",body_type:"message/sipfrag;version=2.0",expires:300};Le.exports=function(){function m(x,C,E){(function Y(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,m),this._session=x,this._id=C,this._expires=E||o.expires,this._active=!0,this.notify(100)}return function fe(m,x,C){x&&k(m.prototype,x),C&&k(m,C)}(m,[{key:"notify",value:function(C,E){var w;G.debug("notify()"),!1!==this._active&&(E=E||ie.REASON_PHRASE[C]||"",w=C>=200?"terminated;reason=noresource":"active;expires=".concat(this._expires),this._session.sendRequest(ie.NOTIFY,{extraHeaders:["Event: ".concat(o.event_type,";id=").concat(this._id),"Subscription-State: ".concat(w),"Content-Type: ".concat(o.body_type)],body:"SIP/2.0 ".concat(C," ").concat(E),eventHandlers:{onErrorResponse:function(){this._active=!1}}}))}}]),m}()},5236:(Le,K,H)=>{"use strict";function Y(O){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(O)}function fe(O,M){for(var N=0;N<M.length;N++){var W=M[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(O,W.key,W)}}function G(O,M){return(G=Object.setPrototypeOf||function(W,q){return W.__proto__=q,W})(O,M)}function E(O){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(O)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(6416),L=H(6886),$=new d("RTCSession:ReferSubscriber");Le.exports=function(O){!function ie(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),M&&G(O,M)}(N,O);var M=function o(O){var M=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var q,W=E(O);if(M){var se=E(this).constructor;q=Reflect.construct(W,arguments,se)}else q=W.apply(this,arguments);return function m(O,M){return!M||"object"!==Y(M)&&"function"!=typeof M?function x(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O):M}(this,q)}}(N);function N(W){var q;return function k(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,N),(q=M.call(this))._id=null,q._session=W,q}return function v(O,M,N){M&&fe(O.prototype,M),N&&fe(O,N)}(N,[{key:"sendRefer",value:function(q){var se=this,me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$.debug("sendRefer()");var ne=L.cloneArray(me.extraHeaders),ae=L.cloneObject(me.eventHandlers);for(var De in ae)Object.prototype.hasOwnProperty.call(ae,De)&&this.on(De,ae[De]);var Ce=null;me.replaces&&(Ce=me.replaces._request.call_id,Ce+=";to-tag=".concat(me.replaces._to_tag),Ce+=";from-tag=".concat(me.replaces._from_tag),Ce=encodeURIComponent(Ce));var ee="Refer-To: <".concat(q).concat(Ce?"?Replaces=".concat(Ce):"",">");if(ne.push(ee),!ne.some(function(V){return V.toLowerCase().startsWith("referred-by:")})){var de="Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">");ne.push(de)}ne.push("Contact: ".concat(this._session.contact));var B=this._session.sendRequest(T.REFER,{extraHeaders:ne,eventHandlers:{onSuccessResponse:function(ce){se._requestSucceeded(ce)},onErrorResponse:function(ce){se._requestFailed(ce,T.causes.REJECTED)},onTransportError:function(){se._requestFailed(null,T.causes.CONNECTION_ERROR)},onRequestTimeout:function(){se._requestFailed(null,T.causes.REQUEST_TIMEOUT)},onDialogError:function(){se._requestFailed(null,T.causes.DIALOG_ERROR)}}});this._id=B.cseq}},{key:"receiveNotify",value:function(q){if($.debug("receiveNotify()"),q.body){var se=F.parse(q.body.trim().split("\r\n",1)[0],"Status_Line");if(-1===se)return void $.debug('receiveNotify() | error parsing NOTIFY body: "'.concat(q.body,'"'));switch(!0){case/^100$/.test(se.status_code):this.emit("trying",{request:q,status_line:se});break;case/^1[0-9]{2}$/.test(se.status_code):this.emit("progress",{request:q,status_line:se});break;case/^2[0-9]{2}$/.test(se.status_code):this.emit("accepted",{request:q,status_line:se});break;default:this.emit("failed",{request:q,status_line:se})}}}},{key:"_requestSucceeded",value:function(q){$.debug("REFER succeeded"),$.debug('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:q})}},{key:"_requestFailed",value:function(q,se){$.debug("REFER failed"),$.debug('emit "requestFailed"'),this.emit("requestFailed",{response:q||null,cause:se})}},{key:"id",get:function(){return this._id}}]),N}(w)},6952:(Le,K,H)=>{"use strict";function k(E,w){for(var d=0;d<w.length;d++){var T=w[d];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}var v=H(8843),ie=H(6886),G=H(5428),o=H(4314),m=H(3974),x=new v("Registrator");Le.exports=function(){function E(w,d){(function Y(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")})(this,E),this._reg_id=1,this._ua=w,this._transport=d,this._registrar=w.configuration.registrar_server,this._expires=w.configuration.register_expires,this._call_id=ie.createRandomToken(22),this._cseq=0,this._to_uri=w.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._sipInstance='"<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"'),this._contact+=";reg-id=".concat(this._reg_id),this._contact+=";+sip.instance=".concat(this._sipInstance)}return function fe(E,w,d){w&&k(E.prototype,w),d&&k(E,d)}(E,[{key:"setExtraHeaders",value:function(d){Array.isArray(d)||(d=[]),this._extraHeaders=d.slice()}},{key:"setExtraContactParams",value:function(d){for(var T in d instanceof Object||(d={}),this._extraContactParams="",d)if(Object.prototype.hasOwnProperty.call(d,T)){var F=d[T];this._extraContactParams+=";".concat(T),F&&(this._extraContactParams+="=".concat(F))}}},{key:"register",value:function(){var d=this;if(this._registering)x.debug("Register request in progress...");else{var T=this._extraHeaders.slice();T.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),T.push("Expires: ".concat(this._expires));var F=new o.OutgoingRequest(G.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},T),L=new m(this._ua,F,{onRequestTimeout:function(){d._registrationFailure(null,G.causes.REQUEST_TIMEOUT)},onTransportError:function(){d._registrationFailure(null,G.causes.CONNECTION_ERROR)},onAuthenticated:function(){d._cseq+=1},onReceiveResponse:function(O){if(O.cseq===d._cseq)switch(null!==d._registrationTimer&&(clearTimeout(d._registrationTimer),d._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(O.status_code):break;case/^2[0-9]{2}$/.test(O.status_code):if(d._registering=!1,!O.hasHeader("Contact")){x.debug("no Contact header in response to REGISTER, response ignored");break}var M=O.headers.Contact.reduce(function(me,ne){return me.concat(ne.parsed)},[]),N=M.find(function(me){return d._sipInstance===me.getParam("+sip.instance")&&d._reg_id===parseInt(me.getParam("reg-id"))});if(N||(N=M.find(function(me){return me.uri.user===d._ua.contact.uri.user})),!N){x.debug("no Contact header pointing to us, response ignored");break}var W=N.getParam("expires");!W&&O.hasHeader("expires")&&(W=O.getHeader("expires")),W||(W=d._expires),(W=Number(W))<10&&(W=10);var q=W>64?1e3*W/2+Math.floor(1e3*(W/2-32)*Math.random()):1e3*W-5e3;d._registrationTimer=setTimeout(function(){d._registrationTimer=null,0===d._ua.listeners("registrationExpiring").length?d.register():d._ua.emit("registrationExpiring")},q),N.hasParam("temp-gruu")&&(d._ua.contact.temp_gruu=N.getParam("temp-gruu").replace(/"/g,"")),N.hasParam("pub-gruu")&&(d._ua.contact.pub_gruu=N.getParam("pub-gruu").replace(/"/g,"")),d._registered||(d._registered=!0,d._ua.registered({response:O}));break;case/^423$/.test(O.status_code):O.hasHeader("min-expires")?(d._expires=Number(O.getHeader("min-expires")),d._expires<10&&(d._expires=10),d.register()):(x.debug("423 response received for REGISTER without Min-Expires"),d._registrationFailure(O,G.causes.SIP_FAILURE_CODE));break;default:var se=ie.sipErrorCause(O.status_code);d._registrationFailure(O,se)}}});this._registering=!0,L.send()}}},{key:"unregister",value:function(){var d=this,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._registered){this._registered=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var F=this._extraHeaders.slice();F.push(T.all?"Contact: *".concat(this._extraContactParams):"Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),F.push("Expires: 0");var L=new o.OutgoingRequest(G.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},F);new m(this._ua,L,{onRequestTimeout:function(){d._unregistered(null,G.causes.REQUEST_TIMEOUT)},onTransportError:function(){d._unregistered(null,G.causes.CONNECTION_ERROR)},onAuthenticated:function(){d._cseq+=1},onReceiveResponse:function(M){switch(!0){case/^1[0-9]{2}$/.test(M.status_code):break;case/^2[0-9]{2}$/.test(M.status_code):d._unregistered(M);break;default:var N=ie.sipErrorCause(M.status_code);d._unregistered(M,N)}}}).send()}else x.debug("already unregistered")}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(d,T){this._registering=!1,this._ua.registrationFailed({response:d||null,cause:T}),this._registered&&(this._registered=!1,this._ua.unregistered({response:d||null,cause:T}))}},{key:"_unregistered",value:function(d,T){this._registering=!1,this._registered=!1,this._ua.unregistered({response:d||null,cause:T||null})}},{key:"registered",get:function(){return this._registered}}]),E}()},3974:(Le,K,H)=>{"use strict";function k(C,E){for(var w=0;w<E.length;w++){var d=E[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(C,d.key,d)}}var v=H(8843),ie=H(5428),G=H(9627),o=H(3258),m=new v("RequestSender"),x={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}};Le.exports=function(){function C(E,w,d){for(var T in function Y(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,C),this._ua=E,this._eventHandlers=d,this._method=w.method,this._request=w,this._auth=null,this._challenged=!1,this._staled=!1,x)Object.prototype.hasOwnProperty.call(x,T)&&(this._eventHandlers[T]||(this._eventHandlers[T]=x[T]));E.status===E.C.STATUS_USER_CLOSED&&(this._method!==ie.BYE||this._method!==ie.ACK)&&this._eventHandlers.onTransportError()}return function fe(C,E,w){E&&k(C.prototype,E),w&&k(C,w)}(C,[{key:"send",value:function(){var w=this,d={onRequestTimeout:function(){w._eventHandlers.onRequestTimeout()},onTransportError:function(){w._eventHandlers.onTransportError()},onReceiveResponse:function(F){w._receiveResponse(F)}};switch(this._method){case"INVITE":this.clientTransaction=new o.InviteClientTransaction(this._ua,this._ua.transport,this._request,d);break;case"ACK":this.clientTransaction=new o.AckClientTransaction(this._ua,this._ua.transport,this._request,d);break;default:this.clientTransaction=new o.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,d)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(w){var d,T,F=w.status_code;if(401!==F&&407!==F||null===this._ua.configuration.password&&null===this._ua.configuration.ha1)this._eventHandlers.onReceiveResponse(w);else{if(401===w.status_code?(d=w.parseHeader("www-authenticate"),T="authorization"):(d=w.parseHeader("proxy-authenticate"),T="proxy-authorization"),!d)return m.debug("".concat(w.status_code," with wrong or missing challenge, cannot authenticate")),void this._eventHandlers.onReceiveResponse(w);if(!this._challenged||!this._staled&&!0===d.stale){if(this._auth||(this._auth=new G({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,d))return void this._eventHandlers.onReceiveResponse(w);this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),d.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(T,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(w)}}}]),C}()},4314:(Le,K,H)=>{"use strict";function Y(De){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(De)}function k(De,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Ce&&fe(De,Ce)}function fe(De,Ce){return(fe=Object.setPrototypeOf||function(de,B){return de.__proto__=B,de})(De,Ce)}function v(De){var Ce=function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,de=m(De);if(Ce){var V=m(this).constructor;B=Reflect.construct(de,arguments,V)}else B=de.apply(this,arguments);return function ie(De,Ce){return!Ce||"object"!==Y(Ce)&&"function"!=typeof Ce?function G(De){if(void 0===De)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}(De):Ce}(this,B)}}function m(De){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)})(De)}function x(De,Ce){var ee;if(typeof Symbol>"u"||null==De[Symbol.iterator]){if(Array.isArray(De)||(ee=function C(De,Ce){if(De){if("string"==typeof De)return E(De,Ce);var ee=Object.prototype.toString.call(De).slice(8,-1);if("Object"===ee&&De.constructor&&(ee=De.constructor.name),"Map"===ee||"Set"===ee)return Array.from(De);if("Arguments"===ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return E(De,Ce)}}(De))||Ce&&De&&"number"==typeof De.length){ee&&(De=ee);var de=0,B=function(){};return{s:B,n:function(){return de>=De.length?{done:!0}:{done:!1,value:De[de++]}},e:function(ge){throw ge},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var te,V=!0,ce=!1;return{s:function(){ee=De[Symbol.iterator]()},n:function(){var ge=ee.next();return V=ge.done,ge},e:function(ge){ce=!0,te=ge},f:function(){try{!V&&null!=ee.return&&ee.return()}finally{if(ce)throw te}}}}function E(De,Ce){(null==Ce||Ce>De.length)&&(Ce=De.length);for(var ee=0,de=new Array(Ce);ee<Ce;ee++)de[ee]=De[ee];return de}function w(De,Ce){if(!(De instanceof Ce))throw new TypeError("Cannot call a class as a function")}function d(De,Ce){for(var ee=0;ee<Ce.length;ee++){var de=Ce[ee];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(De,de.key,de)}}function T(De,Ce,ee){return Ce&&d(De.prototype,Ce),ee&&d(De,ee),De}var F=H(4e3),L=H(8843),$=H(5428),O=H(6886),M=H(6577),N=H(6416),W=new L("SIPMessage"),q=function(){function De(Ce,ee,de,B,V,ce){if(w(this,De),!Ce||!ee||!de)return null;B=B||{},this.ua=de,this.headers={},this.method=Ce,this.ruri=ee,this.body=ce,this.extraHeaders=O.cloneArray(V),this.ua.configuration.extra_headers&&(this.extraHeaders=this.extraHeaders.concat(this.ua.configuration.extra_headers)),B.route_set?this.setHeader("route",B.route_set):de.configuration.use_preloaded_route&&this.setHeader("route","<".concat(de.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",$.MAX_FORWARDS),this.to=new M(B.to_uri||ee,typeof B.to_display_name<"u"?B.to_display_name:null,B.to_tag?{tag:B.to_tag}:null),this.setHeader("to",this.to.toString());var pe=B.from_uri||de.configuration.uri,A={tag:B.from_tag||O.newTag()};this.from=new M(pe,typeof B.from_display_name<"u"?B.from_display_name:de.configuration.display_name?de.configuration.display_name:null,A),this.setHeader("from",this.from.toString());var we=B.call_id||de.configuration.jssip_id+O.createRandomToken(15);this.call_id=we,this.setHeader("call-id",we);var _e=B.cseq||Math.floor(1e4*Math.random());this.cseq=_e,this.setHeader("cseq","".concat(_e," ").concat(Ce))}return T(De,[{key:"setHeader",value:function(ee,de){for(var B=new RegExp("^\\s*".concat(ee,"\\s*:"),"i"),V=0;V<this.extraHeaders.length;V++)B.test(this.extraHeaders[V])&&this.extraHeaders.splice(V,1);this.headers[O.headerize(ee)]=Array.isArray(de)?de:[de]}},{key:"getHeader",value:function(ee){var de=this.headers[O.headerize(ee)];if(de){if(de[0])return de[0]}else{var ce,B=new RegExp("^\\s*".concat(ee,"\\s*:"),"i"),V=x(this.extraHeaders);try{for(V.s();!(ce=V.n()).done;){var te=ce.value;if(B.test(te))return te.substring(te.indexOf(":")+1).trim()}}catch(Ae){V.e(Ae)}finally{V.f()}}}},{key:"getHeaders",value:function(ee){var de=this.headers[O.headerize(ee)],B=[];if(de){var ce,V=x(de);try{for(V.s();!(ce=V.n()).done;)B.push(ce.value)}catch(J){V.e(J)}finally{V.f()}return B}var pe,Ae=new RegExp("^\\s*".concat(ee,"\\s*:"),"i"),ge=x(this.extraHeaders);try{for(ge.s();!(pe=ge.n()).done;){var A=pe.value;Ae.test(A)&&B.push(A.substring(A.indexOf(":")+1).trim())}}catch(J){ge.e(J)}finally{ge.f()}return B}},{key:"hasHeader",value:function(ee){if(this.headers[O.headerize(ee)])return!0;var V,de=new RegExp("^\\s*".concat(ee,"\\s*:"),"i"),B=x(this.extraHeaders);try{for(B.s();!(V=B.n()).done;)if(de.test(V.value))return!0}catch(te){B.e(te)}finally{B.f()}return!1}},{key:"parseSDP",value:function(ee){return!ee&&this.sdp||(this.sdp=F.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){var ee="".concat(this.method," ").concat(this.ruri," SIP/2.0\r\n");for(var de in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,de)){var V,B=x(this.headers[de]);try{for(B.s();!(V=B.n()).done;){var ce=V.value;ee+="".concat(de,": ").concat(ce,"\r\n")}}catch(we){B.e(we)}finally{B.f()}}var Ae,te=x(this.extraHeaders);try{for(te.s();!(Ae=te.n()).done;)ee+="".concat(Ae.value.trim(),"\r\n")}catch(we){te.e(we)}finally{te.f()}var pe=[];switch(this.method){case $.REGISTER:pe.push("path","gruu");break;case $.INVITE:this.ua.configuration.session_timers&&pe.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&pe.push("gruu"),pe.push("ice","replaces");break;case $.UPDATE:this.ua.configuration.session_timers&&pe.push("timer"),pe.push("ice")}pe.push("outbound");var A=this.ua.configuration.user_agent||$.USER_AGENT;if(ee+="Allow: ".concat($.ALLOWED_METHODS,"\r\n"),ee+="Supported: ".concat(pe,"\r\n"),ee+="User-Agent: ".concat(A,"\r\n"),this.body){var J=O.str_utf8_length(this.body);ee+="Content-Length: ".concat(J,"\r\n\r\n"),ee+=this.body}else ee+="Content-Length: 0\r\n\r\n";return ee}},{key:"clone",value:function(){var ee=new De(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(de){ee.headers[de]=this.headers[de].slice()},this),ee.body=this.body,ee.extraHeaders=O.cloneArray(this.extraHeaders),ee.to=this.to,ee.from=this.from,ee.call_id=this.call_id,ee.cseq=this.cseq,ee}}]),De}(),se=function(De){k(ee,De);var Ce=v(ee);function ee(de,B,V,ce,te){var Ae;return w(this,ee),(Ae=Ce.call(this,$.INVITE,de,B,V,ce,te)).transaction=null,Ae}return T(ee,[{key:"cancel",value:function(B){this.transaction.cancel(B)}},{key:"clone",value:function(){var B=new ee(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(V){B.headers[V]=this.headers[V].slice()},this),B.body=this.body,B.extraHeaders=O.cloneArray(this.extraHeaders),B.to=this.to,B.from=this.from,B.call_id=this.call_id,B.cseq=this.cseq,B.transaction=this.transaction,B}}]),ee}(q),me=function(){function De(){w(this,De),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return T(De,[{key:"addHeader",value:function(ee,de){var B={raw:de};ee=O.headerize(ee),this.headers[ee]?this.headers[ee].push(B):this.headers[ee]=[B]}},{key:"getHeader",value:function(ee){var de=this.headers[O.headerize(ee)];if(de)return de[0]?de[0].raw:void 0}},{key:"getHeaders",value:function(ee){var de=this.headers[O.headerize(ee)],B=[];if(!de)return[];var ce,V=x(de);try{for(V.s();!(ce=V.n()).done;)B.push(ce.value.raw)}catch(Ae){V.e(Ae)}finally{V.f()}return B}},{key:"hasHeader",value:function(ee){return!!this.headers[O.headerize(ee)]}},{key:"parseHeader",value:function(ee){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(ee=O.headerize(ee),this.headers[ee]){if(!(de>=this.headers[ee].length)){var B=this.headers[ee][de],V=B.raw;if(B.parsed)return B.parsed;var ce=N.parse(V,ee.replace(/-/g,"_"));return-1===ce?(this.headers[ee].splice(de,1),void W.debug('error parsing "'.concat(ee,'" header field with value "').concat(V,'"'))):(B.parsed=ce,ce)}W.debug('not so many "'.concat(ee,'" headers present'))}else W.debug('header "'.concat(ee,'" not present'))}},{key:"s",value:function(ee,de){return this.parseHeader(ee,de)}},{key:"setHeader",value:function(ee,de){var B={raw:de};this.headers[O.headerize(ee)]=[B]}},{key:"parseSDP",value:function(ee){return!ee&&this.sdp||(this.sdp=F.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){return this.data}}]),De}();Le.exports={OutgoingRequest:q,InitialOutgoingInviteRequest:se,IncomingRequest:function(De){k(ee,De);var Ce=v(ee);function ee(de){var B;return w(this,ee),(B=Ce.call(this)).ua=de,B.headers={},B.ruri=null,B.transport=null,B.server_transaction=null,B}return T(ee,[{key:"reply",value:function(B,V,ce,te,Ae,ge){var pe=[],A=this.getHeader("To");if(V=V||null,!(B=B||null)||B<100||B>699)throw new TypeError("Invalid status_code: ".concat(B));if(V&&"string"!=typeof V&&!(V instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(V));V=V||$.REASON_PHRASE[B]||"",ce=O.cloneArray(ce),this.ua.configuration.extra_headers&&(ce=ce.concat(this.ua.configuration.extra_headers));var J="SIP/2.0 ".concat(B," ").concat(V,"\r\n");if(this.method===$.INVITE&&B>100&&B<=200){var Se,_e=x(this.getHeaders("record-route"));try{for(_e.s();!(Se=_e.n()).done;)J+="Record-Route: ".concat(Se.value,"\r\n")}catch(gt){_e.e(gt)}finally{_e.f()}}var Ye,We=x(this.getHeaders("via"));try{for(We.s();!(Ye=We.n()).done;)J+="Via: ".concat(Ye.value,"\r\n")}catch(gt){We.e(gt)}finally{We.f()}!this.to_tag&&B>100?A+=";tag=".concat(O.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(A+=";tag=".concat(this.to_tag)),J+="To: ".concat(A,"\r\n"),J+="From: ".concat(this.getHeader("From"),"\r\n"),J+="Call-ID: ".concat(this.call_id,"\r\n"),J+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n");var Mt,Be=x(ce);try{for(Be.s();!(Mt=Be.n()).done;)J+="".concat(Mt.value.trim(),"\r\n")}catch(gt){Be.e(gt)}finally{Be.f()}switch(this.method){case $.INVITE:this.ua.configuration.session_timers&&pe.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&pe.push("gruu"),pe.push("ice","replaces");break;case $.UPDATE:this.ua.configuration.session_timers&&pe.push("timer"),te&&pe.push("ice"),pe.push("replaces")}if(pe.push("outbound"),this.method===$.OPTIONS?(J+="Allow: ".concat($.ALLOWED_METHODS,"\r\n"),J+="Accept: ".concat($.ACCEPTED_BODY_TYPES,"\r\n")):405===B?J+="Allow: ".concat($.ALLOWED_METHODS,"\r\n"):415===B&&(J+="Accept: ".concat($.ACCEPTED_BODY_TYPES,"\r\n")),J+="Supported: ".concat(pe,"\r\n"),te){var hn=O.str_utf8_length(te);J+="Content-Type: application/sdp\r\n",J+="Content-Length: ".concat(hn,"\r\n\r\n"),J+=te}else J+="Content-Length: ".concat(0,"\r\n\r\n");this.server_transaction.receiveResponse(B,J,Ae,ge)}},{key:"reply_sl",value:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ce=this.getHeaders("via");if(!B||B<100||B>699)throw new TypeError("Invalid status_code: ".concat(B));if(V&&"string"!=typeof V&&!(V instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(V));V=V||$.REASON_PHRASE[B]||"";var ge,te="SIP/2.0 ".concat(B," ").concat(V,"\r\n"),Ae=x(ce);try{for(Ae.s();!(ge=Ae.n()).done;)te+="Via: ".concat(ge.value,"\r\n")}catch(Se){Ae.e(Se)}finally{Ae.f()}var A=this.getHeader("To");if(!this.to_tag&&B>100?A+=";tag=".concat(O.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(A+=";tag=".concat(this.to_tag)),te+="To: ".concat(A,"\r\n"),te+="From: ".concat(this.getHeader("From"),"\r\n"),te+="Call-ID: ".concat(this.call_id,"\r\n"),te+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n"),this.ua.configuration.extra_headers){var we,J=x(this.ua.configuration.extra_headers);try{for(J.s();!(we=J.n()).done;)te+="".concat(we.value.trim(),"\r\n")}catch(Se){J.e(Se)}finally{J.f()}}te+="Content-Length: ".concat(0,"\r\n\r\n"),this.transport.send(te)}}]),ee}(me),IncomingResponse:function(De){k(ee,De);var Ce=v(ee);function ee(){var de;return w(this,ee),(de=Ce.call(this)).headers={},de.status_code=null,de.reason_phrase=null,de}return ee}(me)}},8984:(Le,K,H)=>{"use strict";var Y=H(8843),k=H(6886),fe=H(6416),v=new Y("Socket");K.isSocket=function(ie){if(Array.isArray(ie))return!1;if(typeof ie>"u")return v.warn("undefined JsSIP.Socket instance"),!1;try{if(!k.isString(ie.url))throw v.warn("missing or invalid JsSIP.Socket url property"),new Error("Missing or invalid JsSIP.Socket url property");if(!k.isString(ie.via_transport))throw v.warn("missing or invalid JsSIP.Socket via_transport property"),new Error("Missing or invalid JsSIP.Socket via_transport property");if(-1===fe.parse(ie.sip_uri,"SIP_URI"))throw v.warn("missing or invalid JsSIP.Socket sip_uri property"),new Error("missing or invalid JsSIP.Socket sip_uri property")}catch{return!1}try{["connect","disconnect","send"].forEach(function(G){if(!k.isFunction(ie[G]))throw v.warn("missing or invalid JsSIP.Socket method: ".concat(G)),new Error("Missing or invalid JsSIP.Socket method: ".concat(G))})}catch{return!1}return!0}},7699:Le=>{"use strict";var K=500;Le.exports={T1:K,T2:4e3,T4:5e3,TIMER_B:64*K,TIMER_D:0,TIMER_F:64*K,TIMER_H:64*K,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:64*K,TIMER_M:64*K,PROVISIONAL_RESPONSE_INTERVAL:6e4}},3258:(Le,K,H)=>{"use strict";function Y(ee){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(ee)}function k(ee,de){if(!(ee instanceof de))throw new TypeError("Cannot call a class as a function")}function fe(ee,de){for(var B=0;B<de.length;B++){var V=de[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(ee,V.key,V)}}function v(ee,de,B){return de&&fe(ee.prototype,de),B&&fe(ee,B),ee}function ie(ee,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(de&&de.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),de&&G(ee,de)}function G(ee,de){return(G=Object.setPrototypeOf||function(V,ce){return V.__proto__=ce,V})(ee,de)}function o(ee){var de=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ce,V=E(ee);if(de){var te=E(this).constructor;ce=Reflect.construct(V,arguments,te)}else ce=V.apply(this,arguments);return function m(ee,de){return!de||"object"!==Y(de)&&"function"!=typeof de?x(ee):de}(this,ce)}}function x(ee){if(void 0===ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function E(ee){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(ee)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(4314),L=H(7699),$=new d("NonInviteClientTransaction"),O=new d("InviteClientTransaction"),M=new d("AckClientTransaction"),N=new d("NonInviteServerTransaction"),W=new d("InviteServerTransaction"),q={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"};Le.exports={C:q,NonInviteClientTransaction:function(ee){ie(B,ee);var de=o(B);function B(V,ce,te,Ae){var ge;k(this,B),(ge=de.call(this)).type=q.NON_INVITE_CLIENT,ge.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),ge.ua=V,ge.transport=ce,ge.request=te,ge.eventHandlers=Ae;var pe="SIP/2.0/".concat(ce.via_transport);return pe+=" ".concat(V.configuration.via_host,";branch=").concat(ge.id),ge.request.setHeader("via",pe),ge.ua.newTransaction(x(ge)),ge}return v(B,[{key:"stateChanged",value:function(ce){this.state=ce,this.emit("stateChanged")}},{key:"send",value:function(){var ce=this;this.stateChanged(q.STATUS_TRYING),this.F=setTimeout(function(){ce.timer_F()},L.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){$.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){$.debug("Timer F expired for transaction ".concat(this.id)),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(ce){var te=this,Ae=ce.status_code;if(Ae<200)switch(this.state){case q.STATUS_TRYING:case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(ce)}else switch(this.state){case q.STATUS_TRYING:case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_COMPLETED),clearTimeout(this.F),408===Ae?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(ce),this.K=setTimeout(function(){te.timer_K()},L.TIMER_K)}}},{key:"C",get:function(){return q}}]),B}(w),InviteClientTransaction:function(ee){ie(B,ee);var de=o(B);function B(V,ce,te,Ae){var ge;k(this,B),(ge=de.call(this)).type=q.INVITE_CLIENT,ge.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),ge.ua=V,ge.transport=ce,ge.request=te,ge.eventHandlers=Ae,te.transaction=x(ge);var pe="SIP/2.0/".concat(ce.via_transport);return pe+=" ".concat(V.configuration.via_host,";branch=").concat(ge.id),ge.request.setHeader("via",pe),ge.ua.newTransaction(x(ge)),ge}return v(B,[{key:"stateChanged",value:function(ce){this.state=ce,this.emit("stateChanged")}},{key:"send",value:function(){var ce=this;this.stateChanged(q.STATUS_CALLING),this.B=setTimeout(function(){ce.timer_B()},L.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==q.STATUS_ACCEPTED&&(O.debug("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){O.debug("Timer M expired for transaction ".concat(this.id)),this.state===q.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){O.debug("Timer B expired for transaction ".concat(this.id)),this.state===q.STATUS_CALLING&&(this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){O.debug("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(ce){var te=this,Ae=new F.OutgoingRequest(T.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});Ae.setHeader("from",this.request.getHeader("from")),Ae.setHeader("via",this.request.getHeader("via")),Ae.setHeader("to",ce.getHeader("to")),this.D=setTimeout(function(){te.timer_D()},L.TIMER_D),this.transport.send(Ae)}},{key:"cancel",value:function(ce){if(this.state===q.STATUS_PROCEEDING){var te=new F.OutgoingRequest(T.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});te.setHeader("from",this.request.getHeader("from")),te.setHeader("via",this.request.getHeader("via")),te.setHeader("to",this.request.getHeader("to")),ce&&te.setHeader("reason",ce),this.transport.send(te)}}},{key:"receiveResponse",value:function(ce){var te=this,Ae=ce.status_code;if(Ae>=100&&Ae<=199)switch(this.state){case q.STATUS_CALLING:this.stateChanged(q.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(ce);break;case q.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(ce)}else if(Ae>=200&&Ae<=299)switch(this.state){case q.STATUS_CALLING:case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_ACCEPTED),this.M=setTimeout(function(){te.timer_M()},L.TIMER_M),this.eventHandlers.onReceiveResponse(ce);break;case q.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(ce)}else if(Ae>=300&&Ae<=699)switch(this.state){case q.STATUS_CALLING:case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_COMPLETED),this.sendACK(ce),this.eventHandlers.onReceiveResponse(ce);break;case q.STATUS_COMPLETED:this.sendACK(ce)}}},{key:"C",get:function(){return q}}]),B}(w),AckClientTransaction:function(ee){ie(B,ee);var de=o(B);function B(V,ce,te,Ae){var ge;k(this,B),(ge=de.call(this)).id="z9hG4bK".concat(Math.floor(1e7*Math.random())),ge.transport=ce,ge.request=te,ge.eventHandlers=Ae;var pe="SIP/2.0/".concat(ce.via_transport);return pe+=" ".concat(V.configuration.via_host,";branch=").concat(ge.id),ge.request.setHeader("via",pe),ge}return v(B,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){M.debug("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return q}}]),B}(w),NonInviteServerTransaction:function(ee){ie(B,ee);var de=o(B);function B(V,ce,te){var Ae;return k(this,B),(Ae=de.call(this)).type=q.NON_INVITE_SERVER,Ae.id=te.via_branch,Ae.ua=V,Ae.transport=ce,Ae.request=te,Ae.last_response="",te.server_transaction=x(Ae),Ae.state=q.STATUS_TRYING,V.newTransaction(x(Ae)),Ae}return v(B,[{key:"stateChanged",value:function(ce){this.state=ce,this.emit("stateChanged")}},{key:"timer_J",value:function(){N.debug("Timer J expired for transaction ".concat(this.id)),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,N.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(ce,te,Ae,ge){var pe=this;if(100===ce)switch(this.state){case q.STATUS_TRYING:this.stateChanged(q.STATUS_PROCEEDING),this.transport.send(te)||this.onTransportError();break;case q.STATUS_PROCEEDING:this.last_response=te,this.transport.send(te)?Ae&&Ae():(this.onTransportError(),ge&&ge())}else if(ce>=200&&ce<=699)switch(this.state){case q.STATUS_TRYING:case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_COMPLETED),this.last_response=te,this.J=setTimeout(function(){pe.timer_J()},L.TIMER_J),this.transport.send(te)?Ae&&Ae():(this.onTransportError(),ge&&ge())}}},{key:"C",get:function(){return q}}]),B}(w),InviteServerTransaction:function(ee){ie(B,ee);var de=o(B);function B(V,ce,te){var Ae;return k(this,B),(Ae=de.call(this)).type=q.INVITE_SERVER,Ae.id=te.via_branch,Ae.ua=V,Ae.transport=ce,Ae.request=te,Ae.last_response="",te.server_transaction=x(Ae),Ae.state=q.STATUS_PROCEEDING,V.newTransaction(x(Ae)),Ae.resendProvisionalTimer=null,te.reply(100),Ae}return v(B,[{key:"stateChanged",value:function(ce){this.state=ce,this.emit("stateChanged")}},{key:"timer_H",value:function(){W.debug("Timer H expired for transaction ".concat(this.id)),this.state===q.STATUS_COMPLETED&&W.debug("ACK not received, dialog will be terminated"),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){W.debug("Timer L expired for transaction ".concat(this.id)),this.state===q.STATUS_ACCEPTED&&(this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,W.debug("transport error occurred, deleting transaction ".concat(this.id)),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(q.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(ce,te,Ae,ge){var pe=this;if(ce>=100&&ce<=199&&this.state===q.STATUS_PROCEEDING&&(this.transport.send(te)||this.onTransportError(),this.last_response=te),ce>100&&ce<=199&&this.state===q.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=setInterval(function(){pe.resend_provisional()},L.PROVISIONAL_RESPONSE_INTERVAL));else if(ce>=200&&ce<=299)switch(this.state){case q.STATUS_PROCEEDING:this.stateChanged(q.STATUS_ACCEPTED),this.last_response=te,this.L=setTimeout(function(){pe.timer_L()},L.TIMER_L),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case q.STATUS_ACCEPTED:this.transport.send(te)?Ae&&Ae():(this.onTransportError(),ge&&ge())}else ce>=300&&ce<=699&&this.state===q.STATUS_PROCEEDING&&(null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(te)?(this.stateChanged(q.STATUS_COMPLETED),this.H=setTimeout(function(){pe.timer_H()},L.TIMER_H),Ae&&Ae()):(this.onTransportError(),ge&&ge()))}},{key:"C",get:function(){return q}}]),B}(w),checkTransaction:function Ce(ee,de){var V,B=ee._transactions;switch(de.method){case T.INVITE:if(V=B.ist[de.via_branch])return V.state===q.STATUS_PROCEEDING&&V.transport.send(V.last_response),!0;break;case T.ACK:if(!(V=B.ist[de.via_branch]))return!1;if(V.state===q.STATUS_ACCEPTED)return!1;if(V.state===q.STATUS_COMPLETED)return V.state=q.STATUS_CONFIRMED,V.I=setTimeout(function(){V.timer_I()},L.TIMER_I),!0;break;case T.CANCEL:return(V=B.ist[de.via_branch])?(de.reply_sl(200),V.state!==q.STATUS_PROCEEDING):(de.reply_sl(481),!0);default:if(V=B.nist[de.via_branch]){switch(V.state){case q.STATUS_TRYING:break;case q.STATUS_PROCEEDING:case q.STATUS_COMPLETED:V.transport.send(V.last_response)}return!0}}}}},8075:(Le,K,H)=>{"use strict";function k(x,C){for(var E=0;E<C.length;E++){var w=C[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}var v=H(8843),ie=H(8984),G=H(5428),o=new v("Transport"),m={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:G.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:G.CONNECTION_RECOVERY_MAX_INTERVAL}};Le.exports=function(){function x(C){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.recovery_options;(function Y(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")})(this,x),o.debug("new()"),this.status=m.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=E,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(w){o.warn("cannot use TextDecoder: ".concat(w))}if(typeof C>"u")throw new TypeError("Invalid argument. undefined 'sockets' argument");C instanceof Array||(C=[C]),C.forEach(function(w){if(!ie.isSocket(w.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(w.weight&&!Number(w.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:w.socket,weight:w.weight||0,status:m.SOCKET_STATUS_READY})},this),this._getSocket()}return function fe(x,C,E){C&&k(x.prototype,C),E&&k(x,E)}(x,[{key:"connect",value:function(){o.debug("connect()"),this.isConnected()?o.debug("Transport is already connected"):this.isConnecting()?o.debug("Transport is connecting"):(this.close_requested=!1,this.status=m.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect()))}},{key:"disconnect",value:function(){o.debug("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=m.STATUS_DISCONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(E){if(o.debug("send()"),!this.isConnected())return o.warn("unable to send message, transport is not connected"),!1;var w=E.toString();return o.debug("sending message:\n\n".concat(w,"\n")),this.socket.send(w)}},{key:"isConnected",value:function(){return this.status===m.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===m.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var E=this;this.recover_attempts+=1;var w=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);w<this.recovery_options.min_interval?w=this.recovery_options.min_interval:w>this.recovery_options.max_interval&&(w=this.recovery_options.max_interval),o.debug("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(w," seconds")),this.recovery_timer=setTimeout(function(){!E.close_requested&&!E.isConnected()&&!E.isConnecting()&&(E._getSocket(),E.connect())},1e3*w)}},{key:"_getSocket",value:function(){var E=[];if(this.sockets.forEach(function(d){d.status!==m.SOCKET_STATUS_ERROR&&(0===E.length?E.push(d):d.weight>E[0].weight?E=[d]:d.weight===E[0].weight&&E.push(d))}),0===E.length)return this.sockets.forEach(function(d){d.status=m.SOCKET_STATUS_READY}),void this._getSocket();var w=Math.floor(Math.random()*E.length);this.socket=E[w].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=m.STATUS_CONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(E,w,d){this.status=m.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:E,code:w,reason:d}),!this.close_requested&&(this.sockets.forEach(function(T){this.socket===T.socket&&(T.status=m.SOCKET_STATUS_ERROR)},this),this._reconnect(E))}},{key:"_onData",value:function(E){if("\r\n\r\n"!==E)if("\r\n"!==E){if("string"!=typeof E){try{E=this.textDecoder?this.textDecoder.decode(E):String.fromCharCode.apply(null,new Uint8Array(E))}catch{return void o.debug("received binary message failed to be converted into string, message discarded")}o.debug("received binary message:\n\n".concat(E,"\n"))}else o.debug("received text message:\n\n".concat(E,"\n"));this.ondata({transport:this,message:E})}else o.debug("received message with CRLF Keep Alive response");else{o.debug("received message with double-CRLF Keep Alive request");try{this.socket.send("\r\n")}catch(w){o.warn("error sending Keep Alive response: ".concat(w))}}}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}]),x}()},7941:(Le,K,H)=>{"use strict";function Y(te){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(te)}function fe(te,Ae){for(var ge=0;ge<Ae.length;ge++){var pe=Ae[ge];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(te,pe.key,pe)}}function v(te,Ae,ge){return Ae&&fe(te.prototype,Ae),ge&&fe(te,ge),te}function G(te,Ae){return(G=Object.setPrototypeOf||function(pe,A){return pe.__proto__=A,pe})(te,Ae)}function x(te){if(void 0===te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function E(te){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(ge){return ge.__proto__||Object.getPrototypeOf(ge)})(te)}var w=H(9069).EventEmitter,d=H(8843),T=H(5428),F=H(6952),L=H(7475),$=H(8474),O=H(1104),M=H(3258),N=H(8075),W=H(6886),q=H(7471),se=H(2661),me=H(8297),ne=H(4314),ae=H(7379),De=H(7724),Ce=new d("UA"),ee={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2};function de(te){this.emit("connecting",te)}function B(te){this._status!==ee.STATUS_USER_CLOSED&&(this._status=ee.STATUS_READY,this._error=null,this.emit("connected",te),this._dynConfiguration.register&&this._registrator.register())}function V(te){for(var ge=0,pe=["nict","ict","nist","ist"];ge<pe.length;ge++){var A=pe[ge];for(var J in this._transactions[A])Object.prototype.hasOwnProperty.call(this._transactions[A],J)&&this._transactions[A][J].onTransportError()}this.emit("disconnected",te),this._registrator.onTransportClosed(),this._status!==ee.STATUS_USER_CLOSED&&(this._status=ee.STATUS_NOT_READY,this._error=ee.NETWORK_ERROR)}function ce(te){var Ae=te.transport,ge=te.message;if((ge=me.parseMessage(ge,this))&&!(this._status===ee.STATUS_USER_CLOSED&&ge instanceof ne.IncomingRequest)&&ae(ge,this,Ae))if(ge instanceof ne.IncomingRequest)ge.transport=Ae,this.receiveRequest(ge);else if(ge instanceof ne.IncomingResponse){var pe;switch(ge.method){case T.INVITE:(pe=this._transactions.ict[ge.via_branch])&&pe.receiveResponse(ge);break;case T.ACK:break;default:(pe=this._transactions.nict[ge.via_branch])&&pe.receiveResponse(ge)}}}Le.exports=function(te){!function ie(te,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Ae&&G(te,Ae)}(ge,te);var Ae=function o(te){var Ae=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var A,pe=E(te);if(Ae){var J=E(this).constructor;A=Reflect.construct(pe,arguments,J)}else A=pe.apply(this,arguments);return function m(te,Ae){return!Ae||"object"!==Y(Ae)&&"function"!=typeof Ae?x(te):Ae}(this,A)}}(ge);function ge(pe){var A;if(function k(te,Ae){if(!(te instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,ge),Ce.debug("new() [configuration:%o]",pe),(A=Ae.call(this))._cache={credentials:{}},A._configuration=Object.assign({},De.settings),A._dynConfiguration={},A._dialogs={},A._applicants={},A._sessions={},A._transport=null,A._contact=null,A._status=ee.STATUS_INIT,A._error=null,A._transactions={nist:{},nict:{},ist:{},ict:{}},A._data={},A._closeTimer=null,void 0===pe)throw new TypeError("Not enough arguments");try{A._loadConfig(pe)}catch(J){throw A._status=ee.STATUS_NOT_READY,A._error=ee.CONFIGURATION_ERROR,J}return A._registrator=new F(x(A)),A}return v(ge,null,[{key:"C",get:function(){return ee}}]),v(ge,[{key:"start",value:function(){Ce.debug("start()"),this._status===ee.STATUS_INIT?this._transport.connect():this._status===ee.STATUS_USER_CLOSED?(Ce.debug("restarting UA"),null!==this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=ee.STATUS_INIT,this._transport.connect()):Ce.debug(this._status===ee.STATUS_READY?"UA is in READY status, not restarted":"ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){Ce.debug("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(A){Ce.debug("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(A)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(A,J){Ce.debug("call()");var we=new L(this);return we.connect(A,J),we}},{key:"sendMessage",value:function(A,J,we){Ce.debug("sendMessage()");var _e=new $(this);return _e.send(A,J,we),_e}},{key:"sendOptions",value:function(A,J,we){Ce.debug("sendOptions()");var _e=new O(this);return _e.send(A,J,we),_e}},{key:"terminateSessions",value:function(A){for(var J in Ce.debug("terminateSessions()"),this._sessions)this._sessions[J].isEnded()||this._sessions[J].terminate(A)}},{key:"stop",value:function(){var A=this;if(Ce.debug("stop()"),this._dynConfiguration={},this._status!==ee.STATUS_USER_CLOSED){this._registrator.close();var J=Object.keys(this._sessions).length;for(var we in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,we)){Ce.debug("closing session ".concat(we));try{this._sessions[we].terminate()}catch{}}for(var _e in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,_e))try{this._applicants[_e].close()}catch{}this._status=ee.STATUS_USER_CLOSED,0===Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length&&0===J?this._transport.disconnect():this._closeTimer=setTimeout(function(){A._closeTimer=null,A._transport.disconnect()},2e3)}else Ce.debug("UA already closed")}},{key:"normalizeTarget",value:function(A){return W.normalizeTarget(A,this._configuration.hostport_params)}},{key:"get",value:function(A){switch(A){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:return void Ce.warn('get() | cannot get "%s" parameter in runtime',A)}}},{key:"set",value:function(A,J){switch(A){case"authorization_user":this._configuration.authorization_user=String(J);break;case"password":this._configuration.password=String(J);break;case"realm":this._configuration.realm=String(J);break;case"ha1":this._configuration.ha1=String(J),this._configuration.password=null;break;case"authorization_jwt":this._configuration.authorization_jwt=String(J);break;case"display_name":this._configuration.display_name=J;break;case"extra_headers":this._configuration.extra_headers=J;break;default:return Ce.warn('set() | cannot set "%s" parameter in runtime',A),!1}return!0}},{key:"newTransaction",value:function(A){this._transactions[A.type][A.id]=A,this.emit("newTransaction",{transaction:A})}},{key:"destroyTransaction",value:function(A){delete this._transactions[A.type][A.id],this.emit("transactionDestroyed",{transaction:A})}},{key:"newDialog",value:function(A){this._dialogs[A.id]=A}},{key:"destroyDialog",value:function(A){delete this._dialogs[A.id]}},{key:"newMessage",value:function(A,J){this._applicants[A]=A,this.emit("newMessage",J)}},{key:"newOptions",value:function(A,J){this._applicants[A]=A,this.emit("newOptions",J)}},{key:"destroyMessage",value:function(A){delete this._applicants[A]}},{key:"newRTCSession",value:function(A,J){this._sessions[A.id]=A,this.emit("newRTCSession",J)}},{key:"destroyRTCSession",value:function(A){delete this._sessions[A.id]}},{key:"registered",value:function(A){this.emit("registered",A)}},{key:"unregistered",value:function(A){this.emit("unregistered",A)}},{key:"registrationFailed",value:function(A){this.emit("registrationFailed",A)}},{key:"receiveRequest",value:function(A){var J=A.method;if(A.ruri.user!==this._configuration.uri.user&&A.ruri.user!==this._contact.uri.user)return Ce.debug("Request-URI does not point to us"),void(A.method!==T.ACK&&A.reply_sl(404));if(A.ruri.scheme!==T.SIPS){if(!M.checkTransaction(this,A)){if(J===T.INVITE?new M.InviteServerTransaction(this,this._transport,A):J!==T.ACK&&J!==T.CANCEL&&new M.NonInviteServerTransaction(this,this._transport,A),J===T.OPTIONS){if(0===this.listeners("newOptions").length)return void A.reply(200);new O(this).init_incoming(A)}else if(J===T.MESSAGE){if(0===this.listeners("newMessage").length)return void A.reply(405);new $(this).init_incoming(A)}else if(J===T.INVITE&&!A.to_tag&&0===this.listeners("newRTCSession").length)return void A.reply(405);var Se,Me;if(A.to_tag)(Se=this._findDialog(A.call_id,A.from_tag,A.to_tag))?Se.receiveRequest(A):J===T.NOTIFY?(Me=this._findSession(A))?Me.receiveRequest(A):(Ce.debug("received NOTIFY request for a non existent subscription"),A.reply(481,"Subscription does not exist")):J!==T.ACK&&A.reply(481);else switch(J){case T.INVITE:if(window.RTCPeerConnection)if(A.hasHeader("replaces")){var xe=A.replaces;(Se=this._findDialog(xe.call_id,xe.from_tag,xe.to_tag))?(Me=Se.owner).isEnded()?A.reply(603):Me.receiveRequest(A):A.reply(481)}else(Me=new L(this)).init_incoming(A);else Ce.warn("INVITE received but WebRTC is not supported"),A.reply(488);break;case T.BYE:A.reply(481);break;case T.CANCEL:(Me=this._findSession(A))?Me.receiveRequest(A):Ce.debug("received CANCEL request for a non existent session");break;case T.ACK:break;case T.NOTIFY:this.emit("sipEvent",{event:A.event,request:A}),A.reply(200);break;default:A.reply(405)}}}else A.reply_sl(416)}},{key:"_findSession",value:function(A){var J=A.call_id;return this._sessions[J+A.from_tag]||this._sessions[J+A.to_tag]||null}},{key:"_findDialog",value:function(A,J,we){var _e=A+J+we,Se=this._dialogs[_e];return Se||(Se=this._dialogs[_e=A+we+J])||null}},{key:"_loadConfig",value:function(A){try{De.load(this._configuration,A)}catch(xe){throw xe}0===this._configuration.display_name&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=W.newUUID()),this._configuration.jssip_id=W.createRandomToken(5);var J=this._configuration.uri.clone();J.user=null,this._configuration.hostport_params=J.toString().replace(/^sip:/i,"");try{this._transport=new N(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=de.bind(this),this._transport.onconnect=B.bind(this),this._transport.ondisconnect=V.bind(this),this._transport.ondata=ce.bind(this)}catch(xe){throw Ce.warn(xe),new q.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var we=this._configuration.uri.clone();we.user=null,we.clearParams(),we.clearHeaders(),this._configuration.registrar_server=we}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new se("sip",W.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ye=We.anonymous||null,Ge=We.outbound||null,Be="<";return Be+=Ye?this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":this.pub_gruu||this.uri.toString(),Ge&&(Ye?!this.temp_gruu:!this.pub_gruu)&&(Be+=";ob"),Be+">"}};var _e=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register","extra_headers"];for(var Se in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,Se)&&(-1!==_e.indexOf(Se)?Object.defineProperty(this._configuration,Se,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,Se,{writable:!1,configurable:!1}));for(var Me in Ce.debug("configuration parameters after validation:"),this._configuration)if(Object.prototype.hasOwnProperty.call(De.settings,Me))switch(Me){case"uri":case"registrar_server":Ce.debug("- ".concat(Me,": ").concat(this._configuration[Me]));break;case"password":case"ha1":case"authorization_jwt":Ce.debug("- ".concat(Me,": NOT SHOWN"));break;default:Ce.debug("- ".concat(Me,": ").concat(JSON.stringify(this._configuration[Me])))}}},{key:"C",get:function(){return ee}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),ge}(w)},2661:(Le,K,H)=>{"use strict";function Y(C,E){var w;if(typeof Symbol>"u"||null==C[Symbol.iterator]){if(Array.isArray(C)||(w=function k(C,E){if(C){if("string"==typeof C)return fe(C,E);var w=Object.prototype.toString.call(C).slice(8,-1);if("Object"===w&&C.constructor&&(w=C.constructor.name),"Map"===w||"Set"===w)return Array.from(C);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return fe(C,E)}}(C))||E&&C&&"number"==typeof C.length){w&&(C=w);var d=0,T=function(){};return{s:T,n:function(){return d>=C.length?{done:!0}:{done:!1,value:C[d++]}},e:function(M){throw M},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $,F=!0,L=!1;return{s:function(){w=C[Symbol.iterator]()},n:function(){var M=w.next();return F=M.done,M},e:function(M){L=!0,$=M},f:function(){try{!F&&null!=w.return&&w.return()}finally{if(L)throw $}}}}function fe(C,E){(null==E||E>C.length)&&(E=C.length);for(var w=0,d=new Array(E);w<E;w++)d[w]=C[w];return d}function ie(C,E){for(var w=0;w<E.length;w++){var d=E[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(C,d.key,d)}}function G(C,E,w){return E&&ie(C.prototype,E),w&&ie(C,w),C}var o=H(5428),m=H(6886),x=H(6416);Le.exports=function(){function C(E,w,d,T){var F=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(function v(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,C),!d)throw new TypeError('missing or invalid "host" parameter');for(var $ in this._parameters={},this._headers={},this._scheme=E||o.SIP,this._user=w,this._host=d,this._port=T,F)Object.prototype.hasOwnProperty.call(F,$)&&this.setParam($,F[$]);for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&this.setHeader(O,L[O])}return G(C,null,[{key:"parse",value:function(w){if(-1!==(w=x.parse(w,"SIP_URI")))return w}}]),G(C,[{key:"setParam",value:function(w,d){w&&(this._parameters[w.toLowerCase()]=typeof d>"u"||null===d?null:d.toString())}},{key:"getParam",value:function(w){if(w)return this._parameters[w.toLowerCase()]}},{key:"hasParam",value:function(w){if(w)return!!this._parameters.hasOwnProperty(w.toLowerCase())}},{key:"deleteParam",value:function(w){if(w=w.toLowerCase(),this._parameters.hasOwnProperty(w)){var d=this._parameters[w];return delete this._parameters[w],d}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(w,d){this._headers[m.headerize(w)]=Array.isArray(d)?d:[d]}},{key:"getHeader",value:function(w){if(w)return this._headers[m.headerize(w)]}},{key:"hasHeader",value:function(w){if(w)return!!this._headers.hasOwnProperty(m.headerize(w))}},{key:"deleteHeader",value:function(w){if(w=m.headerize(w),this._headers.hasOwnProperty(w)){var d=this._headers[w];return delete this._headers[w],d}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new C(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var w=[],d="".concat(this._scheme,":");for(var T in this._user&&(d+="".concat(m.escapeUser(this._user),"@")),d+=this._host,(this._port||0===this._port)&&(d+=":".concat(this._port)),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,T)&&(d+=";".concat(T),null!==this._parameters[T]&&(d+="=".concat(this._parameters[T])));for(var F in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,F)){var $,L=Y(this._headers[F]);try{for(L.s();!($=L.n()).done;){var O=$.value;w.push("".concat(F,"=").concat(O))}}catch(M){L.e(M)}finally{L.f()}}return w.length>0&&(d+="?".concat(w.join("&"))),d}},{key:"toAor",value:function(w){var d="".concat(this._scheme,":");return this._user&&(d+="".concat(m.escapeUser(this._user),"@")),d+=this._host,w&&(this._port||0===this._port)&&(d+=":".concat(this._port)),d}},{key:"scheme",get:function(){return this._scheme},set:function(w){this._scheme=w.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(w){this._user=w}},{key:"host",get:function(){return this._host},set:function(w){this._host=w.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(w){this._port=0===w?w:parseInt(w,10)||null}}]),C}()},6886:(Le,K,H)=>{"use strict";function Y(E){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(E)}function k(E,w){var d;if(typeof Symbol>"u"||null==E[Symbol.iterator]){if(Array.isArray(E)||(d=function fe(E,w){if(E){if("string"==typeof E)return v(E,w);var d=Object.prototype.toString.call(E).slice(8,-1);if("Object"===d&&E.constructor&&(d=E.constructor.name),"Map"===d||"Set"===d)return Array.from(E);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return v(E,w)}}(E))||w&&E&&"number"==typeof E.length){d&&(E=d);var T=0,F=function(){};return{s:F,n:function(){return T>=E.length?{done:!0}:{done:!1,value:E[T++]}},e:function(N){throw N},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,L=!0,$=!1;return{s:function(){d=E[Symbol.iterator]()},n:function(){var N=d.next();return L=N.done,N},e:function(N){$=!0,O=N},f:function(){try{!L&&null!=d.return&&d.return()}finally{if($)throw O}}}}function v(E,w){(null==w||w>E.length)&&(w=E.length);for(var d=0,T=new Array(w);d<w;d++)T[d]=E[d];return T}var ie=H(5428),G=H(2661),o=H(6416);K.str_utf8_length=function(E){return unescape(encodeURIComponent(E)).length};var m=K.isFunction=function(E){return void 0!==E&&"[object Function]"===Object.prototype.toString.call(E)};K.isString=function(E){return void 0!==E&&"[object String]"===Object.prototype.toString.call(E)},K.isDecimal=function(E){return!isNaN(E)&&parseFloat(E)===parseInt(E,10)},K.isEmpty=function(E){return null===E||""===E||void 0===E||Array.isArray(E)&&0===E.length||"number"==typeof E&&isNaN(E)},K.hasMethods=function(E){for(var w=arguments.length,d=new Array(w>1?w-1:0),T=1;T<w;T++)d[T-1]=arguments[T];for(var F=0,L=d;F<L.length;F++)if(m(E[L[F]]))return!1;return!0};var x=K.createRandomToken=function(E){var d,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,F="";for(d=0;d<E;d++)F+=(Math.random()*w|0).toString(w);return F};K.newTag=function(){return x(10)},K.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(w){var d=16*Math.random()|0;return("x"===w?d:3&d|8).toString(16)})},K.hostType=function(E){if(E)return-1!==(E=o.parse(E,"host"))?E.host_type:void 0};var C=K.escapeUser=function(E){return encodeURIComponent(decodeURIComponent(E)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")};K.normalizeTarget=function(E,w){if(E){if(E instanceof G)return E;if("string"==typeof E){var T,F,L,d=E.split("@");switch(d.length){case 1:if(!w)return;T=E,F=w;break;case 2:T=d[0],F=d[1];break;default:T=d.slice(0,d.length-1).join("@"),F=d[d.length-1]}return T=T.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(T)&&(T=T.replace(/[-.()]/g,"")),E="".concat(ie.SIP,":").concat(C(T),"@").concat(F),(L=G.parse(E))?L:void 0}}},K.headerize=function(E){var L,w={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},d=E.toLowerCase().replace(/_/g,"-").split("-"),T="",F=d.length;for(L=0;L<F;L++)0!==L&&(T+="-"),T+=d[L].charAt(0).toUpperCase()+d[L].substring(1);return w[T]&&(T=w[T]),T},K.sipErrorCause=function(E){for(var w in ie.SIP_ERROR_CAUSES)if(-1!==ie.SIP_ERROR_CAUSES[w].indexOf(E))return ie.causes[w];return ie.causes.SIP_FAILURE_CODE},K.getRandomTestNetIP=function(){return"192.0.2.".concat(function E(w,d){return Math.floor(Math.random()*(d-w+1)+w)}(1,254))},K.calculateMD5=function(E){function w(gt,at){return gt<<at|gt>>>32-at}function d(gt,at){var Ct=2147483648&gt,jt=2147483648&at,Kt=1073741824&gt,$t=1073741824&at,Ft=(1073741823&gt)+(1073741823&at);return Kt&$t?2147483648^Ft^Ct^jt:Kt|$t?1073741824&Ft?3221225472^Ft^Ct^jt:1073741824^Ft^Ct^jt:Ft^Ct^jt}function O(gt,at,Ct,jt,Kt,$t,Ft){return gt=d(gt,d(d(function T(gt,at,Ct){return gt&at|~gt&Ct}(at,Ct,jt),Kt),Ft)),d(w(gt,$t),at)}function M(gt,at,Ct,jt,Kt,$t,Ft){return gt=d(gt,d(d(function F(gt,at,Ct){return gt&Ct|at&~Ct}(at,Ct,jt),Kt),Ft)),d(w(gt,$t),at)}function N(gt,at,Ct,jt,Kt,$t,Ft){return gt=d(gt,d(d(function L(gt,at,Ct){return gt^at^Ct}(at,Ct,jt),Kt),Ft)),d(w(gt,$t),at)}function W(gt,at,Ct,jt,Kt,$t,Ft){return gt=d(gt,d(d(function $(gt,at,Ct){return at^(gt|~Ct)}(at,Ct,jt),Kt),Ft)),d(w(gt,$t),at)}function se(gt){var Kt,at="",Ct="";for(Kt=0;Kt<=3;Kt++)at+=(Ct="0".concat((gt>>>8*Kt&255).toString(16))).substr(Ct.length-2,2);return at}var ne,ae,De,Ce,ee,de,B,V,ce,te;for(ne=function q(gt){for(var at,Ct=gt.length,jt=Ct+8,$t=16*((jt-jt%64)/64+1),Ft=new Array($t-1),pn=0,In=0;In<Ct;)pn=In%4*8,Ft[at=(In-In%4)/4]=Ft[at]|gt.charCodeAt(In)<<pn,In++;return Ft[at=(In-In%4)/4]=Ft[at]|128<<(pn=In%4*8),Ft[$t-2]=Ct<<3,Ft[$t-1]=Ct>>>29,Ft}(E=function me(gt){for(var at="",Ct=0;Ct<gt.length;Ct++){var jt=gt.charCodeAt(Ct);jt<128?at+=String.fromCharCode(jt):jt>127&&jt<2048?(at+=String.fromCharCode(jt>>6|192),at+=String.fromCharCode(63&jt|128)):(at+=String.fromCharCode(jt>>12|224),at+=String.fromCharCode(jt>>6&63|128),at+=String.fromCharCode(63&jt|128))}return at}(E)),B=1732584193,V=4023233417,ce=2562383102,te=271733878,ae=0;ae<ne.length;ae+=16)De=B,Ce=V,ee=ce,de=te,B=O(B,V,ce,te,ne[ae+0],7,3614090360),te=O(te,B,V,ce,ne[ae+1],12,3905402710),ce=O(ce,te,B,V,ne[ae+2],17,606105819),V=O(V,ce,te,B,ne[ae+3],22,3250441966),B=O(B,V,ce,te,ne[ae+4],7,4118548399),te=O(te,B,V,ce,ne[ae+5],12,1200080426),ce=O(ce,te,B,V,ne[ae+6],17,2821735955),V=O(V,ce,te,B,ne[ae+7],22,4249261313),B=O(B,V,ce,te,ne[ae+8],7,1770035416),te=O(te,B,V,ce,ne[ae+9],12,2336552879),ce=O(ce,te,B,V,ne[ae+10],17,4294925233),V=O(V,ce,te,B,ne[ae+11],22,2304563134),B=O(B,V,ce,te,ne[ae+12],7,1804603682),te=O(te,B,V,ce,ne[ae+13],12,4254626195),ce=O(ce,te,B,V,ne[ae+14],17,2792965006),B=M(B,V=O(V,ce,te,B,ne[ae+15],22,1236535329),ce,te,ne[ae+1],5,4129170786),te=M(te,B,V,ce,ne[ae+6],9,3225465664),ce=M(ce,te,B,V,ne[ae+11],14,643717713),V=M(V,ce,te,B,ne[ae+0],20,3921069994),B=M(B,V,ce,te,ne[ae+5],5,3593408605),te=M(te,B,V,ce,ne[ae+10],9,38016083),ce=M(ce,te,B,V,ne[ae+15],14,3634488961),V=M(V,ce,te,B,ne[ae+4],20,3889429448),B=M(B,V,ce,te,ne[ae+9],5,568446438),te=M(te,B,V,ce,ne[ae+14],9,3275163606),ce=M(ce,te,B,V,ne[ae+3],14,4107603335),V=M(V,ce,te,B,ne[ae+8],20,1163531501),B=M(B,V,ce,te,ne[ae+13],5,2850285829),te=M(te,B,V,ce,ne[ae+2],9,4243563512),ce=M(ce,te,B,V,ne[ae+7],14,1735328473),B=N(B,V=M(V,ce,te,B,ne[ae+12],20,2368359562),ce,te,ne[ae+5],4,4294588738),te=N(te,B,V,ce,ne[ae+8],11,2272392833),ce=N(ce,te,B,V,ne[ae+11],16,1839030562),V=N(V,ce,te,B,ne[ae+14],23,4259657740),B=N(B,V,ce,te,ne[ae+1],4,2763975236),te=N(te,B,V,ce,ne[ae+4],11,1272893353),ce=N(ce,te,B,V,ne[ae+7],16,4139469664),V=N(V,ce,te,B,ne[ae+10],23,3200236656),B=N(B,V,ce,te,ne[ae+13],4,681279174),te=N(te,B,V,ce,ne[ae+0],11,3936430074),ce=N(ce,te,B,V,ne[ae+3],16,3572445317),V=N(V,ce,te,B,ne[ae+6],23,76029189),B=N(B,V,ce,te,ne[ae+9],4,3654602809),te=N(te,B,V,ce,ne[ae+12],11,3873151461),ce=N(ce,te,B,V,ne[ae+15],16,530742520),B=W(B,V=N(V,ce,te,B,ne[ae+2],23,3299628645),ce,te,ne[ae+0],6,4096336452),te=W(te,B,V,ce,ne[ae+7],10,1126891415),ce=W(ce,te,B,V,ne[ae+14],15,2878612391),V=W(V,ce,te,B,ne[ae+5],21,4237533241),B=W(B,V,ce,te,ne[ae+12],6,1700485571),te=W(te,B,V,ce,ne[ae+3],10,2399980690),ce=W(ce,te,B,V,ne[ae+10],15,4293915773),V=W(V,ce,te,B,ne[ae+1],21,2240044497),B=W(B,V,ce,te,ne[ae+8],6,1873313359),te=W(te,B,V,ce,ne[ae+15],10,4264355552),ce=W(ce,te,B,V,ne[ae+6],15,2734768916),V=W(V,ce,te,B,ne[ae+13],21,1309151649),B=W(B,V,ce,te,ne[ae+4],6,4149444226),te=W(te,B,V,ce,ne[ae+11],10,3174756917),ce=W(ce,te,B,V,ne[ae+2],15,718787259),V=W(V,ce,te,B,ne[ae+9],21,3951481745),B=d(B,De),V=d(V,Ce),ce=d(ce,ee),te=d(te,de);return(se(B)+se(V)+se(ce)+se(te)).toLowerCase()},K.closeMediaStream=function(E){if(E)try{if(E.getTracks){var T,d=k(E.getTracks());try{for(d.s();!(T=d.n()).done;)T.value.stop()}catch(q){d.e(q)}finally{d.f()}}else{var $,L=k(E.getAudioTracks());try{for(L.s();!($=L.n()).done;)$.value.stop()}catch(q){L.e(q)}finally{L.f()}var N,M=k(E.getVideoTracks());try{for(M.s();!(N=M.n()).done;)N.value.stop()}catch(q){M.e(q)}finally{M.f()}}}catch{("function"==typeof E.stop||"object"===Y(E.stop))&&E.stop()}},K.cloneArray=function(E){return E&&E.slice()||[]},K.cloneObject=function(E){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E&&Object.assign({},E)||w}},9644:(Le,K,H)=>{"use strict";function k(o,m){for(var x=0;x<m.length;x++){var C=m[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}var v=H(8843),ie=H(6416),G=new v("WebSocketInterface");Le.exports=function(){function o(m){(function Y(o,m){if(!(o instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),G.debug('new() [url:"%s"]',m),this._url=m,this._sip_uri=null,this._via_transport=null,this._ws=null;var x=ie.parse(m,"absoluteURI");if(-1===x)throw G.warn("invalid WebSocket URI: ".concat(m)),new TypeError("Invalid argument: ".concat(m));if("wss"!==x.scheme&&"ws"!==x.scheme)throw G.warn("invalid WebSocket URI scheme: ".concat(x.scheme)),new TypeError("Invalid argument: ".concat(m));this._sip_uri="sip:".concat(x.host).concat(x.port?":".concat(x.port):"",";transport=ws"),this._via_transport=x.scheme.toUpperCase()}return function fe(o,m,x){m&&k(o.prototype,m),x&&k(o,x)}(o,[{key:"connect",value:function(){if(G.debug("connect()"),this.isConnected())G.debug("WebSocket ".concat(this._url," is already connected"));else if(this.isConnecting())G.debug("WebSocket ".concat(this._url," is connecting"));else{this._ws&&this.disconnect(),G.debug("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(x){this._onError(x)}}}},{key:"disconnect",value:function(){G.debug("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(x){return G.debug("send()"),this.isConnected()?(this._ws.send(x),!0):(G.warn("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){G.debug("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(x){var C=x.wasClean,E=x.code,w=x.reason;G.debug("WebSocket ".concat(this._url," closed")),!1===C&&G.debug("WebSocket abrupt disconnection"),this.ondisconnect(!C,E,w)}},{key:"_onMessage",value:function(x){var C=x.data;G.debug("received WebSocket message"),this.ondata(C)}},{key:"_onError",value:function(x){G.warn("WebSocket ".concat(this._url," error: "),x)}},{key:"via_transport",get:function(){return this._via_transport},set:function(x){this._via_transport=x.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}]),o}()},7379:(Le,K,H)=>{"use strict";function Y(se,me){var ne;if(typeof Symbol>"u"||null==se[Symbol.iterator]){if(Array.isArray(se)||(ne=function k(se,me){if(se){if("string"==typeof se)return fe(se,me);var ne=Object.prototype.toString.call(se).slice(8,-1);if("Object"===ne&&se.constructor&&(ne=se.constructor.name),"Map"===ne||"Set"===ne)return Array.from(se);if("Arguments"===ne||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return fe(se,me)}}(se))||me&&se&&"number"==typeof se.length){ne&&(se=ne);var ae=0,De=function(){};return{s:De,n:function(){return ae>=se.length?{done:!0}:{done:!1,value:se[ae++]}},e:function(V){throw V},f:De}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var de,Ce=!0,ee=!1;return{s:function(){ne=se[Symbol.iterator]()},n:function(){var V=ne.next();return Ce=V.done,V},e:function(V){ee=!0,de=V},f:function(){try{!Ce&&null!=ne.return&&ne.return()}finally{if(ee)throw de}}}}function fe(se,me){(null==me||me>se.length)&&(me=se.length);for(var ne=0,ae=new Array(me);ne<me;ne++)ae[ne]=se[ne];return ae}var w,d,T,v=H(8843),ie=H(5428),G=H(4314),o=H(6886),m=new v("sanityCheck"),x=[function W(){for(var me=0,ne=["from","to","call_id","cseq","via"];me<ne.length;me++){var ae=ne[me];if(!w.hasHeader(ae))return m.debug("missing mandatory header field : ".concat(ae,", dropping the response")),!1}}],C=[function F(){if("sip"!==w.s("to").uri.scheme)return q(416),!1},function L(){if(!w.to_tag&&w.call_id.substr(0,5)===d.configuration.jssip_id)return q(482),!1},function $(){if(o.str_utf8_length(w.body)<w.getHeader("content-length"))return q(400),!1},function O(){var ae,se=w.from_tag,me=w.call_id,ne=w.cseq;if(!w.to_tag)if(w.method===ie.INVITE){if(d._transactions.ist[w.via_branch])return!1;for(var De in d._transactions.ist)if(Object.prototype.hasOwnProperty.call(d._transactions.ist,De)&&(ae=d._transactions.ist[De]).request.from_tag===se&&ae.request.call_id===me&&ae.request.cseq===ne)return q(482),!1}else{if(d._transactions.nist[w.via_branch])return!1;for(var Ce in d._transactions.nist)if(Object.prototype.hasOwnProperty.call(d._transactions.nist,Ce)&&(ae=d._transactions.nist[Ce]).request.from_tag===se&&ae.request.call_id===me&&ae.request.cseq===ne)return q(482),!1}}],E=[function M(){if(w.getHeaders("via").length>1)return m.debug("more than one Via header field present in the response, dropping the response"),!1},function N(){if(o.str_utf8_length(w.body)<w.getHeader("content-length"))return m.debug("message body length is lower than the value in Content-Length header field, dropping the response"),!1}];function q(se){var ne,Ce,me=w.getHeaders("via"),ae="SIP/2.0 ".concat(se," ").concat(ie.REASON_PHRASE[se],"\r\n"),De=Y(me);try{for(De.s();!(Ce=De.n()).done;)ae+="Via: ".concat(Ce.value,"\r\n")}catch(de){De.e(de)}finally{De.f()}ne=w.getHeader("To"),w.to_tag||(ne+=";tag=".concat(o.newTag())),ae+="To: ".concat(ne,"\r\n"),ae+="From: ".concat(w.getHeader("From"),"\r\n"),ae+="Call-ID: ".concat(w.call_id,"\r\n"),ae+="CSeq: ".concat(w.cseq," ").concat(w.method,"\r\n"),T.send(ae+="\r\n")}Le.exports=function(se,me,ne){w=se,d=me,T=ne;var De,ae=Y(x);try{for(ae.s();!(De=ae.n()).done;)if(!1===(0,De.value)())return!1}catch(Ae){ae.e(Ae)}finally{ae.f()}if(w instanceof G.IncomingRequest){var de,ee=Y(C);try{for(ee.s();!(de=ee.n()).done;)if(!1===(0,de.value)())return!1}catch(Ae){ee.e(Ae)}finally{ee.f()}}else if(w instanceof G.IncomingResponse){var ce,V=Y(E);try{for(V.s();!(ce=V.n()).done;)if(!1===(0,ce.value)())return!1}catch(Ae){V.e(Ae)}finally{V.f()}}return!0}},7489:function(Le,K,H){var Y;Le=H.nmd(Le),function(){var k,v=200,G="Expected a function",m="__lodash_hash_undefined__",C="__lodash_placeholder__",E=1,w=2,d=4,T=1,F=2,L=1,$=2,O=4,M=8,N=16,W=32,q=64,se=128,me=256,ne=512,Ce=800,ee=16,ce=1/0,te=9007199254740991,Ae=17976931348623157e292,ge=NaN,pe=4294967295,A=pe-1,J=pe>>>1,we=[["ary",se],["bind",L],["bindKey",$],["curry",M],["curryRight",N],["flip",ne],["partial",W],["partialRight",q],["rearg",me]],_e="[object Arguments]",Se="[object Array]",Me="[object AsyncFunction]",xe="[object Boolean]",We="[object Date]",Ye="[object DOMException]",Ge="[object Error]",Be="[object Function]",Mt="[object GeneratorFunction]",Rt="[object Map]",hn="[object Number]",gt="[object Null]",at="[object Object]",Ct="[object Promise]",jt="[object Proxy]",Kt="[object RegExp]",$t="[object Set]",Ft="[object String]",pn="[object Symbol]",In="[object Undefined]",Ur="[object WeakMap]",rn="[object ArrayBuffer]",dr="[object DataView]",It="[object Float32Array]",Ji="[object Float64Array]",xi="[object Int8Array]",qr="[object Int16Array]",Xi="[object Int32Array]",es="[object Uint8Array]",ei="[object Uint8ClampedArray]",ki="[object Uint16Array]",Fi="[object Uint32Array]",ot=/\b__p \+= '';/g,Qn=/\b(__p \+=) '' \+/g,ts=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ns=/&(?:amp|lt|gt|quot|#39);/g,co=/[&<>"']/g,Sl=RegExp(ns.source),As=RegExp(co.source),fo=/<%-([\s\S]+?)%>/g,ho=/<%([\s\S]+?)%>/g,Is=/<%=([\s\S]+?)%>/g,ti=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xo=/^\w*$/,Rs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ni=/[\\^$.*+?()[\]{}|]/g,Os=RegExp(ni.source),Li=/^\s+/,Rn=/\s/,po=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ua=/\{\n\/\* \[wrapped with (.+)\] \*/,Ms=/,? & /,ea=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,go=/[()=,{}\[\]\/\s]/,rs=/\\(\\)?/g,ta=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zn=/\w*$/,mo=/^[-+]0x[0-9a-f]+$/i,Tn=/^0b[01]+$/i,wi=/^\[object .+?Constructor\]$/,nr=/^0o[0-7]+$/i,ri=/^(?:0|[1-9]\d*)$/,Ps=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ir=/($^)/,Ns=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",xs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_o="\\u2700-\\u27bf",is="a-z\\xdf-\\xf6\\xf8-\\xff",ia="A-Z\\xc0-\\xd6\\xd8-\\xde",En="\\ufe0e\\ufe0f",yo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wo="["+Ci+"]",un="["+yo+"]",Hi="["+xs+"]",dn="\\d+",Bi="["+_o+"]",Co="["+is+"]",Fs="[^"+Ci+yo+dn+_o+is+ia+"]",ht="\\ud83c[\\udffb-\\udfff]",Us="[^"+Ci+"]",Eo="(?:\\ud83c[\\udde6-\\uddff]){2}",Si="[\\ud800-\\udbff][\\udc00-\\udfff]",Ze="["+ia+"]",pt="(?:"+Co+"|"+Fs+")",Jt="(?:"+Ze+"|"+Fs+")",So="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",To="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ii="(?:"+Hi+"|"+ht+")?",ji="["+En+"]?",sa=ji+ii+"(?:\\u200d(?:"+[Us,Eo,Si].join("|")+")"+ji+ii+")*",Hr="(?:"+[Bi,Eo,Si].join("|")+")"+sa,oa="(?:"+[Us+Hi+"?",Hi,Eo,Si,wo].join("|")+")",Tl=RegExp("['\u2019]","g"),Ba=RegExp(Hi,"g"),aa=RegExp(ht+"(?="+ht+")|"+oa+sa,"g"),Hs=RegExp([Ze+"?"+Co+"+"+So+"(?="+[un,Ze,"$"].join("|")+")",Jt+"+"+To+"(?="+[un,Ze+pt,"$"].join("|")+")",Ze+"?"+pt+"+"+So,Ze+"+"+To,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dn,Hr].join("|"),"g"),la=RegExp("[\\u200d"+Ci+xs+En+"]"),Do=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ja=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Un=-1,ut={};ut[It]=ut[Ji]=ut[xi]=ut[qr]=ut[Xi]=ut[es]=ut[ei]=ut[ki]=ut[Fi]=!0,ut[_e]=ut[Se]=ut[rn]=ut[xe]=ut[dr]=ut[We]=ut[Ge]=ut[Be]=ut[Rt]=ut[hn]=ut[at]=ut[Kt]=ut[$t]=ut[Ft]=ut[Ur]=!1;var an={};an[_e]=an[Se]=an[rn]=an[dr]=an[xe]=an[We]=an[It]=an[Ji]=an[xi]=an[qr]=an[Xi]=an[Rt]=an[hn]=an[at]=an[Kt]=an[$t]=an[Ft]=an[pn]=an[es]=an[ei]=an[ki]=an[Fi]=!0,an[Ge]=an[Be]=an[Ur]=!1;var $a={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hr=parseFloat,$i=parseInt,pr="object"==typeof global&&global&&global.Object===Object&&global,ca="object"==typeof self&&self&&self.Object===Object&&self,Sn=pr||ca||Function("return this")(),Ti=K&&!K.nodeType&&K,xn=Ti&&Le&&!Le.nodeType&&Le,Bs=xn&&xn.exports===Ti,Vi=Bs&&pr.process,gr=function(){try{return xn&&xn.require&&xn.require("util").types||Vi&&Vi.binding&&Vi.binding("util")}catch{}}(),dt=gr&&gr.isArrayBuffer,os=gr&&gr.isDate,as=gr&&gr.isMap,Fn=gr&&gr.isRegExp,ls=gr&&gr.isSet,fa=gr&&gr.isTypedArray;function kt(Te,Pe,Ne){switch(Ne.length){case 0:return Te.call(Pe);case 1:return Te.call(Pe,Ne[0]);case 2:return Te.call(Pe,Ne[0],Ne[1]);case 3:return Te.call(Pe,Ne[0],Ne[1],Ne[2])}return Te.apply(Pe,Ne)}function us(Te,Pe,Ne,tt){for(var Xe=-1,nn=null==Te?0:Te.length;++Xe<nn;){var gn=Te[Xe];Pe(tt,gn,Ne(gn),Te)}return tt}function mr(Te,Pe){for(var Ne=-1,tt=null==Te?0:Te.length;++Ne<tt&&!1!==Pe(Te[Ne],Ne,Te););return Te}function Va(Te,Pe){for(var Ne=null==Te?0:Te.length;Ne--&&!1!==Pe(Te[Ne],Ne,Te););return Te}function bi(Te,Pe){for(var Ne=-1,tt=null==Te?0:Te.length;++Ne<tt;)if(!Pe(Te[Ne],Ne,Te))return!1;return!0}function Rr(Te,Pe){for(var Ne=-1,tt=null==Te?0:Te.length,Xe=0,nn=[];++Ne<tt;){var gn=Te[Ne];Pe(gn,Ne,Te)&&(nn[Xe++]=gn)}return nn}function si(Te,Pe){return!(null==Te||!Te.length)&&Or(Te,Pe,0)>-1}function Ao(Te,Pe,Ne){for(var tt=-1,Xe=null==Te?0:Te.length;++tt<Xe;)if(Ne(Pe,Te[tt]))return!0;return!1}function cn(Te,Pe){for(var Ne=-1,tt=null==Te?0:Te.length,Xe=Array(tt);++Ne<tt;)Xe[Ne]=Pe(Te[Ne],Ne,Te);return Xe}function oi(Te,Pe){for(var Ne=-1,tt=Pe.length,Xe=Te.length;++Ne<tt;)Te[Xe+Ne]=Pe[Ne];return Te}function cs(Te,Pe,Ne,tt){var Xe=-1,nn=null==Te?0:Te.length;for(tt&&nn&&(Ne=Te[++Xe]);++Xe<nn;)Ne=Pe(Ne,Te[Xe],Xe,Te);return Ne}function vr(Te,Pe,Ne,tt){var Xe=null==Te?0:Te.length;for(tt&&Xe&&(Ne=Te[--Xe]);Xe--;)Ne=Pe(Ne,Te[Xe],Xe,Te);return Ne}function rr(Te,Pe){for(var Ne=-1,tt=null==Te?0:Te.length;++Ne<tt;)if(Pe(Te[Ne],Ne,Te))return!0;return!1}var Io=Ro("length");function Lt(Te,Pe,Ne){var tt;return Ne(Te,function(Xe,nn,gn){if(Pe(Xe,nn,gn))return tt=nn,!1}),tt}function jr(Te,Pe,Ne,tt){for(var Xe=Te.length,nn=Ne+(tt?1:-1);tt?nn--:++nn<Xe;)if(Pe(Te[nn],nn,Te))return nn;return-1}function Or(Te,Pe,Ne){return Pe==Pe?function Nr(Te,Pe,Ne){for(var tt=Ne-1,Xe=Te.length;++tt<Xe;)if(Te[tt]===Pe)return tt;return-1}(Te,Pe,Ne):jr(Te,js,Ne)}function zi(Te,Pe,Ne,tt){for(var Xe=Ne-1,nn=Te.length;++Xe<nn;)if(tt(Te[Xe],Pe))return Xe;return-1}function js(Te){return Te!=Te}function Wi(Te,Pe){var Ne=null==Te?0:Te.length;return Ne?yr(Te,Pe)/Ne:ge}function Ro(Te){return function(Pe){return null==Pe?k:Pe[Te]}}function Mr(Te){return function(Pe){return null==Te?k:Te[Pe]}}function Pr(Te,Pe,Ne,tt,Xe){return Xe(Te,function(nn,gn,ve){Ne=tt?(tt=!1,nn):Pe(Ne,nn,gn,ve)}),Ne}function yr(Te,Pe){for(var Ne,tt=-1,Xe=Te.length;++tt<Xe;){var nn=Pe(Te[tt]);nn!==k&&(Ne=Ne===k?nn:Ne+nn)}return Ne}function Ut(Te,Pe){for(var Ne=-1,tt=Array(Te);++Ne<Te;)tt[Ne]=Pe(Ne);return tt}function Gi(Te){return Te&&Te.slice(0,zn(Te)+1).replace(Li,"")}function $n(Te){return function(Pe){return Te(Pe)}}function R(Te,Pe){return cn(Pe,function(Ne){return Te[Ne]})}function j(Te,Pe){return Te.has(Pe)}function re(Te,Pe){for(var Ne=-1,tt=Te.length;++Ne<tt&&Or(Pe,Te[Ne],0)>-1;);return Ne}function ue(Te,Pe){for(var Ne=Te.length;Ne--&&Or(Pe,Te[Ne],0)>-1;);return Ne}var Ee=Mr({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ue=Mr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(Te){return"\\"+$a[Te]}function vt(Te){return la.test(Te)}function Hn(Te){var Pe=-1,Ne=Array(Te.size);return Te.forEach(function(tt,Xe){Ne[++Pe]=[Xe,tt]}),Ne}function en(Te,Pe){return function(Ne){return Te(Pe(Ne))}}function wn(Te,Pe){for(var Ne=-1,tt=Te.length,Xe=0,nn=[];++Ne<tt;){var gn=Te[Ne];(gn===Pe||gn===C)&&(Te[Ne]=C,nn[Xe++]=Ne)}return nn}function Vn(Te){var Pe=-1,Ne=Array(Te.size);return Te.forEach(function(tt){Ne[++Pe]=tt}),Ne}function $s(Te){return vt(Te)?function Pt(Te){for(var Pe=aa.lastIndex=0;aa.test(Te);)++Pe;return Pe}(Te):Io(Te)}function wr(Te){return vt(Te)?function On(Te){return Te.match(aa)||[]}(Te):function mt(Te){return Te.split("")}(Te)}function zn(Te){for(var Pe=Te.length;Pe--&&Rn.test(Te.charAt(Pe)););return Pe}var rt=Mr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kn=function Te(Pe){var l,Ne=(Pe=null==Pe?Sn:kn.defaults(Sn.Object(),Pe,kn.pick(Sn,ja))).Array,tt=Pe.Date,Xe=Pe.Error,nn=Pe.Function,gn=Pe.Math,ve=Pe.Object,hs=Pe.RegExp,Wn=Pe.String,ir=Pe.TypeError,Di=Ne.prototype,f=ve.prototype,h=Pe["__core-js_shared__"],y=nn.prototype.toString,b=f.hasOwnProperty,P=0,X=(l=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Oe=f.toString,je=y.call(ve),ft=Sn._,Ht=hs("^"+y.call(b).replace(ni,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=Bs?Pe.Buffer:k,An=Pe.Symbol,sr=Pe.Uint8Array,ke=Kr?Kr.allocUnsafe:k,nt=en(ve.getPrototypeOf,ve),ha=ve.create,Ai=f.propertyIsEnumerable,wu=Di.splice,sm=An?An.isConcatSpreadable:k,bl=An?An.iterator:k,pa=An?An.toStringTag:k,Hc=function(){try{var l=Da(ve,"defineProperty");return l({},"",{}),l}catch{}}(),I0=Pe.clearTimeout!==Sn.clearTimeout&&Pe.clearTimeout,R0=tt&&tt.now!==Sn.Date.now&&tt.now,O0=Pe.setTimeout!==Sn.setTimeout&&Pe.setTimeout,Bc=gn.ceil,jc=gn.floor,Xd=ve.getOwnPropertySymbols,M0=Kr?Kr.isBuffer:k,om=Pe.isFinite,P0=Di.join,N0=en(ve.keys,ve),or=gn.max,Cr=gn.min,eh=tt.now,x0=Pe.parseInt,am=gn.random,k0=Di.reverse,Vs=Da(Pe,"DataView"),Dl=Da(Pe,"Map"),zs=Da(Pe,"Promise"),ga=Da(Pe,"Set"),Al=Da(Pe,"WeakMap"),Il=Da(ve,"create"),Rl=Al&&new Al,ma={},lm=qn(Vs),$c=qn(Dl),um=qn(zs),Ii=qn(ga),th=qn(Al),Ol=An?An.prototype:k,Bn=Ol?Ol.valueOf:k,nh=Ol?Ol.toString:k;function Q(l){if(_n(l)&&!Bt(l)&&!(l instanceof Vt)){if(l instanceof li)return l;if(b.call(l,"__wrapped__"))return bf(l)}return new li(l)}var ar=function(){function l(){}return function(c){if(!Mn(c))return{};if(ha)return ha(c);l.prototype=c;var g=new l;return l.prototype=k,g}}();function Cu(){}function li(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=k}function Vt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function va(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var D=l[c];this.set(D[0],D[1])}}function Po(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var D=l[c];this.set(D[0],D[1])}}function Ws(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var D=l[c];this.set(D[0],D[1])}}function No(l){var c=-1,g=null==l?0:l.length;for(this.__data__=new Ws;++c<g;)this.add(l[c])}function ui(l){var c=this.__data__=new Po(l);this.size=c.size}function gs(l,c){var g=Bt(l),D=!g&&al(l),U=!g&&!D&&Zs(l),Z=!g&&!D&&!U&&ll(l),le=g||D||U||Z,ye=le?Ut(l.length,Wn):[],Ie=ye.length;for(var He in l)(c||b.call(l,He))&&(!le||!("length"==He||U&&("offset"==He||"parent"==He)||Z&&("buffer"==He||"byteLength"==He||"byteOffset"==He)||jo(He,Ie)))&&ye.push(He);return ye}function Wc(l){var c=l.length;return c?l[jl(0,c-1)]:k}function za(l,c){return Yl(xr(l),_a(c,0,l.length))}function Gs(l){return Yl(xr(l))}function Gc(l,c,g){(g!==k&&!qi(l[c],g)||g===k&&!(c in l))&&ms(l,c,g)}function Wa(l,c,g){var D=l[c];(!b.call(l,c)||!qi(D,g)||g===k&&!(c in l))&&ms(l,c,g)}function Su(l,c){for(var g=l.length;g--;)if(qi(l[g][0],c))return g;return-1}function _m(l,c,g,D){return qs(l,function(U,Z,le){c(D,U,g(U),le)}),D}function Tu(l,c){return l&&Qr(c,br(c),l)}function ms(l,c,g){"__proto__"==c&&Hc?Hc(l,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[c]=g}function Pl(l,c){for(var g=-1,D=c.length,U=Ne(D),Z=null==l;++g<D;)U[g]=Z?k:ad(l,c[g]);return U}function _a(l,c,g){return l==l&&(g!==k&&(l=l<=g?l:g),c!==k&&(l=l>=c?l:c)),l}function ci(l,c,g,D,U,Z){var le,ye=c&E,Ie=c&w,He=c&d;if(g&&(le=U?g(l,D,U,Z):g(l)),le!==k)return le;if(!Mn(l))return l;var $e=Bt(l);if($e){if(le=function Ah(l){var c=l.length,g=new l.constructor(c);return c&&"string"==typeof l[0]&&b.call(l,"index")&&(g.index=l.index,g.input=l.input),g}(l),!ye)return xr(l,le)}else{var Ke=Sr(l),et=Ke==Be||Ke==Mt;if(Zs(l))return bm(l,ye);if(Ke==at||Ke==_e||et&&!U){if(le=Ie||et?{}:km(l),!ye)return Ie?function Oi(l,c){return Qr(l,ql(l),c)}(l,function qc(l,c){return l&&Qr(c,pi(c),l)}(le,l)):function Im(l,c){return Qr(l,vf(l),c)}(l,Tu(le,l))}else{if(!an[Ke])return U?l:{};le=function Fm(l,c,g){var D=l.constructor;switch(c){case rn:return wh(l);case xe:case We:return new D(+l);case dr:return function H0(l,c){var g=c?wh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}(l,g);case It:case Ji:case xi:case qr:case Xi:case es:case ei:case ki:case Fi:return Dm(l,g);case Rt:return new D;case hn:case Ft:return new D(l);case Kt:return function B0(l){var c=new l.constructor(l.source,Zn.exec(l));return c.lastIndex=l.lastIndex,c}(l);case $t:return new D;case pn:return function j0(l){return Bn?ve(Bn.call(l)):{}}(l)}}(l,Ke,ye)}}Z||(Z=new ui);var lt=Z.get(l);if(lt)return lt;Z.set(l,le),td(l)?l.forEach(function(Tt){le.add(ci(Tt,c,g,Tt,l,Z))}):Ep(l)&&l.forEach(function(Tt,Qt){le.set(Qt,ci(Tt,c,g,Qt,l,Z))});var qt=$e?k:(He?Ie?Bo:mf:Ie?pi:br)(l);return mr(qt||l,function(Tt,Qt){qt&&(Tt=l[Qt=Tt]),Wa(le,Qt,ci(Tt,c,g,Qt,l,Z))}),le}function Yc(l,c,g){var D=g.length;if(null==l)return!D;for(l=ve(l);D--;){var U=g[D],le=l[U];if(le===k&&!(U in l)||!(0,c[U])(le))return!1}return!0}function Qc(l,c,g){if("function"!=typeof l)throw new ir(G);return Aa(function(){l.apply(k,g)},c)}function Ga(l,c,g,D){var U=-1,Z=si,le=!0,ye=l.length,Ie=[],He=c.length;if(!ye)return Ie;g&&(c=cn(c,$n(g))),D?(Z=Ao,le=!1):c.length>=v&&(Z=j,le=!1,c=new No(c));e:for(;++U<ye;){var $e=l[U],Ke=null==g?$e:g($e);if($e=D||0!==$e?$e:0,le&&Ke==Ke){for(var et=He;et--;)if(c[et]===Ke)continue e;Ie.push($e)}else Z(c,Ke,D)||Ie.push($e)}return Ie}Q.templateSettings={escape:fo,evaluate:ho,interpolate:Is,variable:"",imports:{_:Q}},(Q.prototype=Cu.prototype).constructor=Q,(li.prototype=ar(Cu.prototype)).constructor=li,(Vt.prototype=ar(Cu.prototype)).constructor=Vt,va.prototype.clear=function Mo(){this.__data__=Il?Il(null):{},this.size=0},va.prototype.delete=function rh(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},va.prototype.get=function Vc(l){var c=this.__data__;if(Il){var g=c[l];return g===m?k:g}return b.call(c,l)?c[l]:k},va.prototype.has=function Nt(l){var c=this.__data__;return Il?c[l]!==k:b.call(c,l)},va.prototype.set=function ih(l,c){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Il&&c===k?m:c,this},Po.prototype.clear=function fm(){this.__data__=[],this.size=0},Po.prototype.delete=function dm(l){var c=this.__data__,g=Su(c,l);return!(g<0||(g==c.length-1?c.pop():wu.call(c,g,1),--this.size,0))},Po.prototype.get=function hm(l){var c=this.__data__,g=Su(c,l);return g<0?k:c[g][1]},Po.prototype.has=function sh(l){return Su(this.__data__,l)>-1},Po.prototype.set=function pm(l,c){var g=this.__data__,D=Su(g,l);return D<0?(++this.size,g.push([l,c])):g[D][1]=c,this},Ws.prototype.clear=function qe(){this.size=0,this.__data__={hash:new va,map:new(Dl||Po),string:new va}},Ws.prototype.delete=function ln(l){var c=Vu(this,l).delete(l);return this.size-=c?1:0,c},Ws.prototype.get=function gm(l){return Vu(this,l).get(l)},Ws.prototype.has=function mm(l){return Vu(this,l).has(l)},Ws.prototype.set=function Er(l,c){var g=Vu(this,l),D=g.size;return g.set(l,c),this.size+=g.size==D?0:1,this},No.prototype.add=No.prototype.push=function Ml(l){return this.__data__.set(l,m),this},No.prototype.has=function ps(l){return this.__data__.has(l)},ui.prototype.clear=function zc(){this.__data__=new Po,this.size=0},ui.prototype.delete=function vm(l){var c=this.__data__,g=c.delete(l);return this.size=c.size,g},ui.prototype.get=function F0(l){return this.__data__.get(l)},ui.prototype.has=function oh(l){return this.__data__.has(l)},ui.prototype.set=function $r(l,c){var g=this.__data__;if(g instanceof Po){var D=g.__data__;if(!Dl||D.length<v-1)return D.push([l,c]),this.size=++g.size,this;g=this.__data__=new Ws(D)}return g.set(l,c),this.size=g.size,this};var qs=Wl(vs),bu=Wl(Jc,!0);function ym(l,c){var g=!0;return qs(l,function(D,U,Z){return g=!!c(D,U,Z)}),g}function Du(l,c,g){for(var D=-1,U=l.length;++D<U;){var Z=l[D],le=c(Z);if(null!=le&&(ye===k?le==le&&!hi(le):g(le,ye)))var ye=le,Ie=Z}return Ie}function xo(l,c){var g=[];return qs(l,function(D,U,Z){c(D,U,Z)&&g.push(D)}),g}function Yt(l,c,g,D,U){var Z=-1,le=l.length;for(g||(g=_f),U||(U=[]);++Z<le;){var ye=l[Z];c>0&&g(ye)?c>1?Yt(ye,c-1,g,D,U):oi(U,ye):D||(U[U.length]=ye)}return U}var Zc=Qa(),ah=Qa(!0);function vs(l,c){return l&&Zc(l,c,br)}function Jc(l,c){return l&&ah(l,c,br)}function Au(l,c){return Rr(c,function(g){return Js(l[g])})}function ya(l,c){for(var g=0,D=(c=Ea(c,l)).length;null!=l&&g<D;)l=l[Cs(c[g++])];return g&&g==D?l:k}function Nl(l,c,g){var D=c(l);return Bt(l)?D:oi(D,g(l))}function lr(l){return null==l?l===k?In:gt:pa&&pa in ve(l)?function Pm(l){var c=b.call(l,pa),g=l[pa];try{l[pa]=k;var D=!0}catch{}var U=Oe.call(l);return D&&(c?l[pa]=g:delete l[pa]),U}(l):function Ph(l){return Oe.call(l)}(l)}function qa(l,c){return l>c}function Xc(l,c){return null!=l&&b.call(l,c)}function lh(l,c){return null!=l&&c in ve(l)}function ko(l,c,g){for(var D=g?Ao:si,U=l[0].length,Z=l.length,le=Z,ye=Ne(Z),Ie=1/0,He=[];le--;){var $e=l[le];le&&c&&($e=cn($e,$n(c))),Ie=Cr($e.length,Ie),ye[le]=!g&&(c||U>=120&&$e.length>=120)?new No(le&&$e):k}$e=l[0];var Ke=-1,et=ye[0];e:for(;++Ke<U&&He.length<Ie;){var lt=$e[Ke],St=c?c(lt):lt;if(lt=g||0!==lt?lt:0,!(et?j(et,St):D(He,St,g))){for(le=Z;--le;){var qt=ye[le];if(!(qt?j(qt,St):D(l[le],St,g)))continue e}et&&et.push(St),He.push(lt)}}return He}function kl(l,c,g){var D=null==(l=Nh(l,c=Ea(c,l)))?l:l[Cs(di(c))];return null==D?k:kt(D,l,g)}function Cm(l){return _n(l)&&lr(l)==_e}function Fl(l,c,g,D,U){return l===c||(null==l||null==c||!_n(l)&&!_n(c)?l!=l&&c!=c:function Em(l,c,g,D,U,Z){var le=Bt(l),ye=Bt(c),Ie=le?Se:Sr(l),He=ye?Se:Sr(c),$e=(Ie=Ie==_e?at:Ie)==at,Ke=(He=He==_e?at:He)==at,et=Ie==He;if(et&&Zs(l)){if(!Zs(c))return!1;le=!0,$e=!1}if(et&&!$e)return Z||(Z=new ui),le||ll(l)?tl(l,c,g,D,U,Z):function ju(l,c,g,D,U,Z,le){switch(g){case dr:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case rn:return!(l.byteLength!=c.byteLength||!Z(new sr(l),new sr(c)));case xe:case We:case hn:return qi(+l,+c);case Ge:return l.name==c.name&&l.message==c.message;case Kt:case Ft:return l==c+"";case Rt:var ye=Hn;case $t:if(ye||(ye=Vn),l.size!=c.size&&!(D&T))return!1;var He=le.get(l);if(He)return He==c;D|=F,le.set(l,c);var $e=tl(ye(l),ye(c),D,U,Z,le);return le.delete(l),$e;case pn:if(Bn)return Bn.call(l)==Bn.call(c)}return!1}(l,c,Ie,g,D,U,Z);if(!(g&T)){var lt=$e&&b.call(l,"__wrapped__"),St=Ke&&b.call(c,"__wrapped__");if(lt||St){var qt=lt?l.value():l,Tt=St?c.value():c;return Z||(Z=new ui),U(qt,Tt,g,D,Z)}}return!!et&&(Z||(Z=new ui),function Th(l,c,g,D,U,Z){var le=g&T,ye=mf(l),Ie=ye.length;if(Ie!=mf(c).length&&!le)return!1;for(var Ke=Ie;Ke--;){var et=ye[Ke];if(!(le?et in c:b.call(c,et)))return!1}var lt=Z.get(l),St=Z.get(c);if(lt&&St)return lt==c&&St==l;var qt=!0;Z.set(l,c),Z.set(c,l);for(var Tt=le;++Ke<Ie;){var Qt=l[et=ye[Ke]],sn=c[et];if(D)var mi=le?D(sn,Qt,et,c,l,Z):D(Qt,sn,et,l,c,Z);if(!(mi===k?Qt===sn||U(Qt,sn,g,D,Z):mi)){qt=!1;break}Tt||(Tt="constructor"==et)}if(qt&&!Tt){var ur=l.constructor,Lr=c.constructor;ur!=Lr&&"constructor"in l&&"constructor"in c&&!("function"==typeof ur&&ur instanceof ur&&"function"==typeof Lr&&Lr instanceof Lr)&&(qt=!1)}return Z.delete(l),Z.delete(c),qt}(l,c,g,D,U,Z))}(l,c,g,D,Fl,U))}function uh(l,c,g,D){var U=g.length,Z=U,le=!D;if(null==l)return!Z;for(l=ve(l);U--;){var ye=g[U];if(le&&ye[2]?ye[1]!==l[ye[0]]:!(ye[0]in l))return!1}for(;++U<Z;){var Ie=(ye=g[U])[0],He=l[Ie],$e=ye[1];if(le&&ye[2]){if(He===k&&!(Ie in l))return!1}else{var Ke=new ui;if(D)var et=D(He,$e,Ie,l,c,Ke);if(!(et===k?Fl($e,He,T|F,D,Ke):et))return!1}}return!0}function Iu(l){return!(!Mn(l)||function z0(l){return!!X&&X in l}(l))&&(Js(l)?Ht:wi).test(qn(l))}function tf(l){return"function"==typeof l?l:null==l?Fr:"object"==typeof l?Bt(l)?Hl(l[0],l[1]):Mu(l):cc(l)}function Ru(l){if(!zu(l))return N0(l);var c=[];for(var g in ve(l))b.call(l,g)&&"constructor"!=g&&c.push(g);return c}function nf(l,c){return l<c}function Ul(l,c){var g=-1,D=Tr(l)?Ne(l.length):[];return qs(l,function(U,Z,le){D[++g]=c(U,Z,le)}),D}function Mu(l){var c=bh(l);return 1==c.length&&c[0][2]?yf(c[0][0],c[0][1]):function(g){return g===l||uh(g,l,c)}}function Hl(l,c){return Kl(l)&&Rh(c)?yf(Cs(l),c):function(g){var D=ad(g,l);return D===k&&D===c?Go(g,l):Fl(c,D,T|F)}}function rf(l,c,g,D,U){l!==c&&Zc(c,function(Z,le){if(U||(U=new ui),Mn(Z))!function dh(l,c,g,D,U,Z,le){var ye=Cf(l,g),Ie=Cf(c,g),He=le.get(Ie);if(He)Gc(l,g,He);else{var $e=Z?Z(ye,Ie,g+"",l,c,le):k,Ke=$e===k;if(Ke){var et=Bt(Ie),lt=!et&&Zs(Ie),St=!et&&!lt&&ll(Ie);$e=Ie,et||lt||St?Bt(ye)?$e=ye:Ln(ye)?$e=xr(ye):lt?(Ke=!1,$e=bm(Ie,!0)):St?(Ke=!1,$e=Dm(Ie,!0)):$e=[]:Ra(Ie)||al(Ie)?($e=ye,al(ye)?$e=Oa(ye):(!Mn(ye)||Js(ye))&&($e=km(Ie))):Ke=!1}Ke&&(le.set(Ie,$e),U($e,Ie,D,Z,le),le.delete(Ie)),Gc(l,g,$e)}}(l,c,le,g,rf,D,U);else{var ye=D?D(Cf(l,le),Z,le+"",l,c,U):k;ye===k&&(ye=Z),Gc(l,le,ye)}},pi)}function sf(l,c){var g=l.length;if(g)return jo(c+=c<0?g:0,g)?l[c]:k}function hh(l,c,g){c=c.length?cn(c,function(Z){return Bt(Z)?function(le){return ya(le,1===Z.length?Z[0]:Z)}:Z}):[Fr];var D=-1;return c=cn(c,$n(wt())),function _r(Te,Pe){var Ne=Te.length;for(Te.sort(Pe);Ne--;)Te[Ne]=Te[Ne].value;return Te}(Ul(l,function(Z,le,ye){return{criteria:cn(c,function(He){return He(Z)}),index:++D,value:Z}}),function(Z,le){return function $0(l,c,g){for(var D=-1,U=l.criteria,Z=c.criteria,le=U.length,ye=g.length;++D<le;){var Ie=Ya(U[D],Z[D]);if(Ie)return D>=ye?Ie:Ie*("desc"==g[D]?-1:1)}return l.index-c.index}(Z,le,g)})}function ph(l,c,g){for(var D=-1,U=c.length,Z={};++D<U;){var le=c[D],ye=ya(l,le);g(ye,le)&&Ka(Z,Ea(le,l),ye)}return Z}function Bl(l,c,g,D){var U=D?zi:Or,Z=-1,le=c.length,ye=l;for(l===c&&(c=xr(c)),g&&(ye=cn(l,$n(g)));++Z<le;)for(var Ie=0,He=c[Z],$e=g?g(He):He;(Ie=U(ye,$e,Ie,D))>-1;)ye!==l&&wu.call(ye,Ie,1),wu.call(l,Ie,1);return l}function af(l,c){for(var g=l?c.length:0,D=g-1;g--;){var U=c[g];if(g==D||U!==Z){var Z=U;jo(U)?wu.call(l,U,1):xu(l,U)}}return l}function jl(l,c){return l+jc(am()*(c-l+1))}function uf(l,c){var g="";if(!l||c<1||c>te)return g;do{c%2&&(g+=l),(c=jc(c/2))&&(l+=l)}while(c);return g}function Gt(l,c){return Sf(Wr(l,c,Fr),l+"")}function gh(l){return Wc(fl(l))}function mh(l,c){var g=fl(l);return Yl(g,_a(c,0,g.length))}function Ka(l,c,g,D){if(!Mn(l))return l;for(var U=-1,Z=(c=Ea(c,l)).length,le=Z-1,ye=l;null!=ye&&++U<Z;){var Ie=Cs(c[U]),He=g;if("__proto__"===Ie||"constructor"===Ie||"prototype"===Ie)return l;if(U!=le){var $e=ye[Ie];(He=D?D($e,Ie,ye):k)===k&&(He=Mn($e)?$e:jo(c[U+1])?[]:{})}Wa(ye,Ie,He),ye=ye[Ie]}return l}var vh=Rl?function(l,c){return Rl.set(l,c),l}:Fr,Nu=Hc?function(l,c){return Hc(l,"toString",{configurable:!0,enumerable:!1,value:oc(c),writable:!0})}:Fr;function wa(l){return Yl(fl(l))}function Ri(l,c,g){var D=-1,U=l.length;c<0&&(c=-c>U?0:U+c),(g=g>U?U:g)<0&&(g+=U),U=c>g?0:g-c>>>0,c>>>=0;for(var Z=Ne(U);++D<U;)Z[D]=l[D+c];return Z}function _h(l,c){var g;return qs(l,function(D,U,Z){return!(g=c(D,U,Z))}),!!g}function $l(l,c,g){var D=0,U=null==l?D:l.length;if("number"==typeof c&&c==c&&U<=J){for(;D<U;){var Z=D+U>>>1,le=l[Z];null!==le&&!hi(le)&&(g?le<=c:le<c)?D=Z+1:U=Z}return U}return Fo(l,c,Fr,g)}function Fo(l,c,g,D){var U=0,Z=null==l?0:l.length;if(0===Z)return 0;for(var le=(c=g(c))!=c,ye=null===c,Ie=hi(c),He=c===k;U<Z;){var $e=jc((U+Z)/2),Ke=g(l[$e]),et=Ke!==k,lt=null===Ke,St=Ke==Ke,qt=hi(Ke);if(le)var Tt=D||St;else Tt=He?St&&(D||et):ye?St&&et&&(D||!lt):Ie?St&&et&&!lt&&(D||!qt):!lt&&!qt&&(D?Ke<=c:Ke<c);Tt?U=$e+1:Z=$e}return Cr(Z,A)}function yh(l,c){for(var g=-1,D=l.length,U=0,Z=[];++g<D;){var le=l[g],ye=c?c(le):le;if(!g||!qi(ye,Ie)){var Ie=ye;Z[U++]=0===le?0:le}}return Z}function cf(l){return"number"==typeof l?l:hi(l)?ge:+l}function zr(l){if("string"==typeof l)return l;if(Bt(l))return cn(l,zr)+"";if(hi(l))return nh?nh.call(l):"";var c=l+"";return"0"==c&&1/l==-ce?"-0":c}function Lo(l,c,g){var D=-1,U=si,Z=l.length,le=!0,ye=[],Ie=ye;if(g)le=!1,U=Ao;else if(Z>=v){var He=c?null:gf(l);if(He)return Vn(He);le=!1,U=j,Ie=new No}else Ie=c?[]:ye;e:for(;++D<Z;){var $e=l[D],Ke=c?c($e):$e;if($e=g||0!==$e?$e:0,le&&Ke==Ke){for(var et=Ie.length;et--;)if(Ie[et]===Ke)continue e;c&&Ie.push(Ke),ye.push($e)}else U(Ie,Ke,g)||(Ie!==ye&&Ie.push(Ke),ye.push($e))}return ye}function xu(l,c){return null==(l=Nh(l,c=Ea(c,l)))||delete l[Cs(di(c))]}function Vl(l,c,g,D){return Ka(l,c,g(ya(l,c)),D)}function Ks(l,c,g,D){for(var U=l.length,Z=D?U:-1;(D?Z--:++Z<U)&&c(l[Z],Z,l););return g?Ri(l,D?0:Z,D?Z+1:U):Ri(l,D?Z+1:0,D?U:Z)}function Ca(l,c){var g=l;return g instanceof Vt&&(g=g.value()),cs(c,function(D,U){return U.func.apply(U.thisArg,oi([D],U.args))},g)}function Uo(l,c,g){var D=l.length;if(D<2)return D?Lo(l[0]):[];for(var U=-1,Z=Ne(D);++U<D;)for(var le=l[U],ye=-1;++ye<D;)ye!=U&&(Z[U]=Ga(Z[U]||le,l[ye],c,g));return Lo(Yt(Z,1),c,g)}function ff(l,c,g){for(var D=-1,U=l.length,Z=c.length,le={};++D<U;)g(le,l[D],D<Z?c[D]:k);return le}function zl(l){return Ln(l)?l:[]}function Ho(l){return"function"==typeof l?l:Fr}function Ea(l,c){return Bt(l)?l:Kl(l,c)?[l]:Fh(mn(l))}var Sm=Gt;function _t(l,c,g){var D=l.length;return g=g===k?D:g,!c&&g>=D?l:Ri(l,c,g)}var Tm=I0||function(l){return Sn.clearTimeout(l)};function bm(l,c){if(c)return l.slice();var g=l.length,D=ke?ke(g):new l.constructor(g);return l.copy(D),D}function wh(l){var c=new l.constructor(l.byteLength);return new sr(c).set(new sr(l)),c}function Dm(l,c){var g=c?wh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function Ya(l,c){if(l!==c){var g=l!==k,D=null===l,U=l==l,Z=hi(l),le=c!==k,ye=null===c,Ie=c==c,He=hi(c);if(!ye&&!He&&!Z&&l>c||Z&&le&&Ie&&!ye&&!He||D&&le&&Ie||!g&&Ie||!U)return 1;if(!D&&!Z&&!He&&l<c||He&&g&&U&&!D&&!Z||ye&&g&&U||!le&&U||!Ie)return-1}return 0}function Am(l,c,g,D){for(var U=-1,Z=l.length,le=g.length,ye=-1,Ie=c.length,He=or(Z-le,0),$e=Ne(Ie+He),Ke=!D;++ye<Ie;)$e[ye]=c[ye];for(;++U<le;)(Ke||U<Z)&&($e[g[U]]=l[U]);for(;He--;)$e[ye++]=l[U++];return $e}function Gn(l,c,g,D){for(var U=-1,Z=l.length,le=-1,ye=g.length,Ie=-1,He=c.length,$e=or(Z-ye,0),Ke=Ne($e+He),et=!D;++U<$e;)Ke[U]=l[U];for(var lt=U;++Ie<He;)Ke[lt+Ie]=c[Ie];for(;++le<ye;)(et||U<Z)&&(Ke[lt+g[le]]=l[U++]);return Ke}function xr(l,c){var g=-1,D=l.length;for(c||(c=Ne(D));++g<D;)c[g]=l[g];return c}function Qr(l,c,g,D){var U=!g;g||(g={});for(var Z=-1,le=c.length;++Z<le;){var ye=c[Z],Ie=D?D(g[ye],l[ye],ye,g,l):k;Ie===k&&(Ie=l[ye]),U?ms(g,ye,Ie):Wa(g,ye,Ie)}return g}function ys(l,c){return function(g,D){var U=Bt(g)?us:_m,Z=c?c():{};return U(g,l,wt(D,2),Z)}}function Sa(l){return Gt(function(c,g){var D=-1,U=g.length,Z=U>1?g[U-1]:k,le=U>2?g[2]:k;for(Z=l.length>3&&"function"==typeof Z?(U--,Z):k,le&&Zr(g[0],g[1],le)&&(Z=U<3?k:Z,U=1),c=ve(c);++D<U;){var ye=g[D];ye&&l(c,ye,D,Z)}return c})}function Wl(l,c){return function(g,D){if(null==g)return g;if(!Tr(g))return l(g,D);for(var U=g.length,Z=c?U:-1,le=ve(g);(c?Z--:++Z<U)&&!1!==D(le[Z],Z,le););return g}}function Qa(l){return function(c,g,D){for(var U=-1,Z=ve(c),le=D(c),ye=le.length;ye--;){var Ie=le[l?ye:++U];if(!1===g(Z[Ie],Ie,Z))break}return c}}function Om(l){return function(c){var g=vt(c=mn(c))?wr(c):k,D=g?g[0]:c.charAt(0),U=g?_t(g,1).join(""):c.slice(1);return D[l]()+U}}function Za(l){return function(c){return cs(Vp(Fp(c).replace(Tl,"")),l,"")}}function ku(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=ar(l.prototype),D=l.apply(g,c);return Mn(D)?D:g}}function Fu(l){return function(c,g,D){var U=ve(c);if(!Tr(c)){var Z=wt(g,3);c=br(c),g=function(ye){return Z(U[ye],ye,U)}}var le=l(c,g,D);return le>-1?U[Z?c[le]:le]:k}}function Ta(l){return Ys(function(c){var g=c.length,D=g,U=li.prototype.thru;for(l&&c.reverse();D--;){var Z=c[D];if("function"!=typeof Z)throw new ir(G);if(U&&!le&&"wrapper"==$u(Z))var le=new li([],!0)}for(D=le?D:g;++D<g;){var ye=$u(Z=c[D]),Ie="wrapper"==ye?ba(Z):k;le=Ie&&Ih(Ie[0])&&Ie[1]==(se|M|W|me)&&!Ie[4].length&&1==Ie[9]?le[$u(Ie[0])].apply(le,Ie[3]):1==Z.length&&Ih(Z)?le[ye]():le.thru(Z)}return function(){var He=arguments,$e=He[0];if(le&&1==He.length&&Bt($e))return le.plant($e).value();for(var Ke=0,et=g?c[Ke].apply(this,He):$e;++Ke<g;)et=c[Ke].call(this,et);return et}})}function df(l,c,g,D,U,Z,le,ye,Ie,He){var $e=c&se,Ke=c&L,et=c&$,lt=c&(M|N),St=c&ne,qt=et?k:ku(l);return function Tt(){for(var Qt=arguments.length,sn=Ne(Qt),mi=Qt;mi--;)sn[mi]=arguments[mi];if(lt)var ur=Gl(Tt),Lr=function be(Te,Pe){for(var Ne=Te.length,tt=0;Ne--;)Te[Ne]===Pe&&++tt;return tt}(sn,ur);if(D&&(sn=Am(sn,D,U,lt)),Z&&(sn=Gn(sn,Z,le,lt)),Qt-=Lr,lt&&Qt<He){var Pn=wn(sn,ur);return Bu(l,c,df,Tt.placeholder,g,sn,Pn,ye,Ie,He-Qt)}var Es=Ke?g:this,Yi=et?Es[l]:l;return Qt=sn.length,ye?sn=function Um(l,c){for(var g=l.length,D=Cr(c.length,g),U=xr(l);D--;){var Z=c[D];l[D]=jo(Z,g)?U[Z]:k}return l}(sn,ye):St&&Qt>1&&sn.reverse(),$e&&Ie<Qt&&(sn.length=Ie),this&&this!==Sn&&this instanceof Tt&&(Yi=qt||ku(Yi)),Yi.apply(Es,sn)}}function hf(l,c){return function(g,D){return function xl(l,c,g,D){return vs(l,function(U,Z,le){c(D,g(U),Z,le)}),D}(g,l,c(D),{})}}function Lu(l,c){return function(g,D){var U;if(g===k&&D===k)return c;if(g!==k&&(U=g),D!==k){if(U===k)return D;"string"==typeof g||"string"==typeof D?(g=zr(g),D=zr(D)):(g=cf(g),D=cf(D)),U=l(g,D)}return U}}function pf(l){return Ys(function(c){return c=cn(c,$n(wt())),Gt(function(g){var D=this;return l(c,function(U){return kt(U,D,g)})})})}function Uu(l,c){var g=(c=c===k?" ":zr(c)).length;if(g<2)return g?uf(c,l):c;var D=uf(c,Bc(l/$s(c)));return vt(c)?_t(wr(D),0,l).join(""):D.slice(0,l)}function Ch(l){return function(c,g,D){return D&&"number"!=typeof D&&Zr(c,g,D)&&(g=D=k),c=zo(c),g===k?(g=c,c=0):g=zo(g),function lf(l,c,g,D){for(var U=-1,Z=or(Bc((c-l)/(g||1)),0),le=Ne(Z);Z--;)le[D?Z:++U]=l,l+=g;return le}(c,g,D=D===k?c<g?1:-1:zo(D),l)}}function Hu(l){return function(c,g){return"string"==typeof c&&"string"==typeof g||(c=Mi(c),g=Mi(g)),l(c,g)}}function Bu(l,c,g,D,U,Z,le,ye,Ie,He){var $e=c&M;c|=$e?W:q,(c&=~($e?q:W))&O||(c&=~(L|$));var qt=[l,c,U,$e?Z:k,$e?le:k,$e?k:Z,$e?k:le,ye,Ie,He],Tt=g.apply(k,qt);return Ih(l)&&Ef(Tt,qt),Tt.placeholder=D,xh(Tt,l,c)}function Ja(l){var c=gn[l];return function(g,D){if(g=Mi(g),(D=null==D?0:Cr(zt(D),292))&&om(g)){var U=(mn(g)+"e").split("e");return+((U=(mn(c(U[0]+"e"+(+U[1]+D)))+"e").split("e"))[0]+"e"+(+U[1]-D))}return c(g)}}var gf=ga&&1/Vn(new ga([,-0]))[1]==ce?function(l){return new ga(l)}:lc;function Xa(l){return function(c){var g=Sr(c);return g==Rt?Hn(c):g==$t?function Oo(Te){var Pe=-1,Ne=Array(Te.size);return Te.forEach(function(tt){Ne[++Pe]=[tt,tt]}),Ne}(c):function fs(Te,Pe){return cn(Pe,function(Ne){return[Ne,Te[Ne]]})}(c,l(c))}}function ws(l,c,g,D,U,Z,le,ye){var Ie=c&$;if(!Ie&&"function"!=typeof l)throw new ir(G);var He=D?D.length:0;if(He||(c&=~(W|q),D=U=k),le=le===k?le:or(zt(le),0),ye=ye===k?ye:zt(ye),He-=U?U.length:0,c&q){var $e=D,Ke=U;D=U=k}var et=Ie?k:ba(l),lt=[l,c,g,D,U,$e,Ke,Z,le,ye];if(et&&function Oh(l,c){var g=l[1],D=c[1],U=g|D;if(!(U<(L|$|se))&&!(D==se&&g==M||D==se&&g==me&&l[7].length<=c[8]||D==(se|me)&&c[7].length<=c[8]&&g==M))return l;D&L&&(l[2]=c[2],U|=g&L?0:O);var ye=c[3];if(ye){var Ie=l[3];l[3]=Ie?Am(Ie,ye,c[4]):ye,l[4]=Ie?wn(l[3],C):c[4]}(ye=c[5])&&(l[5]=(Ie=l[5])?Gn(Ie,ye,c[6]):ye,l[6]=Ie?wn(l[5],C):c[6]),(ye=c[7])&&(l[7]=ye),D&se&&(l[8]=null==l[8]?c[8]:Cr(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=U}(lt,et),l=lt[0],c=lt[1],g=lt[2],D=lt[3],U=lt[4],!(ye=lt[9]=lt[9]===k?Ie?0:l.length:or(lt[9]-He,0))&&c&(M|N)&&(c&=~(M|N)),c&&c!=L)St=c==M||c==N?function fi(l,c,g){var D=ku(l);return function U(){for(var Z=arguments.length,le=Ne(Z),ye=Z,Ie=Gl(U);ye--;)le[ye]=arguments[ye];var He=Z<3&&le[0]!==Ie&&le[Z-1]!==Ie?[]:wn(le,Ie);return(Z-=He.length)<g?Bu(l,c,df,U.placeholder,k,le,He,k,k,g-Z):kt(this&&this!==Sn&&this instanceof U?D:l,this,le)}}(l,c,ye):c!=W&&c!=(L|W)||U.length?df.apply(k,lt):function Mm(l,c,g,D){var U=c&L,Z=ku(l);return function le(){for(var ye=-1,Ie=arguments.length,He=-1,$e=D.length,Ke=Ne($e+Ie),et=this&&this!==Sn&&this instanceof le?Z:l;++He<$e;)Ke[He]=D[He];for(;Ie--;)Ke[He++]=arguments[++ye];return kt(et,U?g:this,Ke)}}(l,c,g,D);else var St=function Rm(l,c,g){var D=c&L,U=ku(l);return function Z(){return(this&&this!==Sn&&this instanceof Z?U:l).apply(D?g:this,arguments)}}(l,c,g);return xh((et?vh:Ef)(St,lt),l,c)}function el(l,c,g,D){return l===k||qi(l,f[g])&&!b.call(D,g)?c:l}function Eh(l,c,g,D,U,Z){return Mn(l)&&Mn(c)&&(Z.set(c,l),rf(l,c,k,Eh,Z),Z.delete(c)),l}function Sh(l){return Ra(l)?k:l}function tl(l,c,g,D,U,Z){var le=g&T,ye=l.length,Ie=c.length;if(ye!=Ie&&!(le&&Ie>ye))return!1;var He=Z.get(l),$e=Z.get(c);if(He&&$e)return He==c&&$e==l;var Ke=-1,et=!0,lt=g&F?new No:k;for(Z.set(l,c),Z.set(c,l);++Ke<ye;){var St=l[Ke],qt=c[Ke];if(D)var Tt=le?D(qt,St,Ke,c,l,Z):D(St,qt,Ke,l,c,Z);if(Tt!==k){if(Tt)continue;et=!1;break}if(lt){if(!rr(c,function(Qt,sn){if(!j(lt,sn)&&(St===Qt||U(St,Qt,g,D,Z)))return lt.push(sn)})){et=!1;break}}else if(St!==qt&&!U(St,qt,g,D,Z)){et=!1;break}}return Z.delete(l),Z.delete(c),et}function Ys(l){return Sf(Wr(l,k,Wu),l+"")}function mf(l){return Nl(l,br,vf)}function Bo(l){return Nl(l,pi,ql)}var ba=Rl?function(l){return Rl.get(l)}:lc;function $u(l){for(var c=l.name+"",g=ma[c],D=b.call(ma,c)?g.length:0;D--;){var U=g[D],Z=U.func;if(null==Z||Z==l)return U.name}return c}function Gl(l){return(b.call(Q,"placeholder")?Q:l).placeholder}function wt(){var l=Q.iteratee||qp;return l=l===qp?tf:l,arguments.length?l(arguments[0],arguments[1]):l}function Vu(l,c){var g=l.__data__;return function V0(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?g["string"==typeof c?"string":"hash"]:g.map}function bh(l){for(var c=br(l),g=c.length;g--;){var D=c[g],U=l[D];c[g]=[D,U,Rh(U)]}return c}function Da(l,c){var g=function yt(Te,Pe){return null==Te?k:Te[Pe]}(l,c);return Iu(g)?g:k}var vf=Xd?function(l){return null==l?[]:(l=ve(l),Rr(Xd(l),function(c){return Ai.call(l,c)}))}:dc,ql=Xd?function(l){for(var c=[];l;)oi(c,vf(l)),l=nt(l);return c}:dc,Sr=lr;function xm(l,c,g){for(var D=-1,U=(c=Ea(c,l)).length,Z=!1;++D<U;){var le=Cs(c[D]);if(!(Z=null!=l&&g(l,le)))break;l=l[le]}return Z||++D!=U?Z:!!(U=null==l?0:l.length)&&nu(U)&&jo(le,U)&&(Bt(l)||al(l))}function km(l){return"function"!=typeof l.constructor||zu(l)?{}:ar(nt(l))}function _f(l){return Bt(l)||al(l)||!!(sm&&l&&l[sm])}function jo(l,c){var g=typeof l;return!!(c=c??te)&&("number"==g||"symbol"!=g&&ri.test(l))&&l>-1&&l%1==0&&l<c}function Zr(l,c,g){if(!Mn(g))return!1;var D=typeof c;return!!("number"==D?Tr(g)&&jo(c,g.length):"string"==D&&c in g)&&qi(g[c],l)}function Kl(l,c){if(Bt(l))return!1;var g=typeof l;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=l&&!hi(l))||Xo.test(l)||!ti.test(l)||null!=c&&l in ve(c)}function Ih(l){var c=$u(l),g=Q[c];if("function"!=typeof g||!(c in Vt.prototype))return!1;if(l===g)return!0;var D=ba(g);return!!D&&l===D[0]}(Vs&&Sr(new Vs(new ArrayBuffer(1)))!=dr||Dl&&Sr(new Dl)!=Rt||zs&&Sr(zs.resolve())!=Ct||ga&&Sr(new ga)!=$t||Al&&Sr(new Al)!=Ur)&&(Sr=function(l){var c=lr(l),g=c==at?l.constructor:k,D=g?qn(g):"";if(D)switch(D){case lm:return dr;case $c:return Rt;case um:return Ct;case Ii:return $t;case th:return Ur}return c});var W0=h?Js:su;function zu(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||f)}function Rh(l){return l==l&&!Mn(l)}function yf(l,c){return function(g){return null!=g&&g[l]===c&&(c!==k||l in ve(g))}}function Wr(l,c,g){return c=or(c===k?l.length-1:c,0),function(){for(var D=arguments,U=-1,Z=or(D.length-c,0),le=Ne(Z);++U<Z;)le[U]=D[c+U];U=-1;for(var ye=Ne(c+1);++U<c;)ye[U]=D[U];return ye[c]=g(le),kt(l,this,ye)}}function Nh(l,c){return c.length<2?l:ya(l,Ri(c,0,-1))}function Cf(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var Ef=kh(vh),Aa=O0||function(l,c){return Sn.setTimeout(l,c)},Sf=kh(Nu);function xh(l,c,g){var D=c+"";return Sf(l,function Lm(l,c){var g=c.length;if(!g)return l;var D=g-1;return c[D]=(g>1?"& ":"")+c[D],c=c.join(g>2?", ":" "),l.replace(po,"{\n/* [wrapped with "+c+"] */\n")}(D,function Tf(l,c){return mr(we,function(g){var D="_."+g[0];c&g[1]&&!si(l,D)&&l.push(D)}),l.sort()}(function Dh(l){var c=l.match(Ua);return c?c[1].split(Ms):[]}(D),g)))}function kh(l){var c=0,g=0;return function(){var D=eh(),U=ee-(D-g);if(g=D,U>0){if(++c>=Ce)return arguments[0]}else c=0;return l.apply(k,arguments)}}function Yl(l,c){var g=-1,D=l.length,U=D-1;for(c=c===k?D:c;++g<c;){var Z=jl(g,U),le=l[Z];l[Z]=l[g],l[g]=le}return l.length=c,l}var Fh=function wf(l){var c=Gf(l,function(D){return 500===g.size&&g.clear(),D}),g=c.cache;return c}(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(Rs,function(g,D,U,Z){c.push(U?Z.replace(rs,"$1"):D||g)}),c});function Cs(l){if("string"==typeof l||hi(l))return l;var c=l+"";return"0"==c&&1/l==-ce?"-0":c}function qn(l){if(null!=l){try{return y.call(l)}catch{}try{return l+""}catch{}}return""}function bf(l){if(l instanceof Vt)return l.clone();var c=new li(l.__wrapped__,l.__chain__);return c.__actions__=xr(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var Lh=Gt(function(l,c){return Ln(l)?Ga(l,Yt(c,1,Ln,!0)):[]}),Uh=Gt(function(l,c){var g=di(c);return Ln(g)&&(g=k),Ln(l)?Ga(l,Yt(c,1,Ln,!0),wt(g,2)):[]}),Hm=Gt(function(l,c){var g=di(c);return Ln(g)&&(g=k),Ln(l)?Ga(l,Yt(c,1,Ln,!0),k,g):[]});function $h(l,c,g){var D=null==l?0:l.length;if(!D)return-1;var U=null==g?0:zt(g);return U<0&&(U=or(D+U,0)),jr(l,wt(c,3),U)}function Vh(l,c,g){var D=null==l?0:l.length;if(!D)return-1;var U=D-1;return g!==k&&(U=zt(g),U=g<0?or(D+U,0):Cr(U,D-1)),jr(l,wt(c,3),U,!0)}function Wu(l){return null!=l&&l.length?Yt(l,1):[]}function zh(l){return l&&l.length?l[0]:k}var Rf=Gt(function(l){var c=cn(l,zl);return c.length&&c[0]===l[0]?ko(c):[]}),Wh=Gt(function(l){var c=di(l),g=cn(l,zl);return c===di(g)?c=k:g.pop(),g.length&&g[0]===l[0]?ko(g,wt(c,2)):[]}),nl=Gt(function(l){var c=di(l),g=cn(l,zl);return(c="function"==typeof c?c:k)&&g.pop(),g.length&&g[0]===l[0]?ko(g,k,c):[]});function di(l){var c=null==l?0:l.length;return c?l[c-1]:k}var Wm=Gt(Gh);function Gh(l,c){return l&&l.length&&c&&c.length?Bl(l,c):l}var Km=Ys(function(l,c){var g=null==l?0:l.length,D=Pl(l,c);return af(l,cn(c,function(U){return jo(U,g)?+U:U}).sort(Ya)),D});function Gu(l){return null==l?l:k0.call(l)}var Jh=Gt(function(l){return Lo(Yt(l,1,Ln,!0))}),Xh=Gt(function(l){var c=di(l);return Ln(c)&&(c=k),Lo(Yt(l,1,Ln,!0),wt(c,2))}),ep=Gt(function(l){var c=di(l);return c="function"==typeof c?c:k,Lo(Yt(l,1,Ln,!0),k,c)});function rl(l){if(!l||!l.length)return[];var c=0;return l=Rr(l,function(g){if(Ln(g))return c=or(g.length,c),!0}),Ut(c,function(g){return cn(l,Ro(g))})}function kf(l,c){if(!l||!l.length)return[];var g=rl(l);return null==c?g:cn(g,function(D){return kt(c,k,D)})}var Ff=Gt(function(l,c){return Ln(l)?Ga(l,c):[]}),Lf=Gt(function(l){return Uo(Rr(l,Ln))}),Uf=Gt(function(l){var c=di(l);return Ln(c)&&(c=k),Uo(Rr(l,Ln),wt(c,2))}),Jl=Gt(function(l){var c=di(l);return c="function"==typeof c?c:k,Uo(Rr(l,Ln),k,c)}),ev=Gt(rl),nv=Gt(function(l){var c=l.length,g=c>1?l[c-1]:k;return g="function"==typeof g?(l.pop(),g):k,kf(l,g)});function rp(l){var c=Q(l);return c.__chain__=!0,c}function Xl(l,c){return c(l)}var Yu=Ys(function(l){var c=l.length,g=c?l[0]:0,D=this.__wrapped__,U=function(Z){return Pl(Z,l)};return!(c>1||this.__actions__.length)&&D instanceof Vt&&jo(g)?((D=D.slice(g,+g+(c?1:0))).__actions__.push({func:Xl,args:[U],thisArg:k}),new li(D,this.__chain__).thru(function(Z){return c&&!Z.length&&Z.push(k),Z})):this.thru(U)}),ov=ys(function(l,c,g){b.call(l,g)?++l[g]:ms(l,g,1)}),jf=Fu($h),op=Fu(Vh);function cp(l,c){return(Bt(l)?mr:qs)(l,wt(c,3))}function fp(l,c){return(Bt(l)?Va:bu)(l,wt(c,3))}var av=ys(function(l,c,g){b.call(l,g)?l[g].push(c):ms(l,g,[c])}),uv=Gt(function(l,c,g){var D=-1,U="function"==typeof c,Z=Tr(l)?Ne(l.length):[];return qs(l,function(le){Z[++D]=U?kt(c,le,g):kl(le,c,g)}),Z}),$o=ys(function(l,c,g){ms(l,g,c)});function Vo(l,c){return(Bt(l)?cn:Ul)(l,wt(c,3))}var K0=ys(function(l,c,g){l[g?0:1].push(c)},function(){return[[],[]]}),pv=Gt(function(l,c){if(null==l)return[];var g=c.length;return g>1&&Zr(l,c[0],c[1])?c=[]:g>2&&Zr(c[0],c[1],c[2])&&(c=[c[0]]),hh(l,Yt(c,1),[])}),sl=R0||function(){return Sn.Date.now()};function ol(l,c,g){return c=g?k:c,ws(l,se,k,k,k,k,c=l&&null==c?l.length:c)}function $f(l,c){var g;if("function"!=typeof c)throw new ir(G);return l=zt(l),function(){return--l>0&&(g=c.apply(this,arguments)),l<=1&&(c=k),g}}var Zu=Gt(function(l,c,g){var D=L;if(g.length){var U=wn(g,Gl(Zu));D|=W}return ws(l,D,c,g,U)}),Vf=Gt(function(l,c,g){var D=L|$;if(g.length){var U=wn(g,Gl(Vf));D|=W}return ws(c,D,l,g,U)});function vv(l,c,g){var D,U,Z,le,ye,Ie,He=0,$e=!1,Ke=!1,et=!0;if("function"!=typeof l)throw new ir(G);function lt(Pn){var Es=D,Yi=U;return D=U=k,He=Pn,le=l.apply(Yi,Es)}function Tt(Pn){var Es=Pn-Ie;return Ie===k||Es>=c||Es<0||Ke&&Pn-He>=Z}function Qt(){var Pn=sl();if(Tt(Pn))return sn(Pn);ye=Aa(Qt,function qt(Pn){var b_=c-(Pn-Ie);return Ke?Cr(b_,Z-(Pn-He)):b_}(Pn))}function sn(Pn){return ye=k,et&&D?lt(Pn):(D=U=k,le)}function Lr(){var Pn=sl(),Es=Tt(Pn);if(D=arguments,U=this,Ie=Pn,Es){if(ye===k)return function St(Pn){return He=Pn,ye=Aa(Qt,c),$e?lt(Pn):le}(Ie);if(Ke)return Tm(ye),ye=Aa(Qt,c),lt(Ie)}return ye===k&&(ye=Aa(Qt,c)),le}return c=Mi(c)||0,Mn(g)&&($e=!!g.leading,Z=(Ke="maxWait"in g)?or(Mi(g.maxWait)||0,c):Z,et="trailing"in g?!!g.trailing:et),Lr.cancel=function mi(){ye!==k&&Tm(ye),He=0,D=Ie=U=ye=k},Lr.flush=function ur(){return ye===k?le:sn(sl())},Lr}var zf=Gt(function(l,c){return Qc(l,1,c)}),Wf=Gt(function(l,c,g){return Qc(l,Mi(c)||0,g)});function Gf(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new ir(G);var g=function(){var D=arguments,U=c?c.apply(this,D):D[0],Z=g.cache;if(Z.has(U))return Z.get(U);var le=l.apply(this,D);return g.cache=Z.set(U,le)||Z,le};return g.cache=new(Gf.Cache||Ws),g}function eu(l){if("function"!=typeof l)throw new ir(G);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}Gf.Cache=Ws;var yv=Sm(function(l,c){var g=(c=1==c.length&&Bt(c[0])?cn(c[0],$n(wt())):cn(Yt(c,1),$n(wt()))).length;return Gt(function(D){for(var U=-1,Z=Cr(D.length,g);++U<Z;)D[U]=c[U].call(this,D[U]);return kt(l,this,D)})}),qf=Gt(function(l,c){var g=wn(c,Gl(qf));return ws(l,W,k,c,g)}),hp=Gt(function(l,c){var g=wn(c,Gl(hp));return ws(l,q,k,c,g)}),pp=Ys(function(l,c){return ws(l,me,k,k,k,c)});function qi(l,c){return l===c||l!=l&&c!=c}var Dv=Hu(qa),vp=Hu(function(l,c){return l>=c}),al=Cm(function(){return arguments}())?Cm:function(l){return _n(l)&&b.call(l,"callee")&&!Ai.call(l,"callee")},Bt=Ne.isArray,tu=dt?$n(dt):function ef(l){return _n(l)&&lr(l)==rn};function Tr(l){return null!=l&&nu(l.length)&&!Js(l)}function Ln(l){return _n(l)&&Tr(l)}var Zs=M0||su,ew=os?$n(os):function L0(l){return _n(l)&&lr(l)==We};function Cp(l){if(!_n(l))return!1;var c=lr(l);return c==Ge||c==Ye||"string"==typeof l.message&&"string"==typeof l.name&&!Ra(l)}function Js(l){if(!Mn(l))return!1;var c=lr(l);return c==Be||c==Mt||c==Me||c==jt}function Xu(l){return"number"==typeof l&&l==zt(l)}function nu(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=te}function Mn(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function _n(l){return null!=l&&"object"==typeof l}var Ep=as?$n(as):function U0(l){return _n(l)&&Sr(l)==Rt};function Xf(l){return"number"==typeof l||_n(l)&&lr(l)==hn}function Ra(l){if(!_n(l)||lr(l)!=at)return!1;var c=nt(l);if(null===c)return!0;var g=b.call(c,"constructor")&&c.constructor;return"function"==typeof g&&g instanceof g&&y.call(g)==je}var ed=Fn?$n(Fn):function ch(l){return _n(l)&&lr(l)==Kt},td=ls?$n(ls):function fh(l){return _n(l)&&Sr(l)==$t};function eo(l){return"string"==typeof l||!Bt(l)&&_n(l)&&lr(l)==Ft}function hi(l){return"symbol"==typeof l||_n(l)&&lr(l)==pn}var ll=fa?$n(fa):function Ll(l){return _n(l)&&nu(l.length)&&!!ut[lr(l)]},Sp=Hu(nf),Pv=Hu(function(l,c){return l<=c});function rd(l){if(!l)return[];if(Tr(l))return eo(l)?wr(l):xr(l);if(bl&&l[bl])return function fn(Te){for(var Pe,Ne=[];!(Pe=Te.next()).done;)Ne.push(Pe.value);return Ne}(l[bl]());var c=Sr(l);return(c==Rt?Hn:c==$t?Vn:fl)(l)}function zo(l){return l?(l=Mi(l))===ce||l===-ce?(l<0?-1:1)*Ae:l==l?l:0:0===l?l:0}function zt(l){var c=zo(l),g=c%1;return c==c?g?c-g:c:0}function ul(l){return l?_a(zt(l),0,pe):0}function Mi(l){if("number"==typeof l)return l;if(hi(l))return ge;if(Mn(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=Mn(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=Gi(l);var g=Tn.test(l);return g||nr.test(l)?$i(l.slice(2),g?2:8):mo.test(l)?ge:+l}function Oa(l){return Qr(l,pi(l))}function mn(l){return null==l?"":zr(l)}var Tp=Sa(function(l,c){if(zu(c)||Tr(c))Qr(c,br(c),l);else for(var g in c)b.call(c,g)&&Wa(l,g,c[g])}),ru=Sa(function(l,c){Qr(c,pi(c),l)}),nc=Sa(function(l,c,g,D){Qr(c,pi(c),l,D)}),Nv=Sa(function(l,c,g,D){Qr(c,br(c),l,D)}),rc=Ys(Pl),id=Gt(function(l,c){l=ve(l);var g=-1,D=c.length,U=D>2?c[2]:k;for(U&&Zr(c[0],c[1],U)&&(D=1);++g<D;)for(var Z=c[g],le=pi(Z),ye=-1,Ie=le.length;++ye<Ie;){var He=le[ye],$e=l[He];($e===k||qi($e,f[He])&&!b.call(l,He))&&(l[He]=Z[He])}return l}),sd=Gt(function(l){return l.push(k,Eh),kt(ld,k,l)});function ad(l,c,g){var D=null==l?k:ya(l,c);return D===k?g:D}function Go(l,c){return null!=l&&xm(l,c,lh)}var to=hf(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Oe.call(c)),l[c]=g},oc(Fr)),$v=hf(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Oe.call(c)),b.call(l,c)?l[c].push(g):l[c]=[g]},wt),Vv=Gt(kl);function br(l){return Tr(l)?gs(l):Ru(l)}function pi(l){return Tr(l)?gs(l,!0):function Ou(l){if(!Mn(l))return function Mh(l){var c=[];if(null!=l)for(var g in ve(l))c.push(g);return c}(l);var c=zu(l),g=[];for(var D in l)"constructor"==D&&(c||!b.call(l,D))||g.push(D);return g}(l)}var Dp=Sa(function(l,c,g){rf(l,c,g)}),ld=Sa(function(l,c,g,D){rf(l,c,g,D)}),zv=Ys(function(l,c){var g={};if(null==l)return g;var D=!1;c=cn(c,function(Z){return Z=Ea(Z,l),D||(D=Z.length>1),Z}),Qr(l,Bo(l),g),D&&(g=ci(g,E|w|d,Sh));for(var U=c.length;U--;)xu(g,c[U]);return g}),Wv=Ys(function(l,c){return null==l?{}:function _s(l,c){return ph(l,c,function(g,D){return Go(l,D)})}(l,c)});function Ip(l,c){if(null==l)return{};var g=cn(Bo(l),function(D){return[D]});return c=wt(c),ph(l,g,function(D,U){return c(D,U[0])})}var Op=Xa(br),Mp=Xa(pi);function fl(l){return null==l?[]:R(l,br(l))}var xp=Za(function(l,c,g){return c=c.toLowerCase(),l+(g?kp(c):c)});function kp(l){return sc(mn(l).toLowerCase())}function Fp(l){return(l=mn(l))&&l.replace(Ps,Ee).replace(Ba,"")}var Xv=Za(function(l,c,g){return l+(g?"-":"")+c.toLowerCase()}),e_=Za(function(l,c,g){return l+(g?" ":"")+c.toLowerCase()}),nw=Om("toLowerCase"),n_=Za(function(l,c,g){return l+(g?"_":"")+c.toLowerCase()}),iw=Za(function(l,c,g){return l+(g?" ":"")+sc(c)}),o_=Za(function(l,c,g){return l+(g?" ":"")+c.toUpperCase()}),sc=Om("toUpperCase");function Vp(l,c,g){return l=mn(l),(c=g?k:c)===k?function Dn(Te){return Do.test(Te)}(l)?function ai(Te){return Te.match(Hs)||[]}(l):function da(Te){return Te.match(ea)||[]}(l):l.match(c)||[]}var zp=Gt(function(l,c){try{return kt(l,k,c)}catch(g){return Cp(g)?g:new Xe(g)}}),a_=Ys(function(l,c){return mr(c,function(g){g=Cs(g),ms(l,g,Zu(l[g],l))}),l});function oc(l){return function(){return l}}var Wp=Ta(),Gp=Ta(!0);function Fr(l){return l}function qp(l){return tf("function"==typeof l?l:ci(l,E))}var aw=Gt(function(l,c){return function(g){return kl(g,l,c)}}),bt=Gt(function(l,c){return function(g){return kl(l,g,c)}});function ac(l,c,g){var D=br(c),U=Au(c,D);null==g&&(!Mn(c)||!U.length&&D.length)&&(g=c,c=l,l=this,U=Au(c,br(c)));var Z=!(Mn(g)&&"chain"in g&&!g.chain),le=Js(l);return mr(U,function(ye){var Ie=c[ye];l[ye]=Ie,le&&(l.prototype[ye]=function(){var He=this.__chain__;if(Z||He){var $e=l(this.__wrapped__);return($e.__actions__=xr(this.__actions__)).push({func:Ie,args:arguments,thisArg:l}),$e.__chain__=He,$e}return Ie.apply(l,oi([this.value()],arguments))})}),l}function lc(){}var p_=pf(cn),uc=pf(bi),hl=pf(rr);function cc(l){return Kl(l)?Ro(Cs(l)):function Pu(l){return function(c){return ya(c,l)}}(l)}var dd=Ch(),fc=Ch(!0);function dc(){return[]}function su(){return!1}var Yp=Lu(function(l,c){return l+c},0),v_=Ja("ceil"),Qp=Lu(function(l,c){return l/c},1),Zp=Ja("floor"),md=Lu(function(l,c){return l*c},1),Jp=Ja("round"),E_=Lu(function(l,c){return l-c},0);return Q.after=function Qs(l,c){if("function"!=typeof c)throw new ir(G);return l=zt(l),function(){if(--l<1)return c.apply(this,arguments)}},Q.ary=ol,Q.assign=Tp,Q.assignIn=ru,Q.assignInWith=nc,Q.assignWith=Nv,Q.at=rc,Q.before=$f,Q.bind=Zu,Q.bindAll=a_,Q.bindKey=Vf,Q.castArray=function Ev(){if(!arguments.length)return[];var l=arguments[0];return Bt(l)?l:[l]},Q.chain=rp,Q.chunk=function Df(l,c,g){c=(g?Zr(l,c,g):c===k)?1:or(zt(c),0);var D=null==l?0:l.length;if(!D||c<1)return[];for(var U=0,Z=0,le=Ne(Bc(D/c));U<D;)le[Z++]=Ri(l,U,U+=c);return le},Q.compact=function kr(l){for(var c=-1,g=null==l?0:l.length,D=0,U=[];++c<g;){var Z=l[c];Z&&(U[D++]=Z)}return U},Q.concat=function Ql(){var l=arguments.length;if(!l)return[];for(var c=Ne(l-1),g=arguments[0],D=l;D--;)c[D-1]=arguments[D];return oi(Bt(g)?xr(g):[g],Yt(c,1))},Q.cond=function l_(l){var c=null==l?0:l.length,g=wt();return l=c?cn(l,function(D){if("function"!=typeof D[1])throw new ir(G);return[g(D[0]),D[1]]}):[],Gt(function(D){for(var U=-1;++U<c;){var Z=l[U];if(kt(Z[0],this,D))return kt(Z[1],this,D)}})},Q.conforms=function u_(l){return function Kc(l){var c=br(l);return function(g){return Yc(g,l,c)}}(ci(l,E))},Q.constant=oc,Q.countBy=ov,Q.create=function xv(l,c){var g=ar(l);return null==c?g:Tu(g,c)},Q.curry=function gv(l,c,g){var D=ws(l,M,k,k,k,k,k,c=g?k:c);return D.placeholder=gv.placeholder,D},Q.curryRight=function mv(l,c,g){var D=ws(l,N,k,k,k,k,k,c=g?k:c);return D.placeholder=mv.placeholder,D},Q.debounce=vv,Q.defaults=id,Q.defaultsDeep=sd,Q.defer=zf,Q.delay=Wf,Q.difference=Lh,Q.differenceBy=Uh,Q.differenceWith=Hm,Q.drop=function Hh(l,c,g){var D=null==l?0:l.length;return D?Ri(l,(c=g||c===k?1:zt(c))<0?0:c,D):[]},Q.dropRight=function Bm(l,c,g){var D=null==l?0:l.length;return D?Ri(l,0,(c=D-(c=g||c===k?1:zt(c)))<0?0:c):[]},Q.dropRightWhile=function Bh(l,c){return l&&l.length?Ks(l,wt(c,3),!0,!0):[]},Q.dropWhile=function jm(l,c){return l&&l.length?Ks(l,wt(c,3),!0):[]},Q.fill=function jh(l,c,g,D){var U=null==l?0:l.length;return U?(g&&"number"!=typeof g&&Zr(l,c,g)&&(g=0,D=U),function Vr(l,c,g,D){var U=l.length;for((g=zt(g))<0&&(g=-g>U?0:U+g),(D=D===k||D>U?U:zt(D))<0&&(D+=U),D=g>D?0:ul(D);g<D;)l[g++]=c;return l}(l,c,g,D)):[]},Q.filter=function Qu(l,c){return(Bt(l)?Rr:xo)(l,wt(c,3))},Q.flatMap=function ap(l,c){return Yt(Vo(l,c),1)},Q.flatMapDeep=function lp(l,c){return Yt(Vo(l,c),ce)},Q.flatMapDepth=function up(l,c,g){return g=g===k?1:zt(g),Yt(Vo(l,c),g)},Q.flatten=Wu,Q.flattenDeep=function Af(l){return null!=l&&l.length?Yt(l,ce):[]},Q.flattenDepth=function $m(l,c){return null!=l&&l.length?Yt(l,c=c===k?1:zt(c)):[]},Q.flip=function X0(l){return ws(l,ne)},Q.flow=Wp,Q.flowRight=Gp,Q.fromPairs=function Zl(l){for(var c=-1,g=null==l?0:l.length,D={};++c<g;){var U=l[c];D[U[0]]=U[1]}return D},Q.functions=function Hv(l){return null==l?[]:Au(l,br(l))},Q.functionsIn=function Bv(l){return null==l?[]:Au(l,pi(l))},Q.groupBy=av,Q.initial=function If(l){return null!=l&&l.length?Ri(l,0,-1):[]},Q.intersection=Rf,Q.intersectionBy=Wh,Q.intersectionWith=nl,Q.invert=to,Q.invertBy=$v,Q.invokeMap=uv,Q.iteratee=qp,Q.keyBy=$o,Q.keys=br,Q.keysIn=pi,Q.map=Vo,Q.mapKeys=function bp(l,c){var g={};return c=wt(c,3),vs(l,function(D,U,Z){ms(g,c(D,U,Z),D)}),g},Q.mapValues=function tw(l,c){var g={};return c=wt(c,3),vs(l,function(D,U,Z){ms(g,U,c(D,U,Z))}),g},Q.matches=function fd(l){return Mu(ci(l,E))},Q.matchesProperty=function f_(l,c){return Hl(l,ci(c,E))},Q.memoize=Gf,Q.merge=Dp,Q.mergeWith=ld,Q.method=aw,Q.methodOf=bt,Q.mixin=ac,Q.negate=eu,Q.nthArg=function h_(l){return l=zt(l),Gt(function(c){return sf(c,l)})},Q.omit=zv,Q.omitBy=function Ap(l,c){return Ip(l,eu(wt(c)))},Q.once=function _v(l){return $f(2,l)},Q.orderBy=function cv(l,c,g,D){return null==l?[]:(Bt(c)||(c=null==c?[]:[c]),Bt(g=D?k:g)||(g=null==g?[]:[g]),hh(l,c,g))},Q.over=p_,Q.overArgs=yv,Q.overEvery=uc,Q.overSome=hl,Q.partial=qf,Q.partialRight=hp,Q.partition=K0,Q.pick=Wv,Q.pickBy=Ip,Q.property=cc,Q.propertyOf=function iu(l){return function(c){return null==l?k:ya(l,c)}},Q.pull=Wm,Q.pullAll=Gh,Q.pullAllBy=function Gm(l,c,g){return l&&l.length&&c&&c.length?Bl(l,c,wt(g,2)):l},Q.pullAllWith=function qm(l,c,g){return l&&l.length&&c&&c.length?Bl(l,c,k,g):l},Q.pullAt=Km,Q.range=dd,Q.rangeRight=fc,Q.rearg=pp,Q.reject=function Z0(l,c){return(Bt(l)?Rr:xo)(l,eu(wt(c,3)))},Q.remove=function Ym(l,c){var g=[];if(!l||!l.length)return g;var D=-1,U=[],Z=l.length;for(c=wt(c,3);++D<Z;){var le=l[D];c(le,D,l)&&(g.push(le),U.push(D))}return af(l,U),g},Q.rest=function Ju(l,c){if("function"!=typeof l)throw new ir(G);return Gt(l,c=c===k?c:zt(c))},Q.reverse=Gu,Q.sampleSize=function dp(l,c,g){return c=(g?Zr(l,c,g):c===k)?1:zt(c),(Bt(l)?za:mh)(l,c)},Q.set=function Gv(l,c,g){return null==l?l:Ka(l,c,g)},Q.setWith=function Rp(l,c,g,D){return D="function"==typeof D?D:k,null==l?l:Ka(l,c,g,D)},Q.shuffle=function fv(l){return(Bt(l)?Gs:wa)(l)},Q.slice=function Pf(l,c,g){var D=null==l?0:l.length;return D?(g&&"number"!=typeof g&&Zr(l,c,g)?(c=0,g=D):(c=null==c?0:zt(c),g=g===k?D:zt(g)),Ri(l,c,g)):[]},Q.sortBy=pv,Q.sortedUniq=function Ia(l){return l&&l.length?yh(l):[]},Q.sortedUniqBy=function Qh(l,c){return l&&l.length?yh(l,wt(c,2)):[]},Q.split=function rw(l,c,g){return g&&"number"!=typeof g&&Zr(l,c,g)&&(c=g=k),(g=g===k?pe:g>>>0)?(l=mn(l))&&("string"==typeof c||null!=c&&!ed(c))&&!(c=zr(c))&&vt(l)?_t(wr(l),0,g):l.split(c,g):[]},Q.spread=function wv(l,c){if("function"!=typeof l)throw new ir(G);return c=null==c?0:or(zt(c),0),Gt(function(g){var D=g[c],U=_t(g,0,c);return D&&oi(U,D),kt(l,this,U)})},Q.tail=function Zh(l){var c=null==l?0:l.length;return c?Ri(l,1,c):[]},Q.take=function Jm(l,c,g){return l&&l.length?Ri(l,0,(c=g||c===k?1:zt(c))<0?0:c):[]},Q.takeRight=function G0(l,c,g){var D=null==l?0:l.length;return D?Ri(l,(c=D-(c=g||c===k?1:zt(c)))<0?0:c,D):[]},Q.takeRightWhile=function qu(l,c){return l&&l.length?Ks(l,wt(c,3),!1,!0):[]},Q.takeWhile=function Xm(l,c){return l&&l.length?Ks(l,wt(c,3)):[]},Q.tap=function ip(l,c){return c(l),l},Q.throttle=function Kf(l,c,g){var D=!0,U=!0;if("function"!=typeof l)throw new ir(G);return Mn(g)&&(D="leading"in g?!!g.leading:D,U="trailing"in g?!!g.trailing:U),vv(l,c,{leading:D,maxWait:c,trailing:U})},Q.thru=Xl,Q.toArray=rd,Q.toPairs=Op,Q.toPairsIn=Mp,Q.toPath=function g_(l){return Bt(l)?cn(l,Cs):hi(l)?[l]:xr(Fh(mn(l)))},Q.toPlainObject=Oa,Q.transform=function qv(l,c,g){var D=Bt(l),U=D||Zs(l)||ll(l);if(c=wt(c,4),null==g){var Z=l&&l.constructor;g=U?D?new Z:[]:Mn(l)&&Js(Z)?ar(nt(l)):{}}return(U?mr:vs)(l,function(le,ye,Ie){return c(g,le,ye,Ie)}),g},Q.unary=function Cv(l){return ol(l,1)},Q.union=Jh,Q.unionBy=Xh,Q.unionWith=ep,Q.uniq=function xf(l){return l&&l.length?Lo(l):[]},Q.uniqBy=function tp(l,c){return l&&l.length?Lo(l,wt(c,2)):[]},Q.uniqWith=function Ku(l,c){return c="function"==typeof c?c:k,l&&l.length?Lo(l,k,c):[]},Q.unset=function Kv(l,c){return null==l||xu(l,c)},Q.unzip=rl,Q.unzipWith=kf,Q.update=function Pp(l,c,g){return null==l?l:Vl(l,c,Ho(g))},Q.updateWith=function Yv(l,c,g,D){return D="function"==typeof D?D:k,null==l?l:Vl(l,c,Ho(g),D)},Q.values=fl,Q.valuesIn=function Qv(l){return null==l?[]:R(l,pi(l))},Q.without=Ff,Q.words=Vp,Q.wrap=function Kn(l,c){return qf(Ho(c),l)},Q.xor=Lf,Q.xorBy=Uf,Q.xorWith=Jl,Q.zip=ev,Q.zipObject=function np(l,c){return ff(l||[],c||[],Wa)},Q.zipObjectDeep=function tv(l,c){return ff(l||[],c||[],Ka)},Q.zipWith=nv,Q.entries=Op,Q.entriesIn=Mp,Q.extend=ru,Q.extendWith=nc,ac(Q,Q),Q.add=Yp,Q.attempt=zp,Q.camelCase=xp,Q.capitalize=kp,Q.ceil=v_,Q.clamp=function xt(l,c,g){return g===k&&(g=c,c=k),g!==k&&(g=(g=Mi(g))==g?g:0),c!==k&&(c=(c=Mi(c))==c?c:0),_a(Mi(l),c,g)},Q.clone=function Sv(l){return ci(l,d)},Q.cloneDeep=function mp(l){return ci(l,E|d)},Q.cloneDeepWith=function Tv(l,c){return ci(l,E|d,c="function"==typeof c?c:k)},Q.cloneWith=function gp(l,c){return ci(l,d,c="function"==typeof c?c:k)},Q.conformsTo=function bv(l,c){return null==c||Yc(l,c,br(c))},Q.deburr=Fp,Q.defaultTo=function c_(l,c){return null==l||l!=l?c:l},Q.divide=Qp,Q.endsWith=function Lp(l,c,g){l=mn(l),c=zr(c);var D=l.length,U=g=g===k?D:_a(zt(g),0,D);return(g-=c.length)>=0&&l.slice(g,U)==c},Q.eq=qi,Q.escape=function Jv(l){return(l=mn(l))&&As.test(l)?l.replace(co,Ue):l},Q.escapeRegExp=function Up(l){return(l=mn(l))&&Os.test(l)?l.replace(ni,"\\$&"):l},Q.every=function sp(l,c,g){var D=Bt(l)?bi:ym;return g&&Zr(l,c,g)&&(c=k),D(l,wt(c,3))},Q.find=jf,Q.findIndex=$h,Q.findKey=function kv(l,c){return Lt(l,wt(c,3),vs)},Q.findLast=op,Q.findLastIndex=Vh,Q.findLastKey=function od(l,c){return Lt(l,wt(c,3),Jc)},Q.floor=Zp,Q.forEach=cp,Q.forEachRight=fp,Q.forIn=function cl(l,c){return null==l?l:Zc(l,wt(c,3),pi)},Q.forInRight=function Fv(l,c){return null==l?l:ah(l,wt(c,3),pi)},Q.forOwn=function Lv(l,c){return l&&vs(l,wt(c,3))},Q.forOwnRight=function Uv(l,c){return l&&Jc(l,wt(c,3))},Q.get=ad,Q.gt=Dv,Q.gte=vp,Q.has=function jv(l,c){return null!=l&&xm(l,c,Xc)},Q.hasIn=Go,Q.head=zh,Q.identity=Fr,Q.includes=function lv(l,c,g,D){l=Tr(l)?l:fl(l),g=g&&!D?zt(g):0;var U=l.length;return g<0&&(g=or(U+g,0)),eo(l)?g<=U&&l.indexOf(c,g)>-1:!!U&&Or(l,c,g)>-1},Q.indexOf=function Vm(l,c,g){var D=null==l?0:l.length;if(!D)return-1;var U=null==g?0:zt(g);return U<0&&(U=or(D+U,0)),Or(l,c,U)},Q.inRange=function Zv(l,c,g){return c=zo(c),g===k?(g=c,c=0):g=zo(g),function wm(l,c,g){return l>=Cr(c,g)&&l<or(c,g)}(l=Mi(l),c,g)},Q.invoke=Vv,Q.isArguments=al,Q.isArray=Bt,Q.isArrayBuffer=tu,Q.isArrayLike=Tr,Q.isArrayLikeObject=Ln,Q.isBoolean=function _p(l){return!0===l||!1===l||_n(l)&&lr(l)==xe},Q.isBuffer=Zs,Q.isDate=ew,Q.isElement=function Av(l){return _n(l)&&1===l.nodeType&&!Ra(l)},Q.isEmpty=function yp(l){if(null==l)return!0;if(Tr(l)&&(Bt(l)||"string"==typeof l||"function"==typeof l.splice||Zs(l)||ll(l)||al(l)))return!l.length;var c=Sr(l);if(c==Rt||c==$t)return!l.size;if(zu(l))return!Ru(l).length;for(var g in l)if(b.call(l,g))return!1;return!0},Q.isEqual=function wp(l,c){return Fl(l,c)},Q.isEqualWith=function Yf(l,c,g){var D=(g="function"==typeof g?g:k)?g(l,c):k;return D===k?Fl(l,c,k,g):!!D},Q.isError=Cp,Q.isFinite=function Qf(l){return"number"==typeof l&&om(l)},Q.isFunction=Js,Q.isInteger=Xu,Q.isLength=nu,Q.isMap=Ep,Q.isMatch=function Zf(l,c){return l===c||uh(l,c,bh(c))},Q.isMatchWith=function ec(l,c,g){return g="function"==typeof g?g:k,uh(l,c,bh(c),g)},Q.isNaN=function Iv(l){return Xf(l)&&l!=+l},Q.isNative=function Jf(l){if(W0(l))throw new Xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Iu(l)},Q.isNil=function Xs(l){return null==l},Q.isNull=function tc(l){return null===l},Q.isNumber=Xf,Q.isObject=Mn,Q.isObjectLike=_n,Q.isPlainObject=Ra,Q.isRegExp=ed,Q.isSafeInteger=function Rv(l){return Xu(l)&&l>=-te&&l<=te},Q.isSet=td,Q.isString=eo,Q.isSymbol=hi,Q.isTypedArray=ll,Q.isUndefined=function Ov(l){return l===k},Q.isWeakMap=function nd(l){return _n(l)&&Sr(l)==Ur},Q.isWeakSet=function Mv(l){return _n(l)&&"[object WeakSet]"==lr(l)},Q.join=function Of(l,c){return null==l?"":P0.call(l,c)},Q.kebabCase=Xv,Q.last=di,Q.lastIndexOf=function zm(l,c,g){var D=null==l?0:l.length;if(!D)return-1;var U=D;return g!==k&&(U=(U=zt(g))<0?or(D+U,0):Cr(U,D-1)),c==c?function yu(Te,Pe,Ne){for(var tt=Ne+1;tt--;)if(Te[tt]===Pe)return tt;return tt}(l,c,U):jr(l,js,U,!0)},Q.lowerCase=e_,Q.lowerFirst=nw,Q.lt=Sp,Q.lte=Pv,Q.max=function __(l){return l&&l.length?Du(l,Fr,qa):k},Q.maxBy=function y_(l,c){return l&&l.length?Du(l,wt(c,2),qa):k},Q.mean=function gi(l){return Wi(l,Fr)},Q.meanBy=function w_(l,c){return Wi(l,wt(c,2))},Q.min=function C_(l){return l&&l.length?Du(l,Fr,nf):k},Q.minBy=function lw(l,c){return l&&l.length?Du(l,wt(c,2),nf):k},Q.stubArray=dc,Q.stubFalse=su,Q.stubObject=function hd(){return{}},Q.stubString=function pd(){return""},Q.stubTrue=function Kp(){return!0},Q.multiply=md,Q.nth=function Mf(l,c){return l&&l.length?sf(l,zt(c)):k},Q.noConflict=function d_(){return Sn._===this&&(Sn._=ft),this},Q.noop=lc,Q.now=sl,Q.pad=function Hp(l,c,g){l=mn(l);var D=(c=zt(c))?$s(l):0;if(!c||D>=c)return l;var U=(c-D)/2;return Uu(jc(U),g)+l+Uu(Bc(U),g)},Q.padEnd=function Bp(l,c,g){l=mn(l);var D=(c=zt(c))?$s(l):0;return c&&D<c?l+Uu(c-D,g):l},Q.padStart=function no(l,c,g){l=mn(l);var D=(c=zt(c))?$s(l):0;return c&&D<c?Uu(c-D,g)+l:l},Q.parseInt=function t_(l,c,g){return g||null==c?c=0:c&&(c=+c),x0(mn(l).replace(Li,""),c||0)},Q.random=function Np(l,c,g){if(g&&"boolean"!=typeof g&&Zr(l,c,g)&&(c=g=k),g===k&&("boolean"==typeof c?(g=c,c=k):"boolean"==typeof l&&(g=l,l=k)),l===k&&c===k?(l=0,c=1):(l=zo(l),c===k?(c=l,l=0):c=zo(c)),l>c){var D=l;l=c,c=D}if(g||l%1||c%1){var U=am();return Cr(l+U*(c-l+hr("1e-"+((U+"").length-1))),c)}return jl(l,c)},Q.reduce=function Y0(l,c,g){var D=Bt(l)?cs:Pr,U=arguments.length<3;return D(l,wt(c,4),g,U,qs)},Q.reduceRight=function Q0(l,c,g){var D=Bt(l)?vr:Pr,U=arguments.length<3;return D(l,wt(c,4),g,U,bu)},Q.repeat=function ud(l,c,g){return c=(g?Zr(l,c,g):c===k)?1:zt(c),uf(mn(l),c)},Q.replace=function cd(){var l=arguments,c=mn(l[0]);return l.length<3?c:c.replace(l[1],l[2])},Q.result=function Ki(l,c,g){var D=-1,U=(c=Ea(c,l)).length;for(U||(U=1,l=k);++D<U;){var Z=null==l?k:l[Cs(c[D])];Z===k&&(D=U,Z=g),l=Js(Z)?Z.call(l):Z}return l},Q.round=Jp,Q.runInContext=Te,Q.sample=function J0(l){return(Bt(l)?Wc:gh)(l)},Q.size=function dv(l){if(null==l)return 0;if(Tr(l))return eo(l)?$s(l):l.length;var c=Sr(l);return c==Rt||c==$t?l.size:Ru(l).length},Q.snakeCase=n_,Q.some=function hv(l,c,g){var D=Bt(l)?rr:_h;return g&&Zr(l,c,g)&&(c=k),D(l,wt(c,3))},Q.sortedIndex=function qh(l,c){return $l(l,c)},Q.sortedIndexBy=function Nf(l,c,g){return Fo(l,c,wt(g,2))},Q.sortedIndexOf=function Qm(l,c){var g=null==l?0:l.length;if(g){var D=$l(l,c);if(D<g&&qi(l[D],c))return D}return-1},Q.sortedLastIndex=function Zm(l,c){return $l(l,c,!0)},Q.sortedLastIndexBy=function Kh(l,c,g){return Fo(l,c,wt(g,2),!0)},Q.sortedLastIndexOf=function Yh(l,c){if(null!=l&&l.length){var D=$l(l,c,!0)-1;if(qi(l[D],c))return D}return-1},Q.startCase=iw,Q.startsWith=function sw(l,c,g){return l=mn(l),g=null==g?0:_a(zt(g),0,l.length),c=zr(c),l.slice(g,g+c.length)==c},Q.subtract=E_,Q.sum=function S_(l){return l&&l.length?yr(l,Fr):0},Q.sumBy=function T_(l,c){return l&&l.length?yr(l,wt(c,2)):0},Q.template=function r_(l,c,g){var D=Q.templateSettings;g&&Zr(l,c,g)&&(c=k),l=mn(l),c=nc({},c,D,el);var ye,Ie,U=nc({},c.imports,D.imports,el),Z=br(U),le=R(U,Z),He=0,$e=c.interpolate||Ir,Ke="__p += '",et=hs((c.escape||Ir).source+"|"+$e.source+"|"+($e===Is?ta:Ir).source+"|"+(c.evaluate||Ir).source+"|$","g"),lt="//# sourceURL="+(b.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Un+"]")+"\n";l.replace(et,function(Tt,Qt,sn,mi,ur,Lr){return sn||(sn=mi),Ke+=l.slice(He,Lr).replace(Ns,Je),Qt&&(ye=!0,Ke+="' +\n__e("+Qt+") +\n'"),ur&&(Ie=!0,Ke+="';\n"+ur+";\n__p += '"),sn&&(Ke+="' +\n((__t = ("+sn+")) == null ? '' : __t) +\n'"),He=Lr+Tt.length,Tt}),Ke+="';\n";var St=b.call(c,"variable")&&c.variable;if(St){if(go.test(St))throw new Xe("Invalid `variable` option passed into `_.template`")}else Ke="with (obj) {\n"+Ke+"\n}\n";Ke=(Ie?Ke.replace(ot,""):Ke).replace(Qn,"$1").replace(ts,"$1;"),Ke="function("+(St||"obj")+") {\n"+(St?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ye?", __e = _.escape":"")+(Ie?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ke+"return __p\n}";var qt=zp(function(){return nn(Z,lt+"return "+Ke).apply(k,le)});if(qt.source=Ke,Cp(qt))throw qt;return qt},Q.times=function gd(l,c){if((l=zt(l))<1||l>te)return[];var g=pe,D=Cr(l,pe);c=wt(c),l-=pe;for(var U=Ut(D,c);++g<l;)c(g);return U},Q.toFinite=zo,Q.toInteger=zt,Q.toLength=ul,Q.toLower=function jp(l){return mn(l).toLowerCase()},Q.toNumber=Mi,Q.toSafeInteger=function Wo(l){return l?_a(zt(l),-te,te):0===l?l:0},Q.toString=mn,Q.toUpper=function ow(l){return mn(l).toUpperCase()},Q.trim=function i_(l,c,g){if((l=mn(l))&&(g||c===k))return Gi(l);if(!l||!(c=zr(c)))return l;var D=wr(l),U=wr(c);return _t(D,re(D,U),ue(D,U)+1).join("")},Q.trimEnd=function dl(l,c,g){if((l=mn(l))&&(g||c===k))return l.slice(0,zn(l)+1);if(!l||!(c=zr(c)))return l;var D=wr(l);return _t(D,0,ue(D,wr(c))+1).join("")},Q.trimStart=function s_(l,c,g){if((l=mn(l))&&(g||c===k))return l.replace(Li,"");if(!l||!(c=zr(c)))return l;var D=wr(l);return _t(D,re(D,wr(c))).join("")},Q.truncate=function $p(l,c){var g=30,D="...";if(Mn(c)){var U="separator"in c?c.separator:U;g="length"in c?zt(c.length):g,D="omission"in c?zr(c.omission):D}var Z=(l=mn(l)).length;if(vt(l)){var le=wr(l);Z=le.length}if(g>=Z)return l;var ye=g-$s(D);if(ye<1)return D;var Ie=le?_t(le,0,ye).join(""):l.slice(0,ye);if(U===k)return Ie+D;if(le&&(ye+=Ie.length-ye),ed(U)){if(l.slice(ye).search(U)){var He,$e=Ie;for(U.global||(U=hs(U.source,mn(Zn.exec(U))+"g")),U.lastIndex=0;He=U.exec($e);)var Ke=He.index;Ie=Ie.slice(0,Ke===k?ye:Ke)}}else if(l.indexOf(zr(U),ye)!=ye){var et=Ie.lastIndexOf(U);et>-1&&(Ie=Ie.slice(0,et))}return Ie+D},Q.unescape=function ic(l){return(l=mn(l))&&Sl.test(l)?l.replace(ns,rt):l},Q.uniqueId=function m_(l){var c=++P;return mn(l)+c},Q.upperCase=o_,Q.upperFirst=sc,Q.each=cp,Q.eachRight=fp,Q.first=zh,ac(Q,function(){var l={};return vs(Q,function(c,g){b.call(Q.prototype,g)||(l[g]=c)}),l}(),{chain:!1}),Q.VERSION="4.17.21",mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Q[l].placeholder=Q}),mr(["drop","take"],function(l,c){Vt.prototype[l]=function(g){g=g===k?1:or(zt(g),0);var D=this.__filtered__&&!c?new Vt(this):this.clone();return D.__filtered__?D.__takeCount__=Cr(g,D.__takeCount__):D.__views__.push({size:Cr(g,pe),type:l+(D.__dir__<0?"Right":"")}),D},Vt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),mr(["filter","map","takeWhile"],function(l,c){var g=c+1,D=1==g||3==g;Vt.prototype[l]=function(U){var Z=this.clone();return Z.__iteratees__.push({iteratee:wt(U,3),type:g}),Z.__filtered__=Z.__filtered__||D,Z}}),mr(["head","last"],function(l,c){var g="take"+(c?"Right":"");Vt.prototype[l]=function(){return this[g](1).value()[0]}}),mr(["initial","tail"],function(l,c){var g="drop"+(c?"":"Right");Vt.prototype[l]=function(){return this.__filtered__?new Vt(this):this[g](1)}}),Vt.prototype.compact=function(){return this.filter(Fr)},Vt.prototype.find=function(l){return this.filter(l).head()},Vt.prototype.findLast=function(l){return this.reverse().find(l)},Vt.prototype.invokeMap=Gt(function(l,c){return"function"==typeof l?new Vt(this):this.map(function(g){return kl(g,l,c)})}),Vt.prototype.reject=function(l){return this.filter(eu(wt(l)))},Vt.prototype.slice=function(l,c){l=zt(l);var g=this;return g.__filtered__&&(l>0||c<0)?new Vt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),c!==k&&(g=(c=zt(c))<0?g.dropRight(-c):g.take(c-l)),g)},Vt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Vt.prototype.toArray=function(){return this.take(pe)},vs(Vt.prototype,function(l,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),D=/^(?:head|last)$/.test(c),U=Q[D?"take"+("last"==c?"Right":""):c],Z=D||/^find/.test(c);U&&(Q.prototype[c]=function(){var le=this.__wrapped__,ye=D?[1]:arguments,Ie=le instanceof Vt,He=ye[0],$e=Ie||Bt(le),Ke=function(Qt){var sn=U.apply(Q,oi([Qt],ye));return D&&et?sn[0]:sn};$e&&g&&"function"==typeof He&&1!=He.length&&(Ie=$e=!1);var et=this.__chain__,St=Z&&!et,qt=Ie&&!this.__actions__.length;if(!Z&&$e){le=qt?le:new Vt(this);var Tt=l.apply(le,ye);return Tt.__actions__.push({func:Xl,args:[Ke],thisArg:k}),new li(Tt,et)}return St&&qt?l.apply(this,ye):(Tt=this.thru(Ke),St?D?Tt.value()[0]:Tt.value():Tt)})}),mr(["pop","push","shift","sort","splice","unshift"],function(l){var c=Di[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",D=/^(?:pop|shift)$/.test(l);Q.prototype[l]=function(){var U=arguments;if(D&&!this.__chain__){var Z=this.value();return c.apply(Bt(Z)?Z:[],U)}return this[g](function(le){return c.apply(Bt(le)?le:[],U)})}}),vs(Vt.prototype,function(l,c){var g=Q[c];if(g){var D=g.name+"";b.call(ma,D)||(ma[D]=[]),ma[D].push({name:c,func:g})}}),ma[df(k,$).name]=[{name:"wrapper",func:k}],Vt.prototype.clone=function Yr(){var l=new Vt(this.__wrapped__);return l.__actions__=xr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=xr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=xr(this.__views__),l},Vt.prototype.reverse=function cm(){if(this.__filtered__){var l=new Vt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Vt.prototype.value=function Eu(){var l=this.__wrapped__.value(),c=this.__dir__,g=Bt(l),D=c<0,U=g?l.length:0,Z=function Nm(l,c,g){for(var D=-1,U=g.length;++D<U;){var Z=g[D],le=Z.size;switch(Z.type){case"drop":l+=le;break;case"dropRight":c-=le;break;case"take":c=Cr(c,l+le);break;case"takeRight":l=or(l,c-le)}}return{start:l,end:c}}(0,U,this.__views__),le=Z.start,ye=Z.end,Ie=ye-le,He=D?ye:le-1,$e=this.__iteratees__,Ke=$e.length,et=0,lt=Cr(Ie,this.__takeCount__);if(!g||!D&&U==Ie&&lt==Ie)return Ca(l,this.__actions__);var St=[];e:for(;Ie--&&et<lt;){for(var qt=-1,Tt=l[He+=c];++qt<Ke;){var Qt=$e[qt],mi=Qt.type,ur=(0,Qt.iteratee)(Tt);if(2==mi)Tt=ur;else if(!ur){if(1==mi)continue e;break e}}St[et++]=Tt}return St},Q.prototype.at=Yu,Q.prototype.chain=function Hf(){return rp(this)},Q.prototype.commit=function il(){return new li(this.value(),this.__chain__)},Q.prototype.next=function rv(){this.__values__===k&&(this.__values__=rd(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?k:this.__values__[this.__index__++]}},Q.prototype.plant=function q0(l){for(var c,g=this;g instanceof Cu;){var D=bf(g);D.__index__=0,D.__values__=k,c?U.__wrapped__=D:c=D;var U=D;g=g.__wrapped__}return U.__wrapped__=l,c},Q.prototype.reverse=function sv(){var l=this.__wrapped__;if(l instanceof Vt){var c=l;return this.__actions__.length&&(c=new Vt(this)),(c=c.reverse()).__actions__.push({func:Xl,args:[Gu],thisArg:k}),new li(c,this.__chain__)}return this.thru(Gu)},Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=function Bf(){return Ca(this.__wrapped__,this.__actions__)},Q.prototype.first=Q.prototype.head,bl&&(Q.prototype[bl]=function iv(){return this}),Q}();Sn._=kn,(Y=function(){return kn}.call(K,H,K,Le))!==k&&(Le.exports=Y)}.call(this)},4366:Le=>{var K=1e3,H=60*K,Y=60*H,k=24*Y;function m(x,C,E,w){var d=C>=1.5*E;return Math.round(x/E)+" "+w+(d?"s":"")}Le.exports=function(x,C){C=C||{};var E=typeof x;if("string"===E&&x.length>0)return function ie(x){if(!((x=String(x)).length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(C){var E=parseFloat(C[1]);switch((C[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*E;case"weeks":case"week":case"w":return 6048e5*E;case"days":case"day":case"d":return E*k;case"hours":case"hour":case"hrs":case"hr":case"h":return E*Y;case"minutes":case"minute":case"mins":case"min":case"m":return E*H;case"seconds":case"second":case"secs":case"sec":case"s":return E*K;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}(x);if("number"===E&&isFinite(x))return C.long?function o(x){var C=Math.abs(x);return C>=k?m(x,C,k,"day"):C>=Y?m(x,C,Y,"hour"):C>=H?m(x,C,H,"minute"):C>=K?m(x,C,K,"second"):x+" ms"}(x):function G(x){var C=Math.abs(x);return C>=k?Math.round(x/k)+"d":C>=Y?Math.round(x/Y)+"h":C>=H?Math.round(x/H)+"m":C>=K?Math.round(x/K)+"s":x+"ms"}(x);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(x))}},337:(Le,K,H)=>{"use strict";function fe(d){return d&&d.__esModule?d:{default:d}}function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(d)}function G(d,T){for(var F=0;F<T.length;F++){var L=T[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(d,m(L.key),L)}}function m(d){var T=function x(d,T){if("object"!==v(d)||null===d)return d;var F=d[Symbol.toPrimitive];if(void 0!==F){var L=F.call(d,T||"default");if("object"!==v(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===T?String:Number)(d)}(d,"string");return"symbol"===v(T)?T:String(T)}Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,fe(H(7489));var C=new(fe(H(8424)).default);K.default=function(){function d(){!function ie(d,T){if(!(d instanceof T))throw new TypeError("Cannot call a class as a function")}(this,d)}return function o(d,T,F){T&&G(d.prototype,T),F&&G(d,F),Object.defineProperty(d,"prototype",{writable:!1})}(d,[{key:"connections",value:function(F,L,$){L.oniceconnectionstatechange=function(O){"disconnected"==L.iceConnectionState?($.cmi_webrtc_stats&&clearInterval($.cmi_webrtc_stats),F.renegotiate({rtcOfferConstraints:{iceRestart:!0,offerToReceiveAudio:!0,offerToReceiveVideo:!1}}),$.emit("RTC",{state:"disconnected",msg:"CMI_NET"})):"connected"==L.iceConnectionState&&(C.getStats(L,$),$.emit("RTC",{state:"connected",msg:"CMI_NET"}))}}}]),d}()},1168:(Le,K)=>{"use strict";function H(o){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(o)}function k(o,m){for(var x=0;x<m.length;x++){var C=m[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,v(C.key),C)}}function v(o){var m=function ie(o,m){if("object"!==H(o)||null===o)return o;var x=o[Symbol.toPrimitive];if(void 0!==x){var C=x.call(o,m||"default");if("object"!==H(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(o)}(o,"string");return"symbol"===H(m)?m:String(m)}Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,K.default=function(){function o(){!function Y(o,m){if(!(o instanceof m))throw new TypeError("Cannot call a class as a function")}(this,o)}return function fe(o,m,x){m&&k(o.prototype,m),x&&k(o,x),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"audioTag",value:function(){if(typeof window<"u"){var x=document.createElement("AUDIO");x.setAttribute("autoplay",!0),x.setAttribute("hidden",!0),x.setAttribute("id","telecmi_audio_tag"),document.body.appendChild(x)}}}]),o}()},1515:(Le,K,H)=>{"use strict";var Y=H(9424).Z;Le.exports=Y},4567:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var Y=function k(C){return C&&C.__esModule?C:{default:C}}(H(6349));function fe(C){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}function ie(C,E){for(var w=0;w<E.length;w++){var d=E[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(C,o(d.key),d)}}function o(C){var E=function m(C,E){if("object"!==fe(C)||null===C)return C;var w=C[Symbol.toPrimitive];if(void 0!==w){var d=w.call(C,E||"default");if("object"!==fe(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}(C,"string");return"symbol"===fe(E)?E:String(E)}K.default=function(){function C(){!function v(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,C)}return function G(C,E,w){E&&ie(C.prototype,E),w&&ie(C,w),Object.defineProperty(C,"prototype",{writable:!1})}(C,[{key:"start",value:function(w){Y.default.isEmpty(w)||(Y.default.isEmpty(w._sessions)||w.terminateSessions(),w.isRegistered()&&(w.unregister(),w.stop()))}}]),C}()},9424:(Le,K,H)=>{"use strict";function k(ae){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(ae)}K.Z=void 0;var fe=x(H(7489)),v=H(9069),ie=x(H(4640)),G=x(H(1168)),o=x(H(6787)),m=H(6082);function x(ae){return ae&&ae.__esModule?ae:{default:ae}}function E(ae,De){for(var Ce=0;Ce<De.length;Ce++){var ee=De[Ce];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(ae,d(ee.key),ee)}}function d(ae){var De=function T(ae,De){if("object"!==k(ae)||null===ae)return ae;var Ce=ae[Symbol.toPrimitive];if(void 0!==Ce){var ee=Ce.call(ae,De||"default");if("object"!==k(ee))return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(ae)}(ae,"string");return"symbol"===k(De)?De:String(De)}function L(ae,De){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,de){return ee.__proto__=de,ee})(ae,De)}function M(ae){if(void 0===ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function W(ae){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)})(ae)}var q=new ie.default,se=new G.default,me=new o.default;K.Z=function(ae){!function F(ae,De){if("function"!=typeof De&&null!==De)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(De&&De.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),Object.defineProperty(ae,"prototype",{writable:!1}),De&&L(ae,De)}(Ce,ae);var De=function $(ae){var De=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,ee=W(ae);if(De){var B=W(this).constructor;de=Reflect.construct(ee,arguments,B)}else de=ee.apply(this,arguments);return function O(ae,De){if(De&&("object"===k(De)||"function"==typeof De))return De;if(void 0!==De)throw new TypeError("Derived constructors may only return object or undefined");return M(ae)}(this,de)}}(Ce);function Ce(ee){var de;(function C(ae,De){if(!(ae instanceof De))throw new TypeError("Cannot call a class as a function")})(this,Ce),(de=De.call(this)).piopiyOption={},de.ua={};var B=ee||{};return v.EventEmitter.bind(M(de)),de.name="PIOPIYJS",de.version="0.0.5",de.ice_servers=[{urls:"stun:stunind.telecmi.com"}],de.piopiyOption.debug=!!fe.default.isBoolean(B.debug)&&B.debug,de.piopiyOption.autoplay=!fe.default.isBoolean(B.autoplay)||B.autoplay,de.piopiyOption.autoReboot=!fe.default.isBoolean(B.autoReboot)||B.autoReboot,de.piopiyOption.ringTime=fe.default.isNumber(B.ringTime)?B.ringTime:60,de.piopiyOption.displayName=fe.default.isString(B.name)?B.name:null,de.piopiyOption.autoplay&&se.audioTag(),de}return function w(ae,De,Ce){De&&E(ae.prototype,De),Ce&&E(ae,Ce),Object.defineProperty(ae,"prototype",{writable:!1})}(Ce,[{key:"login",value:function(de,B,V){var ce=this,te=V||"sbcsg.telecmi.com";if(!fe.default.isString(de)||!fe.default.isString(B))throw new Error("invalid user_id or password");q.start({uri:de+"@"+V,authorization_user:de,password:B,debug:this.piopiyOption.debug,display_name:this.piopiyOption.displayName,no_answer_timeout:this.piopiyOption.ringTime,register:!0,region:te,session_timers:!1},ce),me.getToken(de,B,function(ge){200==ge.code&&(ce.socketCMI=new m.SocketCMI(ge.token,ce))})}},{key:"logout",value:function(){q.stop(this)}},{key:"call",value:function(de){fe.default.isString(de)?q.make(de,this):this.emit("error",{code:1002,status:"Invalid type to call"})}},{key:"terminate",value:function(){q.terminate(this)}},{key:"reRegister",value:function(){q.re_register()}},{key:"answer",value:function(){q.answer(this)}},{key:"reject",value:function(){q.reject(this)}},{key:"sendDtmf",value:function(de){q.dtmf(de,this)}},{key:"hold",value:function(){q.hold(this)}},{key:"unHold",value:function(){q.unhold(this)}},{key:"mute",value:function(){q.mute(this)}},{key:"unMute",value:function(){q.unmute(this)}},{key:"isLogedIn",value:function(){return q.islogedin(this)}},{key:"isConnected",value:function(){return q.isConnected(this)}},{key:"onHold",value:function(){return q.onhold(this)}},{key:"onMute",value:function(){return q.onmute(this)}},{key:"transfer",value:function(de){this.socketCMI.transfer(q.getCallId(this),de)}},{key:"merge",value:function(){q.dtmf("0",this)}},{key:"cancel",value:function(){q.dtmf("#",this)}},{key:"getCallId",value:function(){return q.getCallId(this)}},{key:"getCallID",value:function(){return q.getCallID(this)}}]),Ce}(v.EventEmitter)},6787:(Le,K)=>{"use strict";function H(o){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(o)}function k(o,m){for(var x=0;x<m.length;x++){var C=m[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,v(C.key),C)}}function v(o){var m=function ie(o,m){if("object"!==H(o)||null===o)return o;var x=o[Symbol.toPrimitive];if(void 0!==x){var C=x.call(o,m||"default");if("object"!==H(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(o)}(o,"string");return"symbol"===H(m)?m:String(m)}Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,K.default=function(){function o(){!function Y(o,m){if(!(o instanceof m))throw new TypeError("Cannot call a class as a function")}(this,o)}return function fe(o,m,x){m&&k(o.prototype,m),x&&k(o,x),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"getToken",value:function(x,C,E){var w=new XMLHttpRequest;w.open("POST","https://rest.telecmi.com/v2/user/login",!0),w.setRequestHeader("Content-Type","application/json;charset=UTF-8"),w.timeout=5e3,w.onreadystatechange=function(){if(4===w.readyState)if(200===w.status){var T=JSON.parse(w.responseText);E(200===T.code?{code:200,token:T.token}:{code:407})}else E({code:407})},w.onerror=function(){E({code:407})},w.ontimeout=function(){E({code:407})},w.send(JSON.stringify({id:x,password:C}))}}]),o}()},1798:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var Y=fe(H(7489));function fe(L){return L&&L.__esModule?L:{default:L}}function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(L)}function G(L,$){for(var O=0;O<$.length;O++){var M=$[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(L,m(M.key),M)}}function m(L){var $=function x(L,$){if("object"!==v(L)||null===L)return L;var O=L[Symbol.toPrimitive];if(void 0!==O){var M=O.call(L,$||"default");if("object"!==v(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===$?String:Number)(L)}(L,"string");return"symbol"===v($)?$:String($)}var d,T,C=new(fe(H(337)).default),E={};K.default=function(){function L(){!function ie(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")}(this,L)}return function o(L,$,O){$&&G(L.prototype,$),O&&G(L,O),Object.defineProperty(L,"prototype",{writable:!1})}(L,[{key:"make",value:function(O,M,N){if(Y.default.isEmpty(M._sessions)){var W={audio:!0,video:!1};localStorage.getItem("deviceId")&&(W.audio={deviceId:localStorage.getItem("deviceId")}),E=M.call(O,{eventHandlers:{progress:function(me){},failed:function(me){d&&(clearTimeout(d),clearTimeout(T)),me&&me.message&&407==me.message.status_code&&N.emit("loginFailed",{code:407,status:"invalid user"})},ended:function(me){d&&(clearTimeout(d),clearTimeout(T))},confirmed:function(me){d&&(clearTimeout(d),clearTimeout(T))}},mediaConstraints:W,pcConfig:{iceServers:N.ice_servers}}),T=setTimeout(function(){E&&1===E.status&&N.emit("NETStats",{code:408,msg:"Request timeout"})},5e3),d=setTimeout(function(){E&&1===E.status&&(E.terminate(),M.stop(),M.start())},1e4)}else N.emit("error",{code:1002,status:"already in call"})}},{key:"invite",value:function(O,M){if(E=O.session,"local"!=O.originator&&M.emit("inComingCall",{from:O.request.from._display_name||"unknown"}),O.request){if("local"!=O.originator){var W=O.request.getHeader("X-cmi-uuid");E.call_ID=W}else E.call_ID=O.request.call_id;E.call_id=O.request.call_id}this.initSession(E,M)}},{key:"answer",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?M.emit("error",{code:1002,status:"call already  answered"}):E.answer({mediaConstraints:{audio:!0,video:!1},pcConfig:{iceServers:M.ice_servers}})}},{key:"reject",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEnded()?M.emit("error",{code:1002,status:"call already ended"}):E.terminate()}},{key:"terminate",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEnded()?M.emit("error",{code:1002,status:"call already ended"}):E.terminate()}},{key:"hangup",value:function(O,M){Y.default.isEmpty(O.sessions)?M.emit("error",{code:1002,status:"call not found"}):E.bye()}},{key:"dtmf",value:function(O,M,N){Y.default.isEmpty(M._sessions)?N.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?E.sendDTMF(O,{transportType:"RFC2833"}):N.emit("error",{code:1002,status:"dtmf not allowed"})}},{key:"hold",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?E.isOnHold().local?M.emit("error",{code:1002,status:"call already in hold"}):E.hold():M.emit("error",{code:1002,status:"hold not allowed"})}},{key:"unhold",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?E.isOnHold().local?E.unhold():M.emit("error",{code:1002,status:"call not in hold"}):M.emit("error",{code:1002,status:"hold not allowed"})}},{key:"mute",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?E.isMuted().audio?M.emit("error",{code:1002,status:"call already in mute"}):E.mute():M.emit("error",{code:1002,status:"mute not allowed"})}},{key:"unmute",value:function(O,M){Y.default.isEmpty(O._sessions)?M.emit("error",{code:1002,status:"call not found"}):E.isEstablished()?E.isMuted().audio?E.unmute():M.emit("error",{code:1002,status:"call not in mute"}):M.emit("error",{code:1002,status:"mute not allowed"})}},{key:"onmute",value:function(O,M){return!(Y.default.isEmpty(O._sessions)||!E.isEstablished())&&E.isMuted().audio}},{key:"onhold",value:function(O,M){return!(Y.default.isEmpty(O._sessions)||!E.isEstablished())&&E.isOnHold().local}},{key:"getCallId",value:function(O,M){return!(Y.default.isEmpty(O._sessions)||!E.isEstablished()&&!E.isInProgress())&&(E.call_id||!1)}},{key:"getCallID",value:function(O,M){return!(Y.default.isEmpty(O._sessions)||!E.isEstablished()&&!E.isInProgress())&&(E.call_ID||!1)}},{key:"initSession",value:function(O,M){O.on("failed",function(N){var W,q;"local"==N.originator?M.emit("hangup",{code:N.status_code||200,status:"call hangup"}):M.emit("ended",{code:(null==N||null===(W=N.message)||void 0===W?void 0:W.status_code)||200,status:(null==N||null===(q=N.message)||void 0===q?void 0:q.reason_phrase)||"call ended"})}),O._connection&&(O._connection.onaddstream=function(N){if(M.piopiyOption.autoplay&&N.stream){var W=document.getElementById("telecmi_audio_tag");W.srcObject=N.stream,W.play()}M.emit("callStream",{code:200,status:N.stream})}),O.on("sending",function(N){M.emit("trying",{code:100,status:"trying",type:"local"==N.originator?"incoming":"outgoing"})}),O.on("peerconnection",function(N){if(N.peerconnection.onaddstream=function(W){if(M.piopiyOption.autoplay&&W.stream){var q=document.getElementById("telecmi_audio_tag");q.srcObject=W.stream,q.play()}M.emit("callStream",{code:200,status:W.stream})},O.connection)try{C.connections(O,O.connection,M)}catch(W){alert(W)}}),O.on("progress",function(N){if(M.emit("ringing",{code:183,status:"ringing",type:"local"==N.originator?"incoming":"outgoing"}),O.connection)try{C.connections(O,O.connection,M)}catch(q){alert(q)}}),O.on("accepted",function(N){"local"!=N.originator&&M.emit("answered",{code:200,status:"answered"})}),O.on("confirmed",function(N){"local"!=N.originator&&(O._request&&(M.call_id=O._request.call_id),M.emit("answered",{code:200,status:"answered"}))}),O.on("getusermediafailed",function(N){M.emit("mediaFailed",{code:415,status:N||"user media failed"})}),O.on("icecandidate",function(N){"srflx"===N.candidate.type&&null!==N.candidate.relatedAddress&&null!==N.candidate.relatedPort&&N.ready()}),O.on("newDTMF",function(N){M.emit("dtmf",{code:200,dtmf:N.dtmf._tone,type:"local"==N.originator?"incoming":"outgoing"})}),O.on("hold",function(N){M.emit("hold",{code:200,status:"call on hold",whom:"local"==N.originator?"myself":"other"})}),O.on("unhold",function(N){M.emit("unhold",{code:200,status:"call on active",whom:"local"==N.originator?"myself":"other"})}),O.on("ended",function(N){M.cmi_webrtc_stats&&clearInterval(M.cmi_webrtc_stats),"local"==N.originator?M.emit("hangup",{code:200,status:"call hangup"}):M.emit("ended",{code:200,status:"call ended"})})}}]),L}()},6082:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.SocketCMI=void 0;var Y=function k(C){return C&&C.__esModule?C:{default:C}}(H(1082));function fe(C){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}function ie(C,E){for(var w=0;w<E.length;w++){var d=E[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(C,o(d.key),d)}}function o(C){var E=function m(C,E){if("object"!==fe(C)||null===C)return C;var w=C[Symbol.toPrimitive];if(void 0!==w){var d=w.call(C,E||"default");if("object"!==fe(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}(C,"string");return"symbol"===fe(E)?E:String(E)}K.SocketCMI=function(){function C(E,w){var d=this;(function v(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,C),this.socket=(0,Y.default)("https://notify.telecmi.com",{query:{token:E}}),this.socket.on("disconnect",function(F){w.ready_transfer=!1,"transport close"==F&&w.emit("net_changed",{code:400,msg:"network changed"})}),this.socket.on("connect_error",function(F){w.ready_transfer=!1}),this.socket.on("connect",function(){w.ready_transfer=!0,d.socket.emit("wssip-agent-opt",{join:!0})}),this.socket.on("cmi_transfer",function(F){"init"==F.state&&w.sendDtmf("*9"),w.emit("transfer",F)}),this.socket.on("cmi_record",function(F){w.emit("record",F)})}return function G(C,E,w){E&&ie(C.prototype,E),w&&ie(C,w),Object.defineProperty(C,"prototype",{writable:!1})}(C,[{key:"transfer",value:function(w,d){this.socket.connected&&this.socket.emit("agent-call-transfer",{uuid:w,to:d})}},{key:"cancel",value:function(w){this.socket("agent-cancel-transfer",{uuid:w})}}]),C}()},8424:(Le,K,H)=>{"use strict";function fe(C){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}function ie(C,E){for(var w=0;w<E.length;w++){var d=E[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(C,o(d.key),d)}}function o(C){var E=function m(C,E){if("object"!==fe(C)||null===C)return C;var w=C[Symbol.toPrimitive];if(void 0!==w){var d=w.call(C,E||"default");if("object"!==fe(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}(C,"string");return"symbol"===fe(E)?E:String(E)}Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,H(7489),K.default=function(){function C(){!function v(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,C)}return function G(C,E,w){E&&ie(C.prototype,E),w&&ie(C,w),Object.defineProperty(C,"prototype",{writable:!1})}(C,[{key:"getStats",value:function(w,d){var T=0,L=Date.now(),O={};d.cmi_webrtc_stats=setInterval(function(){w&&w.connectionState?("connected"!=w.connectionState&&clearInterval(d.cmi_webrtc_stats),w.getStats().then(function(M){M.forEach(function(N){if("candidate-pair"===N.type&&N.nominated&&(O.delay=N.currentRoundTripTime),"inbound-rtp"===N.type){var se=N.packetsLost,me=Date.now();O.packetLostRate=(se-T)/((me-L)/1e3),T=se,L=me}if("remote-inbound-rtp"===N.type){var Ce=N.fractionLost,ee=N.jitter,de=N.totalRoundTripTime;O.totalPacketLost=N.packetsLost,O.fractionLost=Ce,O.jitter=ee,O.rountTrip=de}"codec"===N.type&&(O.codec=N.mimeType),"local-candidate"===N.type&&(O.network=N.networkType)}),d.emit("RTCStats",O)}).catch(function(M){})):clearInterval(d.cmi_webrtc_stats)},1e3)}}]),C}()},4640:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var Y=ie(H(7489)),k=ie(H(1798)),fe=ie(H(4567)),v=ie(H(1033));function ie(O){return O&&O.__esModule?O:{default:O}}function G(O){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function m(O,M){for(var N=0;N<M.length;N++){var W=M[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(O,C(W.key),W)}}function C(O){var M=function E(O,M){if("object"!==G(O)||null===O)return O;var N=O[Symbol.toPrimitive];if(void 0!==N){var W=N.call(O,M||"default");if("object"!==G(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===G(M)?M:String(M)}var w={},T=new k.default,F=new fe.default,L=new v.default.WebSocketInterface("wss://sbcsg.telecmi.com");typeof window<"u"&&(window.onbeforeunload=function(){F.start(w)}),K.default=function(){function O(){!function o(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,O)}return function x(O,M,N){M&&m(O.prototype,M),N&&m(O,N),Object.defineProperty(O,"prototype",{writable:!1})}(O,[{key:"start",value:function(N,W){if(!Y.default.isEmpty(w)){if(w.isRegistered())return void W.emit("error",{code:1001,status:"Please logout before you login"});w.isConnected()&&w.stop()}!0===N.debug?v.default.debug.enable("JsSIP:*"):v.default.debug.disable("PIOPIY:*"),N.region&&(L=new v.default.WebSocketInterface("wss://"+N.region)),N.sockets=[L],N.user_agent="PIOPIYJS",N.use_preloaded_route=!0,(w=new v.default.UA(N)).on("registered",function(q){W.emit("login",{code:200,status:"login successfully"})}),w.on("unregistered",function(q){W.emit("logout",{code:200,status:"logout successfully"})}),w.on("connected",function(q){W.emit("connected",{code:200,status:"SBC connected"})}),w.on("disconnected",function(q){W.emit("disconnected",{code:1e3,status:"SBC disconneced"})}),w.on("registrationFailed",function(q){q.response&&(401===q.response.status_code&&W.emit("loginFailed",{code:401,status:"invalid user"}),503===q.response.status_code&&W.emit("loginFailed",{code:405,status:"too many connection"}),407===q.response.status_code&&W.emit("loginFailed",{code:407,status:"invalid IP"}))}),W.on("net_changed",function(q){w&&w.isRegistered()&w.isConnected()&&(w.transport.disconnect(),w.transport.connect(),w.start())}),w.on("newRTCSession",function(q){"local"!=q.originator&&!Y.default.isEmpty(w._sessions)&&Object.keys(w._sessions).length>1?q.session.terminate():(q.request&&(W.call_id=q.request.call_id),T.invite(q,W))}),w.start()}},{key:"re_register",value:function(){w.isRegistered()||w.register()}},{key:"stop",value:function(N){if(w){if(!w.isRegistered())return void N.emit("error",{code:1002,status:"Please login"});w.isRegistered()&&(w.unregister(),w.stop())}}},{key:"make",value:function(N,W){Y.default.isEmpty(w)||w.isRegistered()?T.make(N,w,W):W.emit("error",{code:1002,status:"Please login to call"})}},{key:"terminate",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.terminate(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"hangup",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.hangup(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"answer",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.answer(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"reject",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.reject(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"dtmf",value:function(N,W){Y.default.isEmpty(w)||w.isRegistered()?!Y.default.isEmpty(N)||Y.default.isNumber(N)?T.dtmf(N,w,W):W.emit("error",{code:1005,status:"invalid dtmf type "}):W.emit("error",{code:1002,status:"Please login "})}},{key:"hold",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.hold(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"unhold",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.unhold(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"mute",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.mute(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"unmute",value:function(N){Y.default.isEmpty(w)||w.isRegistered()?T.unmute(w,N):N.emit("error",{code:1002,status:"Please login "})}},{key:"islogedin",value:function(N){return!(Y.default.isEmpty(w)||!w.isRegistered())}},{key:"isConnected",value:function(N){return!(Y.default.isEmpty(w)||!w.isConnected())}},{key:"onmute",value:function(N){if(!Y.default.isEmpty(w))return!!w.isRegistered()&&T.onmute(w,N)}},{key:"onhold",value:function(N){if(!Y.default.isEmpty(w))return!!w.isRegistered()&&T.onhold(w,N)}},{key:"getCallId",value:function(N){if(!Y.default.isEmpty(w))return!!w.isRegistered()&&T.getCallId(w,N)}},{key:"getCallID",value:function(N){if(!Y.default.isEmpty(w))return!!w.isRegistered()&&T.getCallID(w,N)}}]),O}()},1953:Le=>{var K=Le.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(H){return H.encoding?"rtpmap:%d %s/%s/%s":H.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(H){return null!=H.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(H){return null!=H.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(H){return"extmap:%d"+(H.direction?"/%s":"%v")+(H["encrypt-uri"]?" %s":"%v")+" %s"+(H.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(H){return null!=H.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(H){var Y="candidate:%s %d %s %d %s %d typ %s";return Y+=null!=H.raddr?" raddr %s rport %d":"%v%v",Y+=null!=H.tcptype?" tcptype %s":"%v",null!=H.generation&&(Y+=" generation %d"),(Y+=null!=H["network-id"]?" network-id %d":"%v")+(null!=H["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(H){var Y="ssrc:%d";return null!=H.attribute&&(Y+=" %s",null!=H.value&&(Y+=":%s")),Y}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(H){return null!=H.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(H){return H.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(H){return"imageattr:%s %s %s"+(H.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(H){return"simulcast:%s %s"+(H.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(H){return"ts-refclk:%s"+(null!=H.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(H){var Y="mediaclk:";return Y+=null!=H.id?"id=%s %s":"%v%s",Y+=null!=H.mediaClockValue?"=%s":"",(Y+=null!=H.rateNumerator?" rate=%s":"")+(null!=H.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(K).forEach(function(H){K[H].forEach(function(k){k.reg||(k.reg=/(.*)/),k.format||(k.format="%s")})})},4e3:(Le,K,H)=>{var Y=H(6779),k=H(1335);K.write=k,K.parse=Y.parse,K.parseParams=Y.parseParams,K.parseFmtpConfig=Y.parseFmtpConfig,K.parsePayloads=Y.parsePayloads,K.parseRemoteCandidates=Y.parseRemoteCandidates,K.parseImageAttributes=Y.parseImageAttributes,K.parseSimulcastStreamList=Y.parseSimulcastStreamList},6779:(Le,K,H)=>{var Y=function(o){return String(Number(o))===o?Number(o):o},fe=function(o,m,x){var C=o.name&&o.names;o.push&&!m[o.push]?m[o.push]=[]:C&&!m[o.name]&&(m[o.name]={});var E=o.push?{}:C?m[o.name]:m;(function(o,m,x,C){if(C&&!x)m[C]=Y(o[1]);else for(var E=0;E<x.length;E+=1)null!=o[E+1]&&(m[x[E]]=Y(o[E+1]))})(x.match(o.reg),E,o.names,o.name),o.push&&m[o.push].push(E)},v=H(1953),ie=RegExp.prototype.test.bind(/^([a-z])=(.*)/);K.parse=function(o){var m={},x=[],C=m;return o.split(/(\r\n|\r|\n)/).filter(ie).forEach(function(E){var w=E[0],d=E.slice(2);"m"===w&&(x.push({rtp:[],fmtp:[]}),C=x[x.length-1]);for(var T=0;T<(v[w]||[]).length;T+=1){var F=v[w][T];if(F.reg.test(d))return fe(F,C,d)}}),m.media=x,m};var G=function(o,m){var x=m.split(/=(.+)/,2);return 2===x.length?o[x[0]]=Y(x[1]):1===x.length&&m.length>1&&(o[x[0]]=void 0),o};K.parseParams=function(o){return o.split(/;\s?/).reduce(G,{})},K.parseFmtpConfig=K.parseParams,K.parsePayloads=function(o){return o.toString().split(" ").map(Number)},K.parseRemoteCandidates=function(o){for(var m=[],x=o.split(" ").map(Y),C=0;C<x.length;C+=3)m.push({component:x[C],ip:x[C+1],port:x[C+2]});return m},K.parseImageAttributes=function(o){return o.split(" ").map(function(m){return m.substring(1,m.length-1).split(",").reduce(G,{})})},K.parseSimulcastStreamList=function(o){return o.split(";").map(function(m){return m.split(",").map(function(x){var C,E=!1;return"~"!==x[0]?C=Y(x):(C=Y(x.substring(1,x.length)),E=!0),{scid:C,paused:E}})})}},1335:(Le,K,H)=>{var Y=H(1953),k=/%[sdv%]/g,fe=function(o){var m=1,x=arguments,C=x.length;return o.replace(k,function(E){if(m>=C)return E;var w=x[m];switch(m+=1,E){case"%%":return"%";case"%s":return String(w);case"%d":return Number(w);case"%v":return""}})},v=function(o,m,x){var E=[o+"="+(m.format instanceof Function?m.format(m.push?x:x[m.name]):m.format)];if(m.names)for(var w=0;w<m.names.length;w+=1)E.push(m.name?x[m.name][m.names[w]]:x[m.names[w]]);else E.push(x[m.name]);return fe.apply(null,E)},ie=["v","o","s","i","u","e","p","c","b","t","r","z","a"],G=["i","c","b","a"];Le.exports=function(o,m){m=m||{},null==o.version&&(o.version=0),null==o.name&&(o.name=" "),o.media.forEach(function(w){null==w.payloads&&(w.payloads="")});var C=m.innerOrder||G,E=[];return(m.outerOrder||ie).forEach(function(w){Y[w].forEach(function(d){d.name in o&&null!=o[d.name]?E.push(v(w,d,o)):d.push in o&&null!=o[d.push]&&o[d.push].forEach(function(T){E.push(v(w,d,T))})})}),o.media.forEach(function(w){E.push(v("m",Y.m[0],w)),C.forEach(function(d){Y[d].forEach(function(T){T.name in w&&null!=w[T.name]?E.push(v(d,T,w)):T.push in w&&null!=w[T.push]&&w[T.push].forEach(function(F){E.push(v(d,T,F))})})})}),E.join("\r\n")+"\r\n"}},3619:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.hasCORS=void 0;let H=!1;try{H=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}K.hasCORS=H},5056:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.decode=K.encode=void 0,K.encode=function H(k){let fe="";for(let v in k)k.hasOwnProperty(v)&&(fe.length&&(fe+="&"),fe+=encodeURIComponent(v)+"="+encodeURIComponent(k[v]));return fe},K.decode=function Y(k){let fe={},v=k.split("&");for(let ie=0,G=v.length;ie<G;ie++){let o=v[ie].split("=");fe[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return fe}},1561:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.parse=void 0;const H=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];K.parse=function k(ie){if(ie.length>2e3)throw"URI too long";const G=ie,o=ie.indexOf("["),m=ie.indexOf("]");-1!=o&&-1!=m&&(ie=ie.substring(0,o)+ie.substring(o,m).replace(/:/g,";")+ie.substring(m,ie.length));let x=H.exec(ie||""),C={},E=14;for(;E--;)C[Y[E]]=x[E]||"";return-1!=o&&-1!=m&&(C.source=G,C.host=C.host.substring(1,C.host.length-1).replace(/;/g,":"),C.authority=C.authority.replace("[","").replace("]","").replace(/;/g,":"),C.ipv6uri=!0),C.pathNames=function fe(ie,G){const m=G.replace(/\/{2,9}/g,"/").split("/");return("/"==G.slice(0,1)||0===G.length)&&m.splice(0,1),"/"==G.slice(-1)&&m.splice(m.length-1,1),m}(0,C.path),C.queryKey=function v(ie,G){const o={};return G.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,x,C){x&&(o[x]=C)}),o}(0,C.query),C}},194:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.yeast=K.decode=K.encode=void 0;const H="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Y=64,k={};let ie,fe=0,v=0;function G(x){let C="";do{C=H[x%Y]+C,x=Math.floor(x/Y)}while(x>0);return C}for(K.encode=G,K.decode=function o(x){let C=0;for(v=0;v<x.length;v++)C=C*Y+k[x.charAt(v)];return C},K.yeast=function m(){const x=G(+new Date);return x!==ie?(fe=0,ie=x):x+"."+G(fe++)};v<Y;v++)k[H[v]]=v},5139:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.globalThisShim=void 0,K.globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()},4798:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.nextTick=K.parse=K.installTimerFunctions=K.transports=K.TransportError=K.Transport=K.protocol=K.Socket=void 0;const Y=H(2718);Object.defineProperty(K,"Socket",{enumerable:!0,get:function(){return Y.Socket}}),K.protocol=Y.Socket.protocol;var k=H(5150);Object.defineProperty(K,"Transport",{enumerable:!0,get:function(){return k.Transport}}),Object.defineProperty(K,"TransportError",{enumerable:!0,get:function(){return k.TransportError}});var fe=H(9620);Object.defineProperty(K,"transports",{enumerable:!0,get:function(){return fe.transports}});var v=H(5331);Object.defineProperty(K,"installTimerFunctions",{enumerable:!0,get:function(){return v.installTimerFunctions}});var ie=H(1561);Object.defineProperty(K,"parse",{enumerable:!0,get:function(){return ie.parse}});var G=H(9859);Object.defineProperty(K,"nextTick",{enumerable:!0,get:function(){return G.nextTick}})},2718:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(K,"__esModule",{value:!0}),K.Socket=void 0;const k=H(9620),fe=H(5331),v=H(5056),ie=H(1561),G=Y(H(1455)),o=H(4972),m=H(6045),x=H(9859),C=(0,G.default)("engine.io-client:socket");class E extends o.Emitter{constructor(d,T={}){super(),this.binaryType=x.defaultBinaryType,this.writeBuffer=[],d&&"object"==typeof d&&(T=d,d=null),d?(d=(0,ie.parse)(d),T.hostname=d.host,T.secure="https"===d.protocol||"wss"===d.protocol,T.port=d.port,d.query&&(T.query=d.query)):T.host&&(T.hostname=(0,ie.parse)(T.host).host),(0,fe.installTimerFunctions)(this,T),this.secure=null!=T.secure?T.secure:typeof location<"u"&&"https:"===location.protocol,T.hostname&&!T.port&&(T.port=this.secure?"443":"80"),this.hostname=T.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=T.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=T.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},T),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,v.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(d){C('creating transport "%s"',d);const T=Object.assign({},this.opts.query);T.EIO=m.protocol,T.transport=d,this.id&&(T.sid=this.id);const F=Object.assign({},this.opts,{query:T,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[d]);return C("options: %j",F),new k.transports[d](F)}open(){let d;if(this.opts.rememberUpgrade&&E.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))d="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);d=this.transports[0]}this.readyState="opening";try{d=this.createTransport(d)}catch(T){return C("error while creating transport: %s",T),this.transports.shift(),void this.open()}d.open(),this.setTransport(d)}setTransport(d){C("setting transport %s",d.name),this.transport&&(C("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=d,d.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",T=>this.onClose("transport close",T))}probe(d){C('probing transport "%s"',d);let T=this.createTransport(d),F=!1;E.priorWebsocketSuccess=!1;const L=()=>{F||(C('probe transport "%s" opened',d),T.send([{type:"ping",data:"probe"}]),T.once("packet",se=>{if(!F)if("pong"===se.type&&"probe"===se.data){if(C('probe transport "%s" pong',d),this.upgrading=!0,this.emitReserved("upgrading",T),!T)return;E.priorWebsocketSuccess="websocket"===T.name,C('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{F||"closed"!==this.readyState&&(C("changing transport and sending upgrade packet"),q(),this.setTransport(T),T.send([{type:"upgrade"}]),this.emitReserved("upgrade",T),T=null,this.upgrading=!1,this.flush())})}else{C('probe transport "%s" failed',d);const me=new Error("probe error");me.transport=T.name,this.emitReserved("upgradeError",me)}}))};function $(){F||(F=!0,q(),T.close(),T=null)}const O=se=>{const me=new Error("probe error: "+se);me.transport=T.name,$(),C('probe transport "%s" failed because of error: %s',d,se),this.emitReserved("upgradeError",me)};function M(){O("transport closed")}function N(){O("socket closed")}function W(se){T&&se.name!==T.name&&(C('"%s" works - aborting "%s"',se.name,T.name),$())}const q=()=>{T.removeListener("open",L),T.removeListener("error",O),T.removeListener("close",M),this.off("close",N),this.off("upgrading",W)};T.once("open",L),T.once("error",O),T.once("close",M),this.once("close",N),this.once("upgrading",W),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==d?this.setTimeoutFn(()=>{F||T.open()},200):T.open()}onOpen(){if(C("socket open"),this.readyState="open",E.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){C("starting upgrade probes");let d=0;const T=this.upgrades.length;for(;d<T;d++)this.probe(this.upgrades[d])}}onPacket(d){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(C('socket receive: type "%s", data "%s"',d.type,d.data),this.emitReserved("packet",d),this.emitReserved("heartbeat"),this.resetPingTimeout(),d.type){case"open":this.onHandshake(JSON.parse(d.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const T=new Error("server error");T.code=d.data,this.onError(T);break;case"message":this.emitReserved("data",d.data),this.emitReserved("message",d.data)}else C('packet received with socket readyState "%s"',this.readyState)}onHandshake(d){this.emitReserved("handshake",d),this.id=d.sid,this.transport.query.sid=d.sid,this.upgrades=this.filterUpgrades(d.upgrades),this.pingInterval=d.pingInterval,this.pingTimeout=d.pingTimeout,this.maxPayload=d.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const d=this.getWritablePackets();C("flushing %d packets in socket",d.length),this.transport.send(d),this.prevBufferLen=d.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let T=1;for(let F=0;F<this.writeBuffer.length;F++){const L=this.writeBuffer[F].data;if(L&&(T+=(0,fe.byteLength)(L)),F>0&&T>this.maxPayload)return C("only send %d out of %d packets",F,this.writeBuffer.length),this.writeBuffer.slice(0,F);T+=2}return C("payload size is %d (max: %d)",T,this.maxPayload),this.writeBuffer}write(d,T,F){return this.sendPacket("message",d,T,F),this}send(d,T,F){return this.sendPacket("message",d,T,F),this}sendPacket(d,T,F,L){if("function"==typeof T&&(L=T,T=void 0),"function"==typeof F&&(L=F,F=null),"closing"===this.readyState||"closed"===this.readyState)return;(F=F||{}).compress=!1!==F.compress;const $={type:d,data:T,options:F};this.emitReserved("packetCreate",$),this.writeBuffer.push($),L&&this.once("flush",L),this.flush()}close(){const d=()=>{this.onClose("forced close"),C("socket closing - telling transport to close"),this.transport.close()},T=()=>{this.off("upgrade",T),this.off("upgradeError",T),d()},F=()=>{this.once("upgrade",T),this.once("upgradeError",T)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?F():d()}):this.upgrading?F():d()),this}onError(d){C("socket error %j",d),E.priorWebsocketSuccess=!1,this.emitReserved("error",d),this.onClose("transport error",d)}onClose(d,T){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(C('socket close with reason: "%s"',d),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",d,T),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(d){const T=[];let F=0;const L=d.length;for(;F<L;F++)~this.transports.indexOf(d[F])&&T.push(d[F]);return T}}K.Socket=E,E.protocol=m.protocol},5150:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(K,"__esModule",{value:!0}),K.Transport=K.TransportError=void 0;const k=H(6045),fe=H(4972),v=H(5331),ie=Y(H(1455)),G=H(5056),o=(0,ie.default)("engine.io-client:transport");class m extends Error{constructor(E,w,d){super(E),this.description=w,this.context=d,this.type="TransportError"}}K.TransportError=m,K.Transport=class x extends fe.Emitter{constructor(E){super(),this.writable=!1,(0,v.installTimerFunctions)(this,E),this.opts=E,this.query=E.query,this.socket=E.socket}onError(E,w,d){return super.emitReserved("error",new m(E,w,d)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(E){"open"===this.readyState?this.write(E):o("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(E){const w=(0,k.decodePacket)(E,this.socket.binaryType);this.onPacket(w)}onPacket(E){super.emitReserved("packet",E)}onClose(E){this.readyState="closed",super.emitReserved("close",E)}pause(E){}createUri(E,w={}){return E+"://"+this._hostname()+this._port()+this.opts.path+this._query(w)}_hostname(){const E=this.opts.hostname;return-1===E.indexOf(":")?E:"["+E+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(E){const w=(0,G.encode)(E);return w.length?"?"+w:""}}},9620:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.transports=void 0;const Y=H(100),k=H(8312),fe=H(649);K.transports={websocket:k.WS,webtransport:fe.WT,polling:Y.Polling}},100:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(K,"__esModule",{value:!0}),K.Request=K.Polling=void 0;const k=H(5150),fe=Y(H(1455)),v=H(194),ie=H(6045),G=H(1735),o=H(4972),m=H(5331),x=H(5139),C=(0,fe.default)("engine.io-client:polling");function E(){}const w=null!=new G.XHR({xdomain:!1}).responseType;K.Polling=class d extends k.Transport{constructor($){if(super($),this.polling=!1,typeof location<"u"){const M="https:"===location.protocol;let N=location.port;N||(N=M?"443":"80"),this.xd=typeof location<"u"&&$.hostname!==location.hostname||N!==$.port}this.supportsBinary=w&&!($&&$.forceBase64),this.opts.withCredentials&&(this.cookieJar=(0,G.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause($){this.readyState="pausing";const O=()=>{C("paused"),this.readyState="paused",$()};if(this.polling||!this.writable){let M=0;this.polling&&(C("we are currently polling - waiting to pause"),M++,this.once("pollComplete",function(){C("pre-pause polling complete"),--M||O()})),this.writable||(C("we are currently writing - waiting to pause"),M++,this.once("drain",function(){C("pre-pause writing complete"),--M||O()}))}else O()}poll(){C("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData($){C("polling got data %s",$),(0,ie.decodePayload)($,this.socket.binaryType).forEach(M=>{if("opening"===this.readyState&&"open"===M.type&&this.onOpen(),"close"===M.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(M)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():C('ignoring poll - transport state "%s"',this.readyState))}doClose(){const $=()=>{C("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(C("transport open - closing"),$()):(C("transport not open - deferring close"),this.once("open",$))}write($){this.writable=!1,(0,ie.encodePayload)($,O=>{this.doWrite(O,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const $=this.opts.secure?"https":"http",O=this.query||{};return!1!==this.opts.timestampRequests&&(O[this.opts.timestampParam]=(0,v.yeast)()),!this.supportsBinary&&!O.sid&&(O.b64=1),this.createUri($,O)}request($={}){return Object.assign($,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new T(this.uri(),$)}doWrite($,O){const M=this.request({method:"POST",data:$});M.on("success",O),M.on("error",(N,W)=>{this.onError("xhr post error",N,W)})}doPoll(){C("xhr poll");const $=this.request();$.on("data",this.onData.bind(this)),$.on("error",(O,M)=>{this.onError("xhr poll error",O,M)}),this.pollXhr=$}};class T extends o.Emitter{constructor($,O){super(),(0,m.installTimerFunctions)(this,O),this.opts=O,this.method=O.method||"GET",this.uri=$,this.data=void 0!==O.data?O.data:null,this.create()}create(){var $;const O=(0,m.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");O.xdomain=!!this.opts.xd;const M=this.xhr=new G.XHR(O);try{C("xhr open %s: %s",this.method,this.uri),M.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){M.setDisableHeaderCheck&&M.setDisableHeaderCheck(!0);for(let N in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(N)&&M.setRequestHeader(N,this.opts.extraHeaders[N])}}catch{}if("POST"===this.method)try{M.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{M.setRequestHeader("Accept","*/*")}catch{}null===($=this.opts.cookieJar)||void 0===$||$.addCookies(M),"withCredentials"in M&&(M.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(M.timeout=this.opts.requestTimeout),M.onreadystatechange=()=>{var N;3===M.readyState&&(null===(N=this.opts.cookieJar)||void 0===N||N.parseCookies(M)),4===M.readyState&&(200===M.status||1223===M.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof M.status?M.status:0)},0))},C("xhr data %s",this.data),M.send(this.data)}catch(N){return void this.setTimeoutFn(()=>{this.onError(N)},0)}typeof document<"u"&&(this.index=T.requestsCount++,T.requests[this.index]=this)}onError($){this.emitReserved("error",$,this.xhr),this.cleanup(!0)}cleanup($){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=E,$)try{this.xhr.abort()}catch{}typeof document<"u"&&delete T.requests[this.index],this.xhr=null}}onLoad(){const $=this.xhr.responseText;null!==$&&(this.emitReserved("data",$),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function F(){for(let L in T.requests)T.requests.hasOwnProperty(L)&&T.requests[L].abort()}K.Request=T,T.requestsCount=0,T.requests={},typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",F):"function"==typeof addEventListener&&addEventListener("onpagehide"in x.globalThisShim?"pagehide":"unload",F,!1))},9859:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.defaultBinaryType=K.usingBrowserWebSocket=K.WebSocket=K.nextTick=void 0;const Y=H(5139);K.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?fe=>Promise.resolve().then(fe):(fe,v)=>v(fe,0),K.WebSocket=Y.globalThisShim.WebSocket||Y.globalThisShim.MozWebSocket,K.usingBrowserWebSocket=!0,K.defaultBinaryType="arraybuffer"},8312:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(K,"__esModule",{value:!0}),K.WS=void 0;const k=H(5150),fe=H(194),v=H(5331),ie=H(9859),G=Y(H(1455)),o=H(6045),m=(0,G.default)("engine.io-client:websocket"),x=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();K.WS=class C extends k.Transport{constructor(w){super(w),this.supportsBinary=!w.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const w=this.uri(),d=this.opts.protocols,T=x?{}:(0,v.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(T.headers=this.opts.extraHeaders);try{this.ws=ie.usingBrowserWebSocket&&!x?d?new ie.WebSocket(w,d):new ie.WebSocket(w):new ie.WebSocket(w,d,T)}catch(F){return this.emitReserved("error",F)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=w=>this.onClose({description:"websocket connection closed",context:w}),this.ws.onmessage=w=>this.onData(w.data),this.ws.onerror=w=>this.onError("websocket error",w)}write(w){this.writable=!1;for(let d=0;d<w.length;d++){const T=w[d],F=d===w.length-1;(0,o.encodePacket)(T,this.supportsBinary,L=>{const $={};ie.usingBrowserWebSocket||(T.options&&($.compress=T.options.compress),this.opts.perMessageDeflate&&("string"==typeof L?Buffer.byteLength(L):L.length)<this.opts.perMessageDeflate.threshold&&($.compress=!1));try{ie.usingBrowserWebSocket?this.ws.send(L):this.ws.send(L,$)}catch{m("websocket closed before onclose event")}F&&(0,ie.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const w=this.opts.secure?"wss":"ws",d=this.query||{};return this.opts.timestampRequests&&(d[this.opts.timestampParam]=(0,fe.yeast)()),this.supportsBinary||(d.b64=1),this.createUri(w,d)}check(){return!!ie.WebSocket}}},649:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(K,"__esModule",{value:!0}),K.WT=void 0;const k=H(5150),fe=H(9859),v=H(6045),G=(0,Y(H(1455)).default)("engine.io-client:webtransport");K.WT=class o extends k.Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{G("transport closed gracefully"),this.onClose()}).catch(x=>{G("transport closed due to %s",x),this.onError("webtransport error",x)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(x=>{const C=(0,v.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),E=x.readable.pipeThrough(C).getReader(),w=(0,v.createPacketEncoderStream)();w.readable.pipeTo(x.writable),this.writer=w.writable.getWriter();const d=()=>{E.read().then(({done:F,value:L})=>{F?G("session is closed"):(G("received chunk: %o",L),this.onPacket(L),d())}).catch(F=>{G("an error occurred while reading: %s",F)})};d();const T={type:"open"};this.query.sid&&(T.data=`{"sid":"${this.query.sid}"}`),this.writer.write(T).then(()=>this.onOpen())})}))}write(x){this.writable=!1;for(let C=0;C<x.length;C++){const w=C===x.length-1;this.writer.write(x[C]).then(()=>{w&&(0,fe.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var x;null===(x=this.transport)||void 0===x||x.close()}}},1735:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.createCookieJar=K.XHR=void 0;const Y=H(3619),k=H(5139);K.XHR=function fe(ie){const G=ie.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!G||Y.hasCORS))return new XMLHttpRequest}catch{}if(!G)try{return new(k.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}},K.createCookieJar=function v(){}},5331:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.byteLength=K.installTimerFunctions=K.pick=void 0;const Y=H(5139);K.pick=function k(x,...C){return C.reduce((E,w)=>(x.hasOwnProperty(w)&&(E[w]=x[w]),E),{})};const fe=Y.globalThisShim.setTimeout,v=Y.globalThisShim.clearTimeout;K.installTimerFunctions=function ie(x,C){C.useNativeTimers?(x.setTimeoutFn=fe.bind(Y.globalThisShim),x.clearTimeoutFn=v.bind(Y.globalThisShim)):(x.setTimeoutFn=Y.globalThisShim.setTimeout.bind(Y.globalThisShim),x.clearTimeoutFn=Y.globalThisShim.clearTimeout.bind(Y.globalThisShim))};K.byteLength=function o(x){return"string"==typeof x?function m(x){let C=0,E=0;for(let w=0,d=x.length;w<d;w++)C=x.charCodeAt(w),C<128?E+=1:C<2048?E+=2:C<55296||C>=57344?E+=3:(w++,E+=4);return E}(x):Math.ceil(1.33*(x.byteLength||x.size))}},5876:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.ERROR_PACKET=K.PACKET_TYPES_REVERSE=K.PACKET_TYPES=void 0;const H=Object.create(null);K.PACKET_TYPES=H,H.open="0",H.close="1",H.ping="2",H.pong="3",H.message="4",H.upgrade="5",H.noop="6";const Y=Object.create(null);K.PACKET_TYPES_REVERSE=Y,Object.keys(H).forEach(fe=>{Y[H[fe]]=fe}),K.ERROR_PACKET={type:"error",data:"parser error"}},4767:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.decode=K.encode=void 0;const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let v=0;v<H.length;v++)Y[H.charCodeAt(v)]=v;K.encode=v=>{let G,ie=new Uint8Array(v),o=ie.length,m="";for(G=0;G<o;G+=3)m+=H[ie[G]>>2],m+=H[(3&ie[G])<<4|ie[G+1]>>4],m+=H[(15&ie[G+1])<<2|ie[G+2]>>6],m+=H[63&ie[G+2]];return o%3==2?m=m.substring(0,m.length-1)+"=":o%3==1&&(m=m.substring(0,m.length-2)+"=="),m},K.decode=v=>{let o,x,C,E,w,ie=.75*v.length,G=v.length,m=0;"="===v[v.length-1]&&(ie--,"="===v[v.length-2]&&ie--);const d=new ArrayBuffer(ie),T=new Uint8Array(d);for(o=0;o<G;o+=4)x=Y[v.charCodeAt(o)],C=Y[v.charCodeAt(o+1)],E=Y[v.charCodeAt(o+2)],w=Y[v.charCodeAt(o+3)],T[m++]=x<<2|C>>4,T[m++]=(15&C)<<4|E>>2,T[m++]=(3&E)<<6|63&w;return d}},1348:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.decodePacket=void 0;const Y=H(5876),k=H(4767),fe="function"==typeof ArrayBuffer;K.decodePacket=(o,m)=>{if("string"!=typeof o)return{type:"message",data:G(o,m)};const x=o.charAt(0);return"b"===x?{type:"message",data:ie(o.substring(1),m)}:Y.PACKET_TYPES_REVERSE[x]?o.length>1?{type:Y.PACKET_TYPES_REVERSE[x],data:o.substring(1)}:{type:Y.PACKET_TYPES_REVERSE[x]}:Y.ERROR_PACKET};const ie=(o,m)=>{if(fe){const x=(0,k.decode)(o);return G(x,m)}return{base64:!0,data:o}},G=(o,m)=>"blob"===m?o instanceof Blob?o:new Blob([o]):o instanceof ArrayBuffer?o:o.buffer},8923:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.encodePacket=K.encodePacketToBinary=void 0;const Y=H(5876),k="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),fe="function"==typeof ArrayBuffer,v=C=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer,ie=({type:C,data:E},w,d)=>k&&E instanceof Blob?w?d(E):G(E,d):fe&&(E instanceof ArrayBuffer||v(E))?w?d(E):G(new Blob([E]),d):d(Y.PACKET_TYPES[C]+(E||""));K.encodePacket=ie;const G=(C,E)=>{const w=new FileReader;return w.onload=function(){const d=w.result.split(",")[1];E("b"+(d||""))},w.readAsDataURL(C)};function o(C){return C instanceof Uint8Array?C:C instanceof ArrayBuffer?new Uint8Array(C):new Uint8Array(C.buffer,C.byteOffset,C.byteLength)}let m;K.encodePacketToBinary=function x(C,E){return k&&C.data instanceof Blob?C.data.arrayBuffer().then(o).then(E):fe&&(C.data instanceof ArrayBuffer||v(C.data))?E(o(C.data)):void ie(C,!1,w=>{m||(m=new TextEncoder),E(m.encode(w))})}},6045:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.decodePayload=K.decodePacket=K.encodePayload=K.encodePacket=K.protocol=K.createPacketDecoderStream=K.createPacketEncoderStream=void 0;const Y=H(8923);Object.defineProperty(K,"encodePacket",{enumerable:!0,get:function(){return Y.encodePacket}});const k=H(1348);Object.defineProperty(K,"decodePacket",{enumerable:!0,get:function(){return k.decodePacket}});const fe=H(5876),v=String.fromCharCode(30);let m;function x(w){return w.reduce((d,T)=>d+T.length,0)}function C(w,d){if(w[0].length===d)return w.shift();const T=new Uint8Array(d);let F=0;for(let L=0;L<d;L++)T[L]=w[0][F++],F===w[0].length&&(w.shift(),F=0);return w.length&&F<w[0].length&&(w[0]=w[0].slice(F)),T}K.encodePayload=(w,d)=>{const T=w.length,F=new Array(T);let L=0;w.forEach(($,O)=>{(0,Y.encodePacket)($,!1,M=>{F[O]=M,++L===T&&d(F.join(v))})})},K.decodePayload=(w,d)=>{const T=w.split(v),F=[];for(let L=0;L<T.length;L++){const $=(0,k.decodePacket)(T[L],d);if(F.push($),"error"===$.type)break}return F},K.createPacketEncoderStream=function o(){return new TransformStream({transform(w,d){(0,Y.encodePacketToBinary)(w,T=>{const F=T.length;let L;if(F<126)L=new Uint8Array(1),new DataView(L.buffer).setUint8(0,F);else if(F<65536){L=new Uint8Array(3);const $=new DataView(L.buffer);$.setUint8(0,126),$.setUint16(1,F)}else{L=new Uint8Array(9);const $=new DataView(L.buffer);$.setUint8(0,127),$.setBigUint64(1,BigInt(F))}w.data&&"string"!=typeof w.data&&(L[0]|=128),d.enqueue(L),d.enqueue(T)})}})},K.createPacketDecoderStream=function E(w,d){m||(m=new TextDecoder);const T=[];let F=0,L=-1,$=!1;return new TransformStream({transform(O,M){for(T.push(O);;){if(0===F){if(x(T)<1)break;const N=C(T,1);$=128==(128&N[0]),L=127&N[0],F=L<126?3:126===L?1:2}else if(1===F){if(x(T)<2)break;const N=C(T,2);L=new DataView(N.buffer,N.byteOffset,N.length).getUint16(0),F=3}else if(2===F){if(x(T)<8)break;const N=C(T,8),W=new DataView(N.buffer,N.byteOffset,N.length),q=W.getUint32(0);if(q>Math.pow(2,21)-1){M.enqueue(fe.ERROR_PACKET);break}L=q*Math.pow(2,32)+W.getUint32(4),F=3}else{if(x(T)<L)break;const N=C(T,L);M.enqueue((0,k.decodePacket)($?N:m.decode(N),d)),F=0}if(0===L||L>w){M.enqueue(fe.ERROR_PACKET);break}}}})},K.protocol=4},172:(Le,K)=>{"use strict";function H(Y){this.ms=(Y=Y||{}).min||100,this.max=Y.max||1e4,this.factor=Y.factor||2,this.jitter=Y.jitter>0&&Y.jitter<=1?Y.jitter:0,this.attempts=0}Object.defineProperty(K,"__esModule",{value:!0}),K.Backoff=void 0,K.Backoff=H,H.prototype.duration=function(){var Y=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var k=Math.random(),fe=Math.floor(k*this.jitter*Y);Y=1&Math.floor(10*k)?Y+fe:Y-fe}return 0|Math.min(Y,this.max)},H.prototype.reset=function(){this.attempts=0},H.prototype.setMin=function(Y){this.ms=Y},H.prototype.setMax=function(Y){this.max=Y},H.prototype.setJitter=function(Y){this.jitter=Y}},1082:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(K,"__esModule",{value:!0}),K.default=K.connect=K.io=K.Socket=K.Manager=K.protocol=void 0;const k=H(8366),fe=H(5197);Object.defineProperty(K,"Manager",{enumerable:!0,get:function(){return fe.Manager}});const v=H(1408);Object.defineProperty(K,"Socket",{enumerable:!0,get:function(){return v.Socket}});const G=Y(H(1455)).default("socket.io-client"),o={};function m(C,E){"object"==typeof C&&(E=C,C=void 0);const w=k.url(C,(E=E||{}).path||"/socket.io"),d=w.source,T=w.id;let O;return E.forceNew||E["force new connection"]||!1===E.multiplex||o[T]&&w.path in o[T].nsps?(G("ignoring socket cache for %s",d),O=new fe.Manager(d,E)):(o[T]||(G("new io instance for %s",d),o[T]=new fe.Manager(d,E)),O=o[T]),w.query&&!E.query&&(E.query=w.queryKey),O.socket(w.path,E)}K.io=m,K.connect=m,K.default=m,Object.assign(m,{Manager:fe.Manager,Socket:v.Socket,io:m,connect:m});var x=H(9116);Object.defineProperty(K,"protocol",{enumerable:!0,get:function(){return x.protocol}}),Le.exports=m},5197:function(Le,K,H){"use strict";var Y=this&&this.__createBinding||(Object.create?function(T,F,L,$){void 0===$&&($=L),Object.defineProperty(T,$,{enumerable:!0,get:function(){return F[L]}})}:function(T,F,L,$){void 0===$&&($=L),T[$]=F[L]}),k=this&&this.__setModuleDefault||(Object.create?function(T,F){Object.defineProperty(T,"default",{enumerable:!0,value:F})}:function(T,F){T.default=F}),fe=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var F={};if(null!=T)for(var L in T)"default"!==L&&Object.prototype.hasOwnProperty.call(T,L)&&Y(F,T,L);return k(F,T),F},v=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(K,"__esModule",{value:!0}),K.Manager=void 0;const ie=H(4798),G=H(1408),o=fe(H(9116)),m=H(333),x=H(172),C=H(4972),w=v(H(1455)).default("socket.io-client:manager");K.Manager=class d extends C.Emitter{constructor(F,L){var $;super(),this.nsps={},this.subs=[],F&&"object"==typeof F&&(L=F,F=void 0),(L=L||{}).path=L.path||"/socket.io",this.opts=L,ie.installTimerFunctions(this,L),this.reconnection(!1!==L.reconnection),this.reconnectionAttempts(L.reconnectionAttempts||1/0),this.reconnectionDelay(L.reconnectionDelay||1e3),this.reconnectionDelayMax(L.reconnectionDelayMax||5e3),this.randomizationFactor(null!==($=L.randomizationFactor)&&void 0!==$?$:.5),this.backoff=new x.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==L.timeout?2e4:L.timeout),this._readyState="closed",this.uri=F;const O=L.parser||o;this.encoder=new O.Encoder,this.decoder=new O.Decoder,this._autoConnect=!1!==L.autoConnect,this._autoConnect&&this.open()}reconnection(F){return arguments.length?(this._reconnection=!!F,this):this._reconnection}reconnectionAttempts(F){return void 0===F?this._reconnectionAttempts:(this._reconnectionAttempts=F,this)}reconnectionDelay(F){var L;return void 0===F?this._reconnectionDelay:(this._reconnectionDelay=F,null===(L=this.backoff)||void 0===L||L.setMin(F),this)}randomizationFactor(F){var L;return void 0===F?this._randomizationFactor:(this._randomizationFactor=F,null===(L=this.backoff)||void 0===L||L.setJitter(F),this)}reconnectionDelayMax(F){var L;return void 0===F?this._reconnectionDelayMax:(this._reconnectionDelayMax=F,null===(L=this.backoff)||void 0===L||L.setMax(F),this)}timeout(F){return arguments.length?(this._timeout=F,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(F){if(w("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;w("opening %s",this.uri),this.engine=new ie.Socket(this.uri,this.opts);const L=this.engine,$=this;this._readyState="opening",this.skipReconnect=!1;const O=m.on(L,"open",function(){$.onopen(),F&&F()}),M=W=>{w("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",W),F?F(W):this.maybeReconnectOnOpen()},N=m.on(L,"error",M);if(!1!==this._timeout){const W=this._timeout;w("connect attempt will timeout after %d",W);const q=this.setTimeoutFn(()=>{w("connect attempt timed out after %d",W),O(),M(new Error("timeout")),L.close()},W);this.opts.autoUnref&&q.unref(),this.subs.push(()=>{this.clearTimeoutFn(q)})}return this.subs.push(O),this.subs.push(N),this}connect(F){return this.open(F)}onopen(){w("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const F=this.engine;this.subs.push(m.on(F,"ping",this.onping.bind(this)),m.on(F,"data",this.ondata.bind(this)),m.on(F,"error",this.onerror.bind(this)),m.on(F,"close",this.onclose.bind(this)),m.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(F){try{this.decoder.add(F)}catch(L){this.onclose("parse error",L)}}ondecoded(F){ie.nextTick(()=>{this.emitReserved("packet",F)},this.setTimeoutFn)}onerror(F){w("error",F),this.emitReserved("error",F)}socket(F,L){let $=this.nsps[F];return $?this._autoConnect&&!$.active&&$.connect():($=new G.Socket(this,F,L),this.nsps[F]=$),$}_destroy(F){const L=Object.keys(this.nsps);for(const $ of L)if(this.nsps[$].active)return void w("socket %s is still active, skipping close",$);this._close()}_packet(F){w("writing packet %j",F);const L=this.encoder.encode(F);for(let $=0;$<L.length;$++)this.engine.write(L[$],F.options)}cleanup(){w("cleanup"),this.subs.forEach(F=>F()),this.subs.length=0,this.decoder.destroy()}_close(){w("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(F,L){w("closed due to %s",F),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",F,L),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const F=this;if(this.backoff.attempts>=this._reconnectionAttempts)w("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const L=this.backoff.duration();w("will wait %dms before reconnect attempt",L),this._reconnecting=!0;const $=this.setTimeoutFn(()=>{F.skipReconnect||(w("attempting reconnect"),this.emitReserved("reconnect_attempt",F.backoff.attempts),!F.skipReconnect&&F.open(O=>{O?(w("reconnect attempt error"),F._reconnecting=!1,F.reconnect(),this.emitReserved("reconnect_error",O)):(w("reconnect success"),F.onreconnect())}))},L);this.opts.autoUnref&&$.unref(),this.subs.push(()=>{this.clearTimeoutFn($)})}}onreconnect(){const F=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",F)}}},333:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.on=void 0,K.on=function H(Y,k,fe){return Y.on(k,fe),function(){Y.off(k,fe)}}},1408:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(K,"__esModule",{value:!0}),K.Socket=void 0;const k=H(9116),fe=H(333),v=H(4972),G=Y(H(1455)).default("socket.io-client:socket"),o=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});K.Socket=class m extends v.Emitter{constructor(C,E,w){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=C,this.nsp=E,w&&w.auth&&(this.auth=w.auth),this._opts=Object.assign({},w),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const C=this.io;this.subs=[fe.on(C,"open",this.onopen.bind(this)),fe.on(C,"packet",this.onpacket.bind(this)),fe.on(C,"error",this.onerror.bind(this)),fe.on(C,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...C){return C.unshift("message"),this.emit.apply(this,C),this}emit(C,...E){if(o.hasOwnProperty(C))throw new Error('"'+C.toString()+'" is a reserved event name');if(E.unshift(C),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(E),this;const w={type:k.PacketType.EVENT,data:E,options:{}};if(w.options.compress=!1!==this.flags.compress,"function"==typeof E[E.length-1]){const F=this.ids++;G("emitting packet with ack id %d",F);const L=E.pop();this._registerAckCallback(F,L),w.id=F}return!this.flags.volatile||this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable&&this.connected?this.connected?(this.notifyOutgoingListeners(w),this.packet(w)):this.sendBuffer.push(w):G("discard packet as the transport is not currently writable"),this.flags={},this}_registerAckCallback(C,E){var w;const d=null!==(w=this.flags.timeout)&&void 0!==w?w:this._opts.ackTimeout;if(void 0===d)return void(this.acks[C]=E);const T=this.io.setTimeoutFn(()=>{delete this.acks[C];for(let L=0;L<this.sendBuffer.length;L++)this.sendBuffer[L].id===C&&(G("removing packet with ack id %d from the buffer",C),this.sendBuffer.splice(L,1));G("event with ack id %d has timed out after %d ms",C,d),E.call(this,new Error("operation has timed out"))},d),F=(...L)=>{this.io.clearTimeoutFn(T),E.apply(this,L)};F.withError=!0,this.acks[C]=F}emitWithAck(C,...E){return new Promise((w,d)=>{const T=(F,L)=>F?d(F):w(L);T.withError=!0,E.push(T),this.emit(C,...E)})}_addToQueue(C){let E;"function"==typeof C[C.length-1]&&(E=C.pop());const w={id:this._queueSeq++,tryCount:0,pending:!1,args:C,flags:Object.assign({fromQueue:!0},this.flags)};C.push((d,...T)=>w!==this._queue[0]?void 0:(null!==d?w.tryCount>this._opts.retries&&(G("packet [%d] is discarded after %d tries",w.id,w.tryCount),this._queue.shift(),E&&E(d)):(G("packet [%d] was successfully sent",w.id),this._queue.shift(),E&&E(null,...T)),w.pending=!1,this._drainQueue())),this._queue.push(w),this._drainQueue()}_drainQueue(C=!1){if(G("draining queue"),!this.connected||0===this._queue.length)return;const E=this._queue[0];!E.pending||C?(E.pending=!0,E.tryCount++,G("sending packet [%d] (try n\xb0%d)",E.id,E.tryCount),this.flags=E.flags,this.emit.apply(this,E.args)):G("packet [%d] has already been sent and is waiting for an ack",E.id)}packet(C){C.nsp=this.nsp,this.io._packet(C)}onopen(){G("transport is open - connecting"),"function"==typeof this.auth?this.auth(C=>{this._sendConnectPacket(C)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(C){this.packet({type:k.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},C):C})}onerror(C){this.connected||this.emitReserved("connect_error",C)}onclose(C,E){G("close (%s)",C),this.connected=!1,delete this.id,this.emitReserved("disconnect",C,E),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(C=>{if(!this.sendBuffer.some(w=>String(w.id)===C)){const w=this.acks[C];delete this.acks[C],w.withError&&w.call(this,new Error("socket has been disconnected"))}})}onpacket(C){if(C.nsp===this.nsp)switch(C.type){case k.PacketType.CONNECT:C.data&&C.data.sid?this.onconnect(C.data.sid,C.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case k.PacketType.EVENT:case k.PacketType.BINARY_EVENT:this.onevent(C);break;case k.PacketType.ACK:case k.PacketType.BINARY_ACK:this.onack(C);break;case k.PacketType.DISCONNECT:this.ondisconnect();break;case k.PacketType.CONNECT_ERROR:this.destroy();const w=new Error(C.data.message);w.data=C.data.data,this.emitReserved("connect_error",w)}}onevent(C){const E=C.data||[];G("emitting event %j",E),null!=C.id&&(G("attaching ack callback to event"),E.push(this.ack(C.id))),this.connected?this.emitEvent(E):this.receiveBuffer.push(Object.freeze(E))}emitEvent(C){if(this._anyListeners&&this._anyListeners.length){const E=this._anyListeners.slice();for(const w of E)w.apply(this,C)}super.emit.apply(this,C),this._pid&&C.length&&"string"==typeof C[C.length-1]&&(this._lastOffset=C[C.length-1])}ack(C){const E=this;let w=!1;return function(...d){w||(w=!0,G("sending ack %j",d),E.packet({type:k.PacketType.ACK,id:C,data:d}))}}onack(C){const E=this.acks[C.id];"function"==typeof E?(delete this.acks[C.id],G("calling ack %s with %j",C.id,C.data),E.withError&&C.data.unshift(null),E.apply(this,C.data)):G("bad ack %s",C.id)}onconnect(C,E){G("socket connected with id %s",C),this.id=C,this.recovered=E&&this._pid===E,this._pid=E,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(C=>this.emitEvent(C)),this.receiveBuffer=[],this.sendBuffer.forEach(C=>{this.notifyOutgoingListeners(C),this.packet(C)}),this.sendBuffer=[]}ondisconnect(){G("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(C=>C()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(G("performing disconnect (%s)",this.nsp),this.packet({type:k.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(C){return this.flags.compress=C,this}get volatile(){return this.flags.volatile=!0,this}timeout(C){return this.flags.timeout=C,this}onAny(C){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(C),this}prependAny(C){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(C),this}offAny(C){if(!this._anyListeners)return this;if(C){const E=this._anyListeners;for(let w=0;w<E.length;w++)if(C===E[w])return E.splice(w,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(C){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(C),this}prependAnyOutgoing(C){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(C),this}offAnyOutgoing(C){if(!this._anyOutgoingListeners)return this;if(C){const E=this._anyOutgoingListeners;for(let w=0;w<E.length;w++)if(C===E[w])return E.splice(w,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(C){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const E=this._anyOutgoingListeners.slice();for(const w of E)w.apply(this,C.data)}}}},8366:function(Le,K,H){"use strict";var Y=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(K,"__esModule",{value:!0}),K.url=void 0;const k=H(4798),v=Y(H(1455)).default("socket.io-client:url");K.url=function ie(G,o="",m){let x=G;m=m||typeof location<"u"&&location,null==G&&(G=m.protocol+"//"+m.host),"string"==typeof G&&("/"===G.charAt(0)&&(G="/"===G.charAt(1)?m.protocol+G:m.host+G),/^(https?|wss?):\/\//.test(G)||(v("protocol-less url %s",G),G=typeof m<"u"?m.protocol+"//"+G:"https://"+G),v("parse %s",G),x=k.parse(G)),x.port||(/^(http|ws)$/.test(x.protocol)?x.port="80":/^(http|ws)s$/.test(x.protocol)&&(x.port="443")),x.path=x.path||"/";const E=-1!==x.host.indexOf(":")?"["+x.host+"]":x.host;return x.id=x.protocol+"://"+E+":"+x.port+o,x.href=x.protocol+"://"+E+(m&&m.port===x.port?"":":"+x.port),x}},9798:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.reconstructPacket=K.deconstructPacket=void 0;const Y=H(3494);function fe(G,o){if(!G)return G;if((0,Y.isBinary)(G)){const m={_placeholder:!0,num:o.length};return o.push(G),m}if(Array.isArray(G)){const m=new Array(G.length);for(let x=0;x<G.length;x++)m[x]=fe(G[x],o);return m}if("object"==typeof G&&!(G instanceof Date)){const m={};for(const x in G)Object.prototype.hasOwnProperty.call(G,x)&&(m[x]=fe(G[x],o));return m}return G}function ie(G,o){if(!G)return G;if(G&&!0===G._placeholder){if("number"==typeof G.num&&G.num>=0&&G.num<o.length)return o[G.num];throw new Error("illegal attachments")}if(Array.isArray(G))for(let m=0;m<G.length;m++)G[m]=ie(G[m],o);else if("object"==typeof G)for(const m in G)Object.prototype.hasOwnProperty.call(G,m)&&(G[m]=ie(G[m],o));return G}K.deconstructPacket=function k(G){const o=[],x=G;return x.data=fe(G.data,o),x.attachments=o.length,{packet:x,buffers:o}},K.reconstructPacket=function v(G,o){return G.data=ie(G.data,o),delete G.attachments,G}},9116:(Le,K,H)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.Decoder=K.Encoder=K.PacketType=K.protocol=void 0;const Y=H(4972),k=H(9798),fe=H(3494),ie=(0,H(1455).default)("socket.io-parser"),G=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var o,w;function x(w){return"[object Object]"===Object.prototype.toString.call(w)}K.protocol=5,(w=o=K.PacketType||(K.PacketType={}))[w.CONNECT=0]="CONNECT",w[w.DISCONNECT=1]="DISCONNECT",w[w.EVENT=2]="EVENT",w[w.ACK=3]="ACK",w[w.CONNECT_ERROR=4]="CONNECT_ERROR",w[w.BINARY_EVENT=5]="BINARY_EVENT",w[w.BINARY_ACK=6]="BINARY_ACK",K.Encoder=class m{constructor(d){this.replacer=d}encode(d){return ie("encoding packet %j",d),d.type!==o.EVENT&&d.type!==o.ACK||!(0,fe.hasBinary)(d)?[this.encodeAsString(d)]:this.encodeAsBinary({type:d.type===o.EVENT?o.BINARY_EVENT:o.BINARY_ACK,nsp:d.nsp,data:d.data,id:d.id})}encodeAsString(d){let T=""+d.type;return(d.type===o.BINARY_EVENT||d.type===o.BINARY_ACK)&&(T+=d.attachments+"-"),d.nsp&&"/"!==d.nsp&&(T+=d.nsp+","),null!=d.id&&(T+=d.id),null!=d.data&&(T+=JSON.stringify(d.data,this.replacer)),ie("encoded %j as %s",d,T),T}encodeAsBinary(d){const T=(0,k.deconstructPacket)(d),F=this.encodeAsString(T.packet),L=T.buffers;return L.unshift(F),L}};class C extends Y.Emitter{constructor(d){super(),this.reviver=d}add(d){let T;if("string"==typeof d){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");T=this.decodeString(d);const F=T.type===o.BINARY_EVENT;F||T.type===o.BINARY_ACK?(T.type=F?o.EVENT:o.ACK,this.reconstructor=new E(T),0===T.attachments&&super.emitReserved("decoded",T)):super.emitReserved("decoded",T)}else{if(!(0,fe.isBinary)(d)&&!d.base64)throw new Error("Unknown type: "+d);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");T=this.reconstructor.takeBinaryData(d),T&&(this.reconstructor=null,super.emitReserved("decoded",T))}}decodeString(d){let T=0;const F={type:Number(d.charAt(0))};if(void 0===o[F.type])throw new Error("unknown packet type "+F.type);if(F.type===o.BINARY_EVENT||F.type===o.BINARY_ACK){const $=T+1;for(;"-"!==d.charAt(++T)&&T!=d.length;);const O=d.substring($,T);if(O!=Number(O)||"-"!==d.charAt(T))throw new Error("Illegal attachments");F.attachments=Number(O)}if("/"===d.charAt(T+1)){const $=T+1;for(;++T&&","!==d.charAt(T)&&T!==d.length;);F.nsp=d.substring($,T)}else F.nsp="/";const L=d.charAt(T+1);if(""!==L&&Number(L)==L){const $=T+1;for(;++T;){const O=d.charAt(T);if(null==O||Number(O)!=O){--T;break}if(T===d.length)break}F.id=Number(d.substring($,T+1))}if(d.charAt(++T)){const $=this.tryParse(d.substr(T));if(!C.isPayloadValid(F.type,$))throw new Error("invalid payload");F.data=$}return ie("decoded %s as %j",d,F),F}tryParse(d){try{return JSON.parse(d,this.reviver)}catch{return!1}}static isPayloadValid(d,T){switch(d){case o.CONNECT:return x(T);case o.DISCONNECT:return void 0===T;case o.CONNECT_ERROR:return"string"==typeof T||x(T);case o.EVENT:case o.BINARY_EVENT:return Array.isArray(T)&&("number"==typeof T[0]||"string"==typeof T[0]&&-1===G.indexOf(T[0]));case o.ACK:case o.BINARY_ACK:return Array.isArray(T)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}K.Decoder=C;class E{constructor(d){this.packet=d,this.buffers=[],this.reconPack=d}takeBinaryData(d){if(this.buffers.push(d),this.buffers.length===this.reconPack.attachments){const T=(0,k.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),T}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},3494:(Le,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.hasBinary=K.isBinary=void 0;const H="function"==typeof ArrayBuffer,Y=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,k=Object.prototype.toString,fe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===k.call(Blob),v="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===k.call(File);function ie(o){return H&&(o instanceof ArrayBuffer||Y(o))||fe&&o instanceof Blob||v&&o instanceof File}K.isBinary=ie,K.hasBinary=function G(o,m){if(!o||"object"!=typeof o)return!1;if(Array.isArray(o)){for(let x=0,C=o.length;x<C;x++)if(G(o[x]))return!0;return!1}if(ie(o))return!0;if(o.toJSON&&"function"==typeof o.toJSON&&1===arguments.length)return G(o.toJSON(),!0);for(const x in o)if(Object.prototype.hasOwnProperty.call(o,x)&&G(o[x]))return!0;return!1}},4972:(Le,K,H)=>{"use strict";function Y(fe){if(fe)return function k(fe){for(var v in Y.prototype)fe[v]=Y.prototype[v];return fe}(fe)}H.r(K),H.d(K,{Emitter:()=>Y}),Y.prototype.on=Y.prototype.addEventListener=function(fe,v){return this._callbacks=this._callbacks||{},(this._callbacks["$"+fe]=this._callbacks["$"+fe]||[]).push(v),this},Y.prototype.once=function(fe,v){function ie(){this.off(fe,ie),v.apply(this,arguments)}return ie.fn=v,this.on(fe,ie),this},Y.prototype.off=Y.prototype.removeListener=Y.prototype.removeAllListeners=Y.prototype.removeEventListener=function(fe,v){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var ie=this._callbacks["$"+fe];if(!ie)return this;if(1==arguments.length)return delete this._callbacks["$"+fe],this;for(var G,o=0;o<ie.length;o++)if((G=ie[o])===v||G.fn===v){ie.splice(o,1);break}return 0===ie.length&&delete this._callbacks["$"+fe],this},Y.prototype.emitReserved=Y.prototype.emit=function(fe){this._callbacks=this._callbacks||{};for(var v=new Array(arguments.length-1),ie=this._callbacks["$"+fe],G=1;G<arguments.length;G++)v[G-1]=arguments[G];if(ie){G=0;for(var o=(ie=ie.slice(0)).length;G<o;++G)ie[G].apply(this,v)}return this},Y.prototype.listeners=function(fe){return this._callbacks=this._callbacks||{},this._callbacks["$"+fe]||[]},Y.prototype.hasListeners=function(fe){return!!this.listeners(fe).length}},6349:(Le,K,H)=>{"use strict";H.r(K),H.d(K,{VERSION:()=>k,after:()=>Hr,all:()=>Sn,allKeys:()=>ei,any:()=>Ti,assign:()=>Rn,before:()=>oa,bind:()=>Ze,bindAll:()=>Jt,chain:()=>Ls,chunk:()=>_r,clone:()=>go,collect:()=>ct,compact:()=>mt,compose:()=>sa,constant:()=>hn,contains:()=>xn,countBy:()=>bi,create:()=>ea,debounce:()=>Xt,default:()=>$n,defaults:()=>po,defer:()=>ii,delay:()=>To,detect:()=>an,difference:()=>Lt,drop:()=>rr,each:()=>Br,escape:()=>ra,every:()=>Sn,extend:()=>Li,extendOwn:()=>Rn,filter:()=>pr,find:()=>an,findIndex:()=>Hs,findKey:()=>Ba,findLastIndex:()=>la,findWhere:()=>ua,first:()=>vr,flatten:()=>da,foldl:()=>hr,foldr:()=>$i,forEach:()=>Br,functions:()=>ni,get:()=>Tn,groupBy:()=>mr,has:()=>wi,head:()=>vr,identity:()=>nr,include:()=>xn,includes:()=>xn,indexBy:()=>Va,indexOf:()=>Un,initial:()=>cs,inject:()=>hr,intersection:()=>js,invert:()=>Rs,invoke:()=>Bs,isArguments:()=>Be,isArray:()=>We,isArrayBuffer:()=>Ae,isBoolean:()=>ae,isDataView:()=>xe,isDate:()=>B,isElement:()=>De,isEmpty:()=>rn,isEqual:()=>es,isError:()=>ce,isFinite:()=>Mt,isFunction:()=>A,isMap:()=>As,isMatch:()=>dr,isNaN:()=>Rt,isNull:()=>me,isNumber:()=>de,isObject:()=>se,isRegExp:()=>V,isSet:()=>ho,isString:()=>ee,isSymbol:()=>te,isTypedArray:()=>Ft,isUndefined:()=>ne,isWeakMap:()=>fo,isWeakSet:()=>Is,iteratee:()=>Ci,keys:()=>Cn,last:()=>Io,lastIndexOf:()=>ut,map:()=>ct,mapObject:()=>vo,matcher:()=>ri,matches:()=>ri,max:()=>dt,memoize:()=>So,methods:()=>ni,min:()=>os,mixin:()=>Ut,negate:()=>bo,noop:()=>Ei,now:()=>Ui,object:()=>Mr,omit:()=>oi,once:()=>Tl,pairs:()=>Xo,partial:()=>Si,partition:()=>Rr,pick:()=>cn,pluck:()=>Vi,property:()=>Ps,propertyOf:()=>xs,random:()=>is,range:()=>Pr,reduce:()=>hr,reduceRight:()=>$i,reject:()=>ca,rest:()=>rr,restArguments:()=>q,result:()=>Co,sample:()=>ls,select:()=>pr,shuffle:()=>fa,size:()=>si,some:()=>Ti,sortBy:()=>kt,sortedIndex:()=>Do,tail:()=>rr,take:()=>vr,tap:()=>rs,template:()=>Bi,templateSettings:()=>yo,throttle:()=>ji,times:()=>_o,toArray:()=>Fn,toPath:()=>ta,transpose:()=>Wi,unescape:()=>En,union:()=>zi,uniq:()=>Or,unique:()=>Or,uniqueId:()=>ht,unzip:()=>Wi,values:()=>ti,where:()=>gr,without:()=>jr,wrap:()=>Ha,zip:()=>Ro});var Y={};H.r(Y),H.d(Y,{VERSION:()=>k,after:()=>Hr,all:()=>Sn,allKeys:()=>ei,any:()=>Ti,assign:()=>Rn,before:()=>oa,bind:()=>Ze,bindAll:()=>Jt,chain:()=>Ls,chunk:()=>_r,clone:()=>go,collect:()=>ct,compact:()=>mt,compose:()=>sa,constant:()=>hn,contains:()=>xn,countBy:()=>bi,create:()=>ea,debounce:()=>Xt,default:()=>fs,defaults:()=>po,defer:()=>ii,delay:()=>To,detect:()=>an,difference:()=>Lt,drop:()=>rr,each:()=>Br,escape:()=>ra,every:()=>Sn,extend:()=>Li,extendOwn:()=>Rn,filter:()=>pr,find:()=>an,findIndex:()=>Hs,findKey:()=>Ba,findLastIndex:()=>la,findWhere:()=>ua,first:()=>vr,flatten:()=>da,foldl:()=>hr,foldr:()=>$i,forEach:()=>Br,functions:()=>ni,get:()=>Tn,groupBy:()=>mr,has:()=>wi,head:()=>vr,identity:()=>nr,include:()=>xn,includes:()=>xn,indexBy:()=>Va,indexOf:()=>Un,initial:()=>cs,inject:()=>hr,intersection:()=>js,invert:()=>Rs,invoke:()=>Bs,isArguments:()=>Be,isArray:()=>We,isArrayBuffer:()=>Ae,isBoolean:()=>ae,isDataView:()=>xe,isDate:()=>B,isElement:()=>De,isEmpty:()=>rn,isEqual:()=>es,isError:()=>ce,isFinite:()=>Mt,isFunction:()=>A,isMap:()=>As,isMatch:()=>dr,isNaN:()=>Rt,isNull:()=>me,isNumber:()=>de,isObject:()=>se,isRegExp:()=>V,isSet:()=>ho,isString:()=>ee,isSymbol:()=>te,isTypedArray:()=>Ft,isUndefined:()=>ne,isWeakMap:()=>fo,isWeakSet:()=>Is,iteratee:()=>Ci,keys:()=>Cn,last:()=>Io,lastIndexOf:()=>ut,map:()=>ct,mapObject:()=>vo,matcher:()=>ri,matches:()=>ri,max:()=>dt,memoize:()=>So,methods:()=>ni,min:()=>os,mixin:()=>Ut,negate:()=>bo,noop:()=>Ei,now:()=>Ui,object:()=>Mr,omit:()=>oi,once:()=>Tl,pairs:()=>Xo,partial:()=>Si,partition:()=>Rr,pick:()=>cn,pluck:()=>Vi,property:()=>Ps,propertyOf:()=>xs,random:()=>is,range:()=>Pr,reduce:()=>hr,reduceRight:()=>$i,reject:()=>ca,rest:()=>rr,restArguments:()=>q,result:()=>Co,sample:()=>ls,select:()=>pr,shuffle:()=>fa,size:()=>si,some:()=>Ti,sortBy:()=>kt,sortedIndex:()=>Do,tail:()=>rr,take:()=>vr,tap:()=>rs,template:()=>Bi,templateSettings:()=>yo,throttle:()=>ji,times:()=>_o,toArray:()=>Fn,toPath:()=>ta,transpose:()=>Wi,unescape:()=>En,union:()=>zi,uniq:()=>Or,unique:()=>Or,uniqueId:()=>ht,unzip:()=>Wi,values:()=>ti,where:()=>gr,without:()=>jr,wrap:()=>Ha,zip:()=>Ro});var k="1.13.6",fe="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},v=Array.prototype,ie=Object.prototype,G=typeof Symbol<"u"?Symbol.prototype:null,o=v.push,m=v.slice,x=ie.toString,C=ie.hasOwnProperty,E=typeof ArrayBuffer<"u",w=typeof DataView<"u",d=Array.isArray,T=Object.keys,F=Object.create,L=E&&ArrayBuffer.isView,$=isNaN,O=isFinite,M=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],W=Math.pow(2,53)-1;function q(R,j){return j=null==j?R.length-1:+j,function(){for(var re=Math.max(arguments.length-j,0),ue=Array(re),be=0;be<re;be++)ue[be]=arguments[be+j];switch(j){case 0:return R.call(this,ue);case 1:return R.call(this,arguments[0],ue);case 2:return R.call(this,arguments[0],arguments[1],ue)}var Ee=Array(j+1);for(be=0;be<j;be++)Ee[be]=arguments[be];return Ee[j]=ue,R.apply(this,Ee)}}function se(R){var j=typeof R;return"function"===j||"object"===j&&!!R}function me(R){return null===R}function ne(R){return void 0===R}function ae(R){return!0===R||!1===R||"[object Boolean]"===x.call(R)}function De(R){return!(!R||1!==R.nodeType)}function Ce(R){var j="[object "+R+"]";return function(re){return x.call(re)===j}}const ee=Ce("String"),de=Ce("Number"),B=Ce("Date"),V=Ce("RegExp"),ce=Ce("Error"),te=Ce("Symbol"),Ae=Ce("ArrayBuffer");var ge=Ce("Function");"object"!=typeof Int8Array&&"function"!=typeof(fe.document&&fe.document.childNodes)&&(ge=function(R){return"function"==typeof R||!1});const A=ge,J=Ce("Object");var we=w&&J(new DataView(new ArrayBuffer(8))),_e=typeof Map<"u"&&J(new Map),Se=Ce("DataView");const xe=we?function Me(R){return null!=R&&A(R.getInt8)&&Ae(R.buffer)}:Se,We=d||Ce("Array");function Ye(R,j){return null!=R&&C.call(R,j)}var Ge=Ce("Arguments");!function(){Ge(arguments)||(Ge=function(R){return Ye(R,"callee")})}();const Be=Ge;function Mt(R){return!te(R)&&O(R)&&!isNaN(parseFloat(R))}function Rt(R){return de(R)&&$(R)}function hn(R){return function(){return R}}function gt(R){return function(j){var re=R(j);return"number"==typeof re&&re>=0&&re<=W}}function at(R){return function(j){return j?.[R]}}const Ct=at("byteLength"),jt=gt(Ct);var Kt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Ft=E?function $t(R){return L?L(R)&&!xe(R):jt(R)&&Kt.test(x.call(R))}:hn(!1),pn=at("length");function Ur(R,j){j=function In(R){for(var j={},re=R.length,ue=0;ue<re;++ue)j[R[ue]]=!0;return{contains:function(be){return!0===j[be]},push:function(be){return j[be]=!0,R.push(be)}}}(j);var re=N.length,ue=R.constructor,be=A(ue)&&ue.prototype||ie,Ee="constructor";for(Ye(R,Ee)&&!j.contains(Ee)&&j.push(Ee);re--;)(Ee=N[re])in R&&R[Ee]!==be[Ee]&&!j.contains(Ee)&&j.push(Ee)}function Cn(R){if(!se(R))return[];if(T)return T(R);var j=[];for(var re in R)Ye(R,re)&&j.push(re);return M&&Ur(R,j),j}function rn(R){if(null==R)return!0;var j=pn(R);return"number"==typeof j&&(We(R)||ee(R)||Be(R))?0===j:0===pn(Cn(R))}function dr(R,j){var re=Cn(j),ue=re.length;if(null==R)return!ue;for(var be=Object(R),Ee=0;Ee<ue;Ee++){var Ue=re[Ee];if(j[Ue]!==be[Ue]||!(Ue in be))return!1}return!0}function It(R){return R instanceof It?R:this instanceof It?void(this._wrapped=R):new It(R)}function Ji(R){return new Uint8Array(R.buffer||R,R.byteOffset||0,Ct(R))}It.VERSION=k,It.prototype.valueOf=It.prototype.toJSON=It.prototype.value=function(){return this._wrapped},It.prototype.toString=function(){return String(this._wrapped)};var xi="[object DataView]";function qr(R,j,re,ue){if(R===j)return 0!==R||1/R==1/j;if(null==R||null==j)return!1;if(R!=R)return j!=j;var be=typeof R;return("function"===be||"object"===be||"object"==typeof j)&&Xi(R,j,re,ue)}function Xi(R,j,re,ue){R instanceof It&&(R=R._wrapped),j instanceof It&&(j=j._wrapped);var be=x.call(R);if(be!==x.call(j))return!1;if(we&&"[object Object]"==be&&xe(R)){if(!xe(j))return!1;be=xi}switch(be){case"[object RegExp]":case"[object String]":return""+R==""+j;case"[object Number]":return+R!=+R?+j!=+j:0==+R?1/+R==1/j:+R==+j;case"[object Date]":case"[object Boolean]":return+R==+j;case"[object Symbol]":return G.valueOf.call(R)===G.valueOf.call(j);case"[object ArrayBuffer]":case xi:return Xi(Ji(R),Ji(j),re,ue)}var Ee="[object Array]"===be;if(!Ee&&Ft(R)){if(Ct(R)!==Ct(j))return!1;if(R.buffer===j.buffer&&R.byteOffset===j.byteOffset)return!0;Ee=!0}if(!Ee){if("object"!=typeof R||"object"!=typeof j)return!1;var Je=R.constructor,yt=j.constructor;if(Je!==yt&&!(A(Je)&&Je instanceof Je&&A(yt)&&yt instanceof yt)&&"constructor"in R&&"constructor"in j)return!1}ue=ue||[];for(var vt=(re=re||[]).length;vt--;)if(re[vt]===R)return ue[vt]===j;if(re.push(R),ue.push(j),Ee){if((vt=R.length)!==j.length)return!1;for(;vt--;)if(!qr(R[vt],j[vt],re,ue))return!1}else{var fn,Dn=Cn(R);if(vt=Dn.length,Cn(j).length!==vt)return!1;for(;vt--;)if(!Ye(j,fn=Dn[vt])||!qr(R[fn],j[fn],re,ue))return!1}return re.pop(),ue.pop(),!0}function es(R,j){return qr(R,j)}function ei(R){if(!se(R))return[];var j=[];for(var re in R)j.push(re);return M&&Ur(R,j),j}function ki(R){var j=pn(R);return function(re){if(null==re)return!1;var ue=ei(re);if(pn(ue))return!1;for(var be=0;be<j;be++)if(!A(re[R[be]]))return!1;return R!==co||!A(re[Fi])}}var Fi="forEach",Qn=["clear","delete"],ts=["get","has","set"],ns=Qn.concat(Fi,ts),co=Qn.concat(ts),Sl=["add"].concat(Qn,Fi,"has");const As=_e?ki(ns):Ce("Map"),fo=_e?ki(co):Ce("WeakMap"),ho=_e?ki(Sl):Ce("Set"),Is=Ce("WeakSet");function ti(R){for(var j=Cn(R),re=j.length,ue=Array(re),be=0;be<re;be++)ue[be]=R[j[be]];return ue}function Xo(R){for(var j=Cn(R),re=j.length,ue=Array(re),be=0;be<re;be++)ue[be]=[j[be],R[j[be]]];return ue}function Rs(R){for(var j={},re=Cn(R),ue=0,be=re.length;ue<be;ue++)j[R[re[ue]]]=re[ue];return j}function ni(R){var j=[];for(var re in R)A(R[re])&&j.push(re);return j.sort()}function Os(R,j){return function(re){var ue=arguments.length;if(j&&(re=Object(re)),ue<2||null==re)return re;for(var be=1;be<ue;be++)for(var Ee=arguments[be],Ue=R(Ee),Je=Ue.length,yt=0;yt<Je;yt++){var vt=Ue[yt];(!j||void 0===re[vt])&&(re[vt]=Ee[vt])}return re}}const Li=Os(ei),Rn=Os(Cn),po=Os(ei,!0);function Ms(R){if(!se(R))return{};if(F)return F(R);var j=function(){};j.prototype=R;var re=new j;return j.prototype=null,re}function ea(R,j){var re=Ms(R);return j&&Rn(re,j),re}function go(R){return se(R)?We(R)?R.slice():Li({},R):R}function rs(R,j){return j(R),R}function ta(R){return We(R)?R:[R]}function Zn(R){return It.toPath(R)}function mo(R,j){for(var re=j.length,ue=0;ue<re;ue++){if(null==R)return;R=R[j[ue]]}return re?R:void 0}function Tn(R,j,re){var ue=mo(R,Zn(j));return ne(ue)?re:ue}function wi(R,j){for(var re=(j=Zn(j)).length,ue=0;ue<re;ue++){var be=j[ue];if(!Ye(R,be))return!1;R=R[be]}return!!re}function nr(R){return R}function ri(R){return R=Rn({},R),function(j){return dr(j,R)}}function Ps(R){return R=Zn(R),function(j){return mo(j,R)}}function Ir(R,j,re){if(void 0===j)return R;switch(re??3){case 1:return function(ue){return R.call(j,ue)};case 3:return function(ue,be,Ee){return R.call(j,ue,be,Ee)};case 4:return function(ue,be,Ee,Ue){return R.call(j,ue,be,Ee,Ue)}}return function(){return R.apply(j,arguments)}}function Ns(R,j,re){return null==R?nr:A(R)?Ir(R,j,re):se(R)&&!We(R)?ri(R):Ps(R)}function Ci(R,j){return Ns(R,j,1/0)}function bn(R,j,re){return It.iteratee!==Ci?It.iteratee(R,j):Ns(R,j,re)}function vo(R,j,re){j=bn(j,re);for(var ue=Cn(R),be=ue.length,Ee={},Ue=0;Ue<be;Ue++){var Je=ue[Ue];Ee[Je]=j(R[Je],Je,R)}return Ee}function Ei(){}function xs(R){return null==R?Ei:function(j){return Tn(R,j)}}function _o(R,j,re){var ue=Array(Math.max(0,R));j=Ir(j,re,1);for(var be=0;be<R;be++)ue[be]=j(be);return ue}function is(R,j){return null==j&&(j=R,R=0),R+Math.floor(Math.random()*(j-R+1))}It.toPath=ta,It.iteratee=Ci;const Ui=Date.now||function(){return(new Date).getTime()};function na(R){var j=function(Ee){return R[Ee]},re="(?:"+Cn(R).join("|")+")",ue=RegExp(re),be=RegExp(re,"g");return function(Ee){return ue.test(Ee=null==Ee?"":""+Ee)?Ee.replace(be,j):Ee}}const ks={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ra=na(ks),En=na(Rs(ks)),yo=It.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ss=/(.)^/,wo={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},un=/\\|'|\r|\n|\u2028|\u2029/g;function Hi(R){return"\\"+wo[R]}var dn=/^\s*(\w|\$)+\s*$/;function Bi(R,j,re){!j&&re&&(j=re),j=po({},j,It.templateSettings);var ue=RegExp([(j.escape||ss).source,(j.interpolate||ss).source,(j.evaluate||ss).source].join("|")+"|$","g"),be=0,Ee="__p+='";R.replace(ue,function(vt,Dn,fn,Hn,en){return Ee+=R.slice(be,en).replace(un,Hi),be=en+vt.length,Dn?Ee+="'+\n((__t=("+Dn+"))==null?'':_.escape(__t))+\n'":fn?Ee+="'+\n((__t=("+fn+"))==null?'':__t)+\n'":Hn&&(Ee+="';\n"+Hn+"\n__p+='"),vt}),Ee+="';\n";var Je,Ue=j.variable;if(Ue){if(!dn.test(Ue))throw new Error("variable is not a bare identifier: "+Ue)}else Ee="with(obj||{}){\n"+Ee+"}\n",Ue="obj";Ee="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Ee+"return __p;\n";try{Je=new Function(Ue,"_",Ee)}catch(vt){throw vt.source=Ee,vt}var yt=function(vt){return Je.call(this,vt,It)};return yt.source="function("+Ue+"){\n"+Ee+"}",yt}function Co(R,j,re){var ue=(j=Zn(j)).length;if(!ue)return A(re)?re.call(R):re;for(var be=0;be<ue;be++){var Ee=R?.[j[be]];void 0===Ee&&(Ee=re,be=ue),R=A(Ee)?Ee.call(R):Ee}return R}var Fs=0;function ht(R){var j=++Fs+"";return R?R+j:j}function Ls(R){var j=It(R);return j._chain=!0,j}function Us(R,j,re,ue,be){if(!(ue instanceof j))return R.apply(re,be);var Ee=Ms(R.prototype),Ue=R.apply(Ee,be);return se(Ue)?Ue:Ee}var Eo=q(function(R,j){var re=Eo.placeholder,ue=function(){for(var be=0,Ee=j.length,Ue=Array(Ee),Je=0;Je<Ee;Je++)Ue[Je]=j[Je]===re?arguments[be++]:j[Je];for(;be<arguments.length;)Ue.push(arguments[be++]);return Us(R,ue,this,this,Ue)};return ue});Eo.placeholder=It;const Si=Eo,Ze=q(function(R,j,re){if(!A(R))throw new TypeError("Bind must be called on a function");var ue=q(function(be){return Us(R,ue,j,this,re.concat(be))});return ue}),yn=gt(pn);function pt(R,j,re,ue){if(ue=ue||[],j||0===j){if(j<=0)return ue.concat(R)}else j=1/0;for(var be=ue.length,Ee=0,Ue=pn(R);Ee<Ue;Ee++){var Je=R[Ee];if(yn(Je)&&(We(Je)||Be(Je)))if(j>1)pt(Je,j-1,re,ue),be=ue.length;else for(var yt=0,vt=Je.length;yt<vt;)ue[be++]=Je[yt++];else re||(ue[be++]=Je)}return ue}const Jt=q(function(R,j){var re=(j=pt(j,!1,!1)).length;if(re<1)throw new Error("bindAll must be passed function names");for(;re--;){var ue=j[re];R[ue]=Ze(R[ue],R)}return R});function So(R,j){var re=function(ue){var be=re.cache,Ee=""+(j?j.apply(this,arguments):ue);return Ye(be,Ee)||(be[Ee]=R.apply(this,arguments)),be[Ee]};return re.cache={},re}const To=q(function(R,j,re){return setTimeout(function(){return R.apply(null,re)},j)}),ii=Si(To,It,1);function ji(R,j,re){var ue,be,Ee,Ue,Je=0;re||(re={});var yt=function(){Je=!1===re.leading?0:Ui(),ue=null,Ue=R.apply(be,Ee),ue||(be=Ee=null)},vt=function(){var Dn=Ui();!Je&&!1===re.leading&&(Je=Dn);var fn=j-(Dn-Je);return be=this,Ee=arguments,fn<=0||fn>j?(ue&&(clearTimeout(ue),ue=null),Je=Dn,Ue=R.apply(be,Ee),ue||(be=Ee=null)):!ue&&!1!==re.trailing&&(ue=setTimeout(yt,fn)),Ue};return vt.cancel=function(){clearTimeout(ue),Je=0,ue=be=Ee=null},vt}function Xt(R,j,re){var ue,be,Ee,Ue,Je,yt=function(){var Dn=Ui()-be;j>Dn?ue=setTimeout(yt,j-Dn):(ue=null,re||(Ue=R.apply(Je,Ee)),ue||(Ee=Je=null))},vt=q(function(Dn){return Je=this,Ee=Dn,be=Ui(),ue||(ue=setTimeout(yt,j),re&&(Ue=R.apply(Je,Ee))),Ue});return vt.cancel=function(){clearTimeout(ue),ue=Ee=Je=null},vt}function Ha(R,j){return Si(j,R)}function bo(R){return function(){return!R.apply(this,arguments)}}function sa(){var R=arguments,j=R.length-1;return function(){for(var re=j,ue=R[j].apply(this,arguments);re--;)ue=R[re].call(this,ue);return ue}}function Hr(R,j){return function(){if(--R<1)return j.apply(this,arguments)}}function oa(R,j){var re;return function(){return--R>0&&(re=j.apply(this,arguments)),R<=1&&(j=null),re}}const Tl=Si(oa,2);function Ba(R,j,re){j=bn(j,re);for(var be,ue=Cn(R),Ee=0,Ue=ue.length;Ee<Ue;Ee++)if(j(R[be=ue[Ee]],be,R))return be}function aa(R){return function(j,re,ue){re=bn(re,ue);for(var be=pn(j),Ee=R>0?0:be-1;Ee>=0&&Ee<be;Ee+=R)if(re(j[Ee],Ee,j))return Ee;return-1}}const Hs=aa(1),la=aa(-1);function Do(R,j,re,ue){for(var be=(re=bn(re,ue,1))(j),Ee=0,Ue=pn(R);Ee<Ue;){var Je=Math.floor((Ee+Ue)/2);re(R[Je])<be?Ee=Je+1:Ue=Je}return Ee}function ja(R,j,re){return function(ue,be,Ee){var Ue=0,Je=pn(ue);if("number"==typeof Ee)R>0?Ue=Ee>=0?Ee:Math.max(Ee+Je,Ue):Je=Ee>=0?Math.min(Ee+1,Je):Ee+Je+1;else if(re&&Ee&&Je)return ue[Ee=re(ue,be)]===be?Ee:-1;if(be!=be)return(Ee=j(m.call(ue,Ue,Je),Rt))>=0?Ee+Ue:-1;for(Ee=R>0?Ue:Je-1;Ee>=0&&Ee<Je;Ee+=R)if(ue[Ee]===be)return Ee;return-1}}const Un=ja(1,Hs,Do),ut=ja(-1,la);function an(R,j,re){var be=(yn(R)?Hs:Ba)(R,j,re);if(void 0!==be&&-1!==be)return R[be]}function ua(R,j){return an(R,ri(j))}function Br(R,j,re){var ue,be;if(j=Ir(j,re),yn(R))for(ue=0,be=R.length;ue<be;ue++)j(R[ue],ue,R);else{var Ee=Cn(R);for(ue=0,be=Ee.length;ue<be;ue++)j(R[Ee[ue]],Ee[ue],R)}return R}function ct(R,j,re){j=bn(j,re);for(var ue=!yn(R)&&Cn(R),be=(ue||R).length,Ee=Array(be),Ue=0;Ue<be;Ue++){var Je=ue?ue[Ue]:Ue;Ee[Ue]=j(R[Je],Je,R)}return Ee}function $a(R){var j=function(re,ue,be,Ee){var Ue=!yn(re)&&Cn(re),Je=(Ue||re).length,yt=R>0?0:Je-1;for(Ee||(be=re[Ue?Ue[yt]:yt],yt+=R);yt>=0&&yt<Je;yt+=R){var vt=Ue?Ue[yt]:yt;be=ue(be,re[vt],vt,re)}return be};return function(re,ue,be,Ee){var Ue=arguments.length>=3;return j(re,Ir(ue,Ee,4),be,Ue)}}const hr=$a(1),$i=$a(-1);function pr(R,j,re){var ue=[];return j=bn(j,re),Br(R,function(be,Ee,Ue){j(be,Ee,Ue)&&ue.push(be)}),ue}function ca(R,j,re){return pr(R,bo(bn(j)),re)}function Sn(R,j,re){j=bn(j,re);for(var ue=!yn(R)&&Cn(R),be=(ue||R).length,Ee=0;Ee<be;Ee++){var Ue=ue?ue[Ee]:Ee;if(!j(R[Ue],Ue,R))return!1}return!0}function Ti(R,j,re){j=bn(j,re);for(var ue=!yn(R)&&Cn(R),be=(ue||R).length,Ee=0;Ee<be;Ee++){var Ue=ue?ue[Ee]:Ee;if(j(R[Ue],Ue,R))return!0}return!1}function xn(R,j,re,ue){return yn(R)||(R=ti(R)),("number"!=typeof re||ue)&&(re=0),Un(R,j,re)>=0}const Bs=q(function(R,j,re){var ue,be;return A(j)?be=j:(j=Zn(j),ue=j.slice(0,-1),j=j[j.length-1]),ct(R,function(Ee){var Ue=be;if(!Ue){if(ue&&ue.length&&(Ee=mo(Ee,ue)),null==Ee)return;Ue=Ee[j]}return null==Ue?Ue:Ue.apply(Ee,re)})});function Vi(R,j){return ct(R,Ps(j))}function gr(R,j){return pr(R,ri(j))}function dt(R,j,re){var Ee,Ue,ue=-1/0,be=-1/0;if(null==j||"number"==typeof j&&"object"!=typeof R[0]&&null!=R)for(var Je=0,yt=(R=yn(R)?R:ti(R)).length;Je<yt;Je++)null!=(Ee=R[Je])&&Ee>ue&&(ue=Ee);else j=bn(j,re),Br(R,function(vt,Dn,fn){((Ue=j(vt,Dn,fn))>be||Ue===-1/0&&ue===-1/0)&&(ue=vt,be=Ue)});return ue}function os(R,j,re){var Ee,Ue,ue=1/0,be=1/0;if(null==j||"number"==typeof j&&"object"!=typeof R[0]&&null!=R)for(var Je=0,yt=(R=yn(R)?R:ti(R)).length;Je<yt;Je++)null!=(Ee=R[Je])&&Ee<ue&&(ue=Ee);else j=bn(j,re),Br(R,function(vt,Dn,fn){((Ue=j(vt,Dn,fn))<be||Ue===1/0&&ue===1/0)&&(ue=vt,be=Ue)});return ue}var as=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Fn(R){return R?We(R)?m.call(R):ee(R)?R.match(as):yn(R)?ct(R,nr):ti(R):[]}function ls(R,j,re){if(null==j||re)return yn(R)||(R=ti(R)),R[is(R.length-1)];var ue=Fn(R),be=pn(ue);j=Math.max(Math.min(j,be),0);for(var Ee=be-1,Ue=0;Ue<j;Ue++){var Je=is(Ue,Ee),yt=ue[Ue];ue[Ue]=ue[Je],ue[Je]=yt}return ue.slice(0,j)}function fa(R){return ls(R,1/0)}function kt(R,j,re){var ue=0;return j=bn(j,re),Vi(ct(R,function(be,Ee,Ue){return{value:be,index:ue++,criteria:j(be,Ee,Ue)}}).sort(function(be,Ee){var Ue=be.criteria,Je=Ee.criteria;if(Ue!==Je){if(Ue>Je||void 0===Ue)return 1;if(Ue<Je||void 0===Je)return-1}return be.index-Ee.index}),"value")}function us(R,j){return function(re,ue,be){var Ee=j?[[],[]]:{};return ue=bn(ue,be),Br(re,function(Ue,Je){var yt=ue(Ue,Je,re);R(Ee,Ue,yt)}),Ee}}const mr=us(function(R,j,re){Ye(R,re)?R[re].push(j):R[re]=[j]}),Va=us(function(R,j,re){R[re]=j}),bi=us(function(R,j,re){Ye(R,re)?R[re]++:R[re]=1}),Rr=us(function(R,j,re){R[re?0:1].push(j)},!0);function si(R){return null==R?0:yn(R)?R.length:Cn(R).length}function Ao(R,j,re){return j in re}const cn=q(function(R,j){var re={},ue=j[0];if(null==R)return re;A(ue)?(j.length>1&&(ue=Ir(ue,j[1])),j=ei(R)):(ue=Ao,j=pt(j,!1,!1),R=Object(R));for(var be=0,Ee=j.length;be<Ee;be++){var Ue=j[be],Je=R[Ue];ue(Je,Ue,R)&&(re[Ue]=Je)}return re}),oi=q(function(R,j){var ue,re=j[0];return A(re)?(re=bo(re),j.length>1&&(ue=j[1])):(j=ct(pt(j,!1,!1),String),re=function(be,Ee){return!xn(j,Ee)}),cn(R,re,ue)});function cs(R,j,re){return m.call(R,0,Math.max(0,R.length-(null==j||re?1:j)))}function vr(R,j,re){return null==R||R.length<1?null==j||re?void 0:[]:null==j||re?R[0]:cs(R,R.length-j)}function rr(R,j,re){return m.call(R,null==j||re?1:j)}function Io(R,j,re){return null==R||R.length<1?null==j||re?void 0:[]:null==j||re?R[R.length-1]:rr(R,Math.max(0,R.length-j))}function mt(R){return pr(R,Boolean)}function da(R,j){return pt(R,j,!1)}const Lt=q(function(R,j){return j=pt(j,!0,!0),pr(R,function(re){return!xn(j,re)})}),jr=q(function(R,j){return Lt(R,j)});function Or(R,j,re,ue){ae(j)||(ue=re,re=j,j=!1),null!=re&&(re=bn(re,ue));for(var be=[],Ee=[],Ue=0,Je=pn(R);Ue<Je;Ue++){var yt=R[Ue],vt=re?re(yt,Ue,R):yt;j&&!re?((!Ue||Ee!==vt)&&be.push(yt),Ee=vt):re?xn(Ee,vt)||(Ee.push(vt),be.push(yt)):xn(be,yt)||be.push(yt)}return be}const zi=q(function(R){return Or(pt(R,!0,!0))});function js(R){for(var j=[],re=arguments.length,ue=0,be=pn(R);ue<be;ue++){var Ee=R[ue];if(!xn(j,Ee)){var Ue;for(Ue=1;Ue<re&&xn(arguments[Ue],Ee);Ue++);Ue===re&&j.push(Ee)}}return j}function Wi(R){for(var j=R&&dt(R,pn).length||0,re=Array(j),ue=0;ue<j;ue++)re[ue]=Vi(R,ue);return re}const Ro=q(Wi);function Mr(R,j){for(var re={},ue=0,be=pn(R);ue<be;ue++)j?re[R[ue]]=j[ue]:re[R[ue][0]]=R[ue][1];return re}function Pr(R,j,re){null==j&&(j=R||0,R=0),re||(re=j<R?-1:1);for(var ue=Math.max(Math.ceil((j-R)/re),0),be=Array(ue),Ee=0;Ee<ue;Ee++,R+=re)be[Ee]=R;return be}function _r(R,j){if(null==j||j<1)return[];for(var re=[],ue=0,be=R.length;ue<be;)re.push(m.call(R,ue,ue+=j));return re}function yr(R,j){return R._chain?It(j).chain():j}function Ut(R){return Br(ni(R),function(j){var re=It[j]=R[j];It.prototype[j]=function(){var ue=[this._wrapped];return o.apply(ue,arguments),yr(this,re.apply(It,ue))}}),It}Br(["pop","push","reverse","shift","sort","splice","unshift"],function(R){var j=v[R];It.prototype[R]=function(){var re=this._wrapped;return null!=re&&(j.apply(re,arguments),("shift"===R||"splice"===R)&&0===re.length&&delete re[0]),yr(this,re)}}),Br(["concat","join","slice"],function(R){var j=v[R];It.prototype[R]=function(){var re=this._wrapped;return null!=re&&(re=j.apply(re,arguments)),yr(this,re)}});const fs=It;var Gi=Ut(Y);Gi._=Gi;const $n=Gi},2403:Le=>{"use strict";Le.exports=JSON.parse('{"name":"jssip","title":"JsSIP","description":"the Javascript SIP library","version":"3.10.1","homepage":"https://jssip.net","contributors":["Jos\xe9 Luis Mill\xe1n <jmillan@aliax.net> (https://github.com/jmillan)","I\xf1aki Baz Castillo <ibc@aliax.net> (https://inakibaz.me)"],"types":"lib/JsSIP.d.ts","main":"lib-es5/JsSIP.js","keywords":["sip","websocket","webrtc","node","browser","library"],"license":"MIT","repository":{"type":"git","url":"https://github.com/versatica/JsSIP.git"},"bugs":{"url":"https://github.com/versatica/JsSIP/issues"},"dependencies":{"@types/events":"^3.0.0","@types/debug":"^4.1.7","debug":"^4.3.1","events":"^3.3.0","sdp-transform":"^2.14.1"},"devDependencies":{"@babel/core":"^7.19.6","@babel/preset-env":"^7.19.4","ansi-colors":"^3.2.4","browserify":"^16.5.1","eslint":"^5.16.0","fancy-log":"^1.3.3","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4","pegjs":"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"scripts":{"lint":"node npm-scripts.js lint","test":"node npm-scripts.js test","prepublish":"node npm-scripts.js prepublish","release":"node npm-scripts.js release"}}')}},Le=>{Le(Le.s=7210)}]);